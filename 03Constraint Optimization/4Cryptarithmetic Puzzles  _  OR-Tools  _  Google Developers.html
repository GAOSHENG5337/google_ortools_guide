<!DOCTYPE html>
<!-- saved from url=(0060)https://developers.google.cn/optimization/cp/cryptarithmetic -->
<html lang="en" class="" ml-update="aware"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" async="" src="./Cryptarithmetic Puzzles  _  OR-Tools  _  Google Developers_files/linkid.js"></script><script async="" src="./Cryptarithmetic Puzzles  _  OR-Tools  _  Google Developers_files/analytics.js"></script><script>var a=window.devsite||{};window.devsite=a;a.readyCallbacks=[];window.devsite.readyCallbacks=a.readyCallbacks;a.ready=function(b){a.readyCallbacks.push(b)};window.devsite.ready=a.ready;
</script><meta name="xsrf_token" content="3LaUWx_TcINgE6LqiW3UZ8K9EM9XFmYVdJeqGUiEFoI6MTU0NzAxNzQ4MDUyNjE1Ng"><link rel="canonical" href="https://developers.google.com/optimization/cp/cryptarithmetic"><link rel="alternate" href="https://developers.google.com/optimization/cp/cryptarithmetic" hreflang="en"><link rel="alternate" href="https://developers.google.cn/optimization/cp/cryptarithmetic" hreflang="en-cn"><link rel="alternate" href="https://developers.google.com/optimization/cp/cryptarithmetic" hreflang="x-default"><link rel="shortcut icon" href="https://developers.google.cn/_static/0ee1984e83/images/favicon.png"><link rel="apple-touch-icon" href="https://developers.google.cn/_static/0ee1984e83/images/touch-icon.png"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="./Cryptarithmetic Puzzles  _  OR-Tools  _  Google Developers_files/css"><link rel="stylesheet" href="./Cryptarithmetic Puzzles  _  OR-Tools  _  Google Developers_files/devsite-google-blue.css"><script src="./Cryptarithmetic Puzzles  _  OR-Tools  _  Google Developers_files/jquery-bundle.js"></script><meta property="og:site_name" content="Google Developers"><meta property="og:type" content="website"><meta property="og:url" content="https://developers.google.com/optimization/cp/cryptarithmetic"><meta property="og:locale" content="en"><script>
    var ___gcfg = ___gcfg || {};
    ___gcfg.lang = 'zh-cn';
  </script><title>Cryptarithmetic Puzzles &nbsp;|&nbsp; OR-Tools
      &nbsp;|&nbsp; Google Developers</title><meta property="og:title" content="Cryptarithmetic Puzzles  |  OR-Tools
       |  Google Developers"></head><body class="devsite-doc-page devsite-header-no-upper-tabs no-touch" data-family="endorsed" id="top_of_page"><div class="devsite-wrapper" style="margin-top: 0px;"><div class="devsite-top-section-wrapper
            "><header class="devsite-top-section nocontent devsite-top-section-pinned"><div class="devsite-top-logo-row-wrapper-wrapper" style="position: relative;"><div class="devsite-top-logo-row-wrapper"><div class="devsite-top-logo-row devsite-full-site-width"><button type="button" class="devsite-expand-section-nav devsite-header-icon-button
                                       button-flat material-icons gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Hamburger menu"></button><div class="devsite-product-name-wrapper"><a class="devsite-product-name-link gc-analytics-event" href="https://developers.google.cn/optimization/" data-category="Site-Wide Custom Events" data-label="Project logo (header)"><img src="./Cryptarithmetic Puzzles  _  OR-Tools  _  Google Developers_files/orLogo.png" class="devsite-product-logo" alt="Google OR-Tools"></a><span class="devsite-product-name"><ul class="devsite-breadcrumb-list"><li class="devsite-breadcrumb-item"><a href="https://developers.google.cn/optimization/" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Upper Header" data-value="1">
    
    
      
        Google OR-Tools
      
    
    
    </a></li></ul></span></div><div class="devsite-header-upper-tabs"></div><form class="devsite-search-form" action="https://developers.google.cn/s/results/" method="GET" id="top-search" search-placeholder="搜索"><div id="searchbox" class="devsite-searchbox"><input placeholder="搜索" type="text" class="devsite-search-field devsite-search-query" name="q" value="" autocomplete="off" aria-label="搜索框"><div class="devsite-search-image material-icons"></div></div><input type="hidden" name="p" id="search_project" value="/optimization/" data-project-name="OR-Tools" data-project-path="/optimization/" data-query-match=""><input type="hidden" class="suggest-project" value="OR-Tools"><div class="suggest-project-metadata" data-home_url="/optimization/" data-path="/optimization/" data-name="OR-Tools"></div><div class="devsite-popout devsite-popout-closed"><div class="devsite-suggest-results" style="display: none;"></div></div></form><a class="devsite-header-link devsite-top-button button gc-analytics-event" href="https://developers.google.cn/products/" data-category="Site-Wide Custom Events" data-label="Site header link" track-type="globalNav" track-name="所有产品" track-metadata-position="nav" track-metadata-eventdetail="nav"><div class="devsite-header-link-icon material-icons">
                  list
                </div><div class="devsite-header-link-label">所有产品</div></a><button type="button" class="devsite-search-button devsite-header-icon-button button-flat
                                       material-icons"></button></div></div></div><div class="devsite-collapsible-section" style="margin-top: 0px;"><div class="devsite-header-background devsite-full-site-width"><div class="devsite-doc-set-nav-row devsite-full-site-width"><nav class="devsite-doc-set-nav devsite-nav devsite-overflow-tabs-scroll-wrapper"><ul class="devsite-doc-set-nav-tab-list devsite-overflow-tabs-scroll" style="min-width: 550px; left: 0px;"><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
                 "><a href="https://developers.google.cn/optimization/" class=" devsite-nav-tab
                  devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Tab: 首页">
          首页
        </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
                 "><a href="https://developers.google.cn/optimization/install" class=" devsite-nav-tab
                  devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Tab: Installation">
          Installation
        </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
                 "><a href="https://developers.google.cn/optimization/introduction/overview" class="devsite-doc-set-nav-active devsite-nav-tab
                  devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event" aria-label="Guides, selected" data-category="Site-Wide Custom Events" data-label="Tab: Guides">
          Guides
        </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
                 "><a href="https://developers.google.cn/optimization/reference" class=" devsite-nav-tab
                  devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Tab: Reference">
          Reference
        </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
                 "><a href="https://developers.google.cn/optimization/support/overview" class=" devsite-nav-tab
                  devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Tab: Support">
          Support
        </a></li></ul><button type="button" class="devsite-overflow-tabs-scroll-button devsite-top-button material-icons devsite-scroll-forward devsite-hidden" aria-label="滚动标签"></button><button type="button" class="devsite-overflow-tabs-scroll-button devsite-top-button material-icons devsite-scroll-back devsite-hidden" aria-label="滚动标签"></button></nav></div></div></div></header><script>
    if (window.jQuery) {
      $(document).ready(function() {
        if (window.devsite && window.devsite.search) {
          
          window.devsite.search.init('zh-cn')
        }
      });
    }
  </script></div><div id="gc-wrapper" itemscope="" itemtype="http://schema.org/Article"><input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {}, &quot;gaid&quot;: &quot;UA-10115507-7&quot;}"><input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;en&quot;, &quot;dimension4&quot;: &quot;OR-Tools&quot;, &quot;dimension5&quot;: &quot;zh-cn&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-24532603-11&quot;}"><script>
      var dataLayer = [{"freeTrialEligibleUser": "False", "userCountry": "CN", "language": {"requested": "zh-cn", "served": "en"}, "projectName": "OR-Tools", "scriptsafe": null, "signedIn": "False", "internalUser": "False"}];
    </script>

      
        <div class="devsite-site-mask"></div>
        
  


<nav class="devsite-nav-responsive devsite-nav nocontent" tabindex="0" style="left: -256px;">
  
  <div class="devsite-nav-responsive-tabs-panel devsite-nav-responsive-transition devsite-nav-responsive-transform" style="display: none;">
    
      



<nav class="devsite-nav-responsive-tabs devsite-nav">
  <ul class="devsite-nav-list">
  

  
    <li class="devsite-nav-item devsite-nav-item-heading">
      
        <a href="https://developers.google.cn/optimization/" class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                  " data-category="Site-Wide Custom Events" data-label="Responsive Tab: 首页"><span>
          首页
        </span></a>
      

      

      

      
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
      
        <a href="https://developers.google.cn/optimization/install?nav=true" class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                  " data-category="Site-Wide Custom Events" data-label="Responsive Tab: Installation"><span>
          Installation
        </span></a>
      

      

      

      
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
      
        <span class="devsite-nav-responsive-forward devsite-nav-responsive-tab devsite-nav-title
                     devsite-nav-active gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Responsive Tab: Guides" tabindex="0"><span>
          Guides
        </span></span>
      

      

      

      
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
      
        <a href="https://developers.google.cn/optimization/reference" class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                  " data-category="Site-Wide Custom Events" data-label="Responsive Tab: Reference"><span>
          Reference
        </span></a>
      

      

      

      
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
      
        <a href="https://developers.google.cn/optimization/support/overview?nav=true" class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                  " data-category="Site-Wide Custom Events" data-label="Responsive Tab: Support"><span>
          Support
        </span></a>
      

      

      

      
    </li>
  

  
    <li class="devsite-nav-item devsite-nav-item-heading">
      <a href="https://developers.google.cn/products/" class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Responsive Tab: all_products"><span>
        所有产品
      </span></a>
    </li>
  
  </ul>
</nav>


    
  </div>
  
  
  <div class="devsite-nav-responsive-sidebar-panel" style="display: block;">
    
    <div class="devsite-nav-responsive-back" tabindex="0"></div>
    
    <nav class="devsite-nav-responsive-sidebar">
      
      
    <ul class="devsite-nav-list devsite-nav-expandable devsite-nav-only-accordions"><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Introduction, click to expand/collapse" role="link" tabindex="0"><span>Introduction</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/overview" class="devsite-nav-title"><span>About Combinatorial Optimization</span></a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Get Started with OR-Tools, click to expand/collapse" role="link" tabindex="0"><span>Get Started with OR-Tools</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="1" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/get_started" class="devsite-nav-title"><span>概览</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/cpp" class="devsite-nav-title"><span>C++</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/python" class="devsite-nav-title"><span>Python</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/java" class="devsite-nav-title"><span>Java</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/cs" class="devsite-nav-title"><span>C#</span></a></li></ul></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Linear Optimization, click to expand/collapse" role="link" tabindex="0"><span>Linear Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp/glop" class="devsite-nav-title"><span>The Glop Linear Solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp/add-on" class="devsite-nav-title"><span>Add-on for Google Sheets</span></a></li><li class="devsite-nav-item devsite-nav-external devsite-nav-has-status"><a href="https://developers.google.cn/apps-script/reference/optimization" class="devsite-nav-title"><span class="devsite-nav-text"><span>Service for Apps Script</span></span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" data-tooltip-align="b,c" data-tooltip="外部" aria-label="外部" data-title="外部"></span></span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Constraint Optimization, click to expand/collapse" role="link" tabindex="0"><span>Constraint Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-expanded material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-expanded"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cp_solver" class="devsite-nav-title"><span>CP-SAT Solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/original_cp_solver" class="devsite-nav-title"><span>Original CP Solver</span></a></li><li class="devsite-nav-item devsite-nav-active"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic" class="devsite-nav-title"><span>Cryptarithmetic</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/queens" class="devsite-nav-title"><span>The N-queens Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cp_tasks" class="devsite-nav-title"><span>Setting Solver Limits</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Integer Optimization, click to expand/collapse" role="link" tabindex="0"><span>Integer Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/integer_opt" class="devsite-nav-title"><span>Mixed-Integer Programming</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/integer_opt_cp" class="devsite-nav-title"><span>CP Approach to Integer Optimization</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/sudoku" class="devsite-nav-title"><span>Sudoku Add-on for Google Sheets</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Routing, click to expand/collapse" role="link" tabindex="0"><span>Routing</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp" class="devsite-nav-title"><span>Traveling Salesman Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/vrp" class="devsite-nav-title"><span>Vehicle Routing Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrp" class="devsite-nav-title"><span>Capacity Constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw" class="devsite-nav-title"><span>Time Window Constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw_resources" class="devsite-nav-title"><span>Resource Constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/penalties" class="devsite-nav-title"><span>Dropping Visits in Infeasible Problems-Penalties</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/routing_tasks" class="devsite-nav-title"><span>Common Vehicle Routing Tasks</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/routing_options" class="devsite-nav-title"><span>Routing Options</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/google_direction" class="devsite-nav-title"><span>Google Direction API</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Bin Packing, click to expand/collapse" role="link" tabindex="0"><span>Bin Packing</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/bin" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/bin/knapsack" class="devsite-nav-title"><span>Knapsacks</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Network Flows, click to expand/collapse" role="link" tabindex="0"><span>Network Flows</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow/maxflow" class="devsite-nav-title"><span>Maximum Flows</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow/mincostflow" class="devsite-nav-title"><span>Minimum Cost Flows</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Assignment, click to expand/collapse" role="link" tabindex="0"><span>Assignment</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/simple_assignment" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_min_cost_flow" class="devsite-nav-title"><span>Assignment as a Min Cost Flow Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_mip" class="devsite-nav-title"><span>Assignment as a MIP Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_cp" class="devsite-nav-title"><span>Assignment with Task Sizes</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_groups" class="devsite-nav-title"><span>Assignment with Allowed Groups</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Scheduling, click to expand/collapse" role="link" tabindex="0"><span>Scheduling</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling/employee_scheduling" class="devsite-nav-title"><span>Employee Scheduling</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling/job_shop" class="devsite-nav-title"><span>The Job Shop Problem</span></a></li></ul></li></ul></nav>
  </div>
  
  
</nav>


        <div class="devsite-main-content clearfix" style="margin-top: 136px;">

        
        

        
  
  
    
    
      
  <nav class="devsite-section-nav devsite-nav nocontent" style="left: auto; max-height: 628px; position: relative; top: 0px;">
    <ul class="devsite-nav-list devsite-nav-expandable devsite-nav-only-accordions"><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Introduction, click to expand/collapse" role="link" tabindex="0"><span>Introduction</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/overview" class="devsite-nav-title"><span>About Combinatorial Optimization</span></a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Get Started with OR-Tools, click to expand/collapse" role="link" tabindex="0"><span>Get Started with OR-Tools</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="1" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/get_started" class="devsite-nav-title"><span>概览</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/cpp" class="devsite-nav-title"><span>C++</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/python" class="devsite-nav-title"><span>Python</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/java" class="devsite-nav-title"><span>Java</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/cs" class="devsite-nav-title"><span>C#</span></a></li></ul></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Linear Optimization, click to expand/collapse" role="link" tabindex="0"><span>Linear Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp/glop" class="devsite-nav-title"><span>The Glop Linear Solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp/add-on" class="devsite-nav-title"><span>Add-on for Google Sheets</span></a></li><li class="devsite-nav-item devsite-nav-external devsite-nav-has-status"><a href="https://developers.google.cn/apps-script/reference/optimization" class="devsite-nav-title"><span class="devsite-nav-text"><span>Service for Apps Script</span></span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" data-tooltip-align="b,c" data-tooltip="外部" aria-label="外部" data-title="外部"></span></span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Constraint Optimization, click to expand/collapse" role="link" tabindex="0"><span>Constraint Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-expanded material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-expanded"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cp_solver" class="devsite-nav-title"><span>CP-SAT Solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/original_cp_solver" class="devsite-nav-title"><span>Original CP Solver</span></a></li><li class="devsite-nav-item devsite-nav-active"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic" class="devsite-nav-title"><span>Cryptarithmetic</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/queens" class="devsite-nav-title"><span>The N-queens Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cp_tasks" class="devsite-nav-title"><span>Setting Solver Limits</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Integer Optimization, click to expand/collapse" role="link" tabindex="0"><span>Integer Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/integer_opt" class="devsite-nav-title"><span>Mixed-Integer Programming</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/integer_opt_cp" class="devsite-nav-title"><span>CP Approach to Integer Optimization</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/sudoku" class="devsite-nav-title"><span>Sudoku Add-on for Google Sheets</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Routing, click to expand/collapse" role="link" tabindex="0"><span>Routing</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp" class="devsite-nav-title"><span>Traveling Salesman Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/vrp" class="devsite-nav-title"><span>Vehicle Routing Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrp" class="devsite-nav-title"><span>Capacity Constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw" class="devsite-nav-title"><span>Time Window Constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw_resources" class="devsite-nav-title"><span>Resource Constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/penalties" class="devsite-nav-title"><span>Dropping Visits in Infeasible Problems-Penalties</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/routing_tasks" class="devsite-nav-title"><span>Common Vehicle Routing Tasks</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/routing_options" class="devsite-nav-title"><span>Routing Options</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/google_direction" class="devsite-nav-title"><span>Google Direction API</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Bin Packing, click to expand/collapse" role="link" tabindex="0"><span>Bin Packing</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/bin" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/bin/knapsack" class="devsite-nav-title"><span>Knapsacks</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Network Flows, click to expand/collapse" role="link" tabindex="0"><span>Network Flows</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow/maxflow" class="devsite-nav-title"><span>Maximum Flows</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow/mincostflow" class="devsite-nav-title"><span>Minimum Cost Flows</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Assignment, click to expand/collapse" role="link" tabindex="0"><span>Assignment</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/simple_assignment" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_min_cost_flow" class="devsite-nav-title"><span>Assignment as a Min Cost Flow Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_mip" class="devsite-nav-title"><span>Assignment as a MIP Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_cp" class="devsite-nav-title"><span>Assignment with Task Sizes</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_groups" class="devsite-nav-title"><span>Assignment with Allowed Groups</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Scheduling, click to expand/collapse" role="link" tabindex="0"><span>Scheduling</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling/employee_scheduling" class="devsite-nav-title"><span>Employee Scheduling</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling/job_shop" class="devsite-nav-title"><span>The Job Shop Problem</span></a></li></ul></li></ul>
  </nav>

    

    
  <nav class="devsite-page-nav devsite-nav" style="position: relative; left: auto; max-height: 628px; top: 0px;"><ul class="devsite-page-nav-list"><li class="devsite-nav-item devsite-nav-item-heading"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic#top_of_page" class="devsite-nav-title"><span>目录</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic#overview" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic#modeling-the-problem" class="devsite-nav-title"><span>Modeling the problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic#implementing-the-solution" class="devsite-nav-title"><span>Implementing the solution</span></a><ul class="devsite-page-nav-list"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic#cp-sat" class="devsite-nav-title"><span>
  CP-SAT</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic#original-cp" class="devsite-nav-title"><span>
Original CP</span></a></li></ul></li></ul></nav>


      <article class="devsite-article">
        <article class="devsite-article-inner">
  
          
  


<div class="devsite-rating-container
            "><div class="devsite-rating-stars"><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="1" data-category="Site-Wide Custom Events" data-label="Star Rating 1" track-metadata-score="1" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="网站内容评分：1 星（最高 5 星）"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="2" data-category="Site-Wide Custom Events" data-label="Star Rating 2" track-metadata-score="2" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="网站内容评分：2 星（最高 5 星）"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="3" data-category="Site-Wide Custom Events" data-label="Star Rating 3" track-metadata-score="3" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="网站内容评分：3 星（最高 5 星）"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="4" data-category="Site-Wide Custom Events" data-label="Star Rating 4" track-metadata-score="4" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="网站内容评分：4 星（最高 5 星）"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="5" data-category="Site-Wide Custom Events" data-label="Star Rating 5" track-metadata-score="5" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="网站内容评分：5 星（最高 5 星）"></div></div><div class="devsite-rating-description"></div><div class="devsite-rating-internal"><span class="devsite-rating-stats"></span></div></div><script>
  $(document).ready(function() {
    devsite.ratings.init(
      document.querySelectorAll('#devsite-feedback-project'), false
      
    );
  });
</script>


  
  <nav class="devsite-breadcrumb-nav devsite-nav">
    


<ul class="devsite-breadcrumb-list">
  
  <li class="devsite-breadcrumb-item">
    
    
    <a href="https://developers.google.cn/products/" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="1">
    
    
      产品
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://developers.google.cn/optimization/" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="2">
    
    
      OR-Tools
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://developers.google.cn/optimization/introduction/overview" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="3">
    
    
      Guides
    
    
    </a>
    
  </li>
  
</ul>

  </nav>
  
  
  <h1 itemprop="name" class="devsite-page-title">
    Cryptarithmetic Puzzles
  </h1>
  
  
  <nav class="devsite-page-nav-embedded devsite-nav"><ul class="devsite-page-nav-list"><li class="devsite-nav-item devsite-nav-item-heading"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic#top_of_page" class="devsite-nav-title"><span>目录</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic#overview" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic#modeling-the-problem" class="devsite-nav-title"><span>Modeling the problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic#implementing-the-solution" class="devsite-nav-title"><span>Implementing the solution</span></a><ul class="devsite-page-nav-list"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic#cp-sat" class="devsite-nav-title"><span>
  CP-SAT</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic#original-cp" class="devsite-nav-title"><span>
Original CP</span></a></li></ul></li></ul></nav>
  
  <div class="devsite-article-body clearfix
            " itemprop="articleBody">
    

<h2 id="overview"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic#top_of_page" class="devsite-back-to-top-link material-icons" data-tooltip-align="b,c" data-tooltip="返回页首" aria-label="返回页首" data-title="返回页首"></a><a name="overview" id="overview"></a>Overview</h2>

<p>A <i>cryptarithmetic puzzle</i> is a mathematical exercise where the
digits of some numbers are represented by letters (or symbols). Each
letter represents a unique digit. The goal is to find the digits such
that a given mathematical equation is verified:</p>

<pre><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div></div>      CP
+     IS
+    FUN
--------
=   TRUE
</pre>

<p>One assignment of letters to digits yields the following
equation:</p>

<pre><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div></div>      23
+     74
+    968
--------
=   1065
</pre>

<p>There are other answers to this problem, and in the <a href="https://developers.google.cn/optimization/cp/cryptarithmetic#cryptarithmetic-cp">Original CP</a> section below we'll use that fact to
demonstrate how to iterate through multiple solutions.</p>

<h2 id="modeling-the-problem"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic#top_of_page" class="devsite-back-to-top-link material-icons" data-tooltip-align="b,c" data-tooltip="返回页首" aria-label="返回页首" data-title="返回页首"></a><a name="modeling" id="modeling"></a>Modeling the problem</h2>

<p>As with any optimization problem, we'll start by identifying
variables and constraints. The variables are the letters, which can
take on any single digit value.</p>

<p>For CP + IS + FUN = TRUE, the constraints are as follows:
</p><ul>
<li>The equation: <i>CP + IS + FUN = TRUE</i>.</li> 
<li>Each of the ten letters must be a different digit.</li>
<li><i>C</i>, <i>I</i>, <i>F</i>, and <i>T</i> can't be zero (since we don't write leading zeros in numbers).</li>
</ul>
<p></p>

<h2 id="implementing-the-solution"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic#top_of_page" class="devsite-back-to-top-link material-icons" data-tooltip-align="b,c" data-tooltip="返回页首" aria-label="返回页首" data-title="返回页首"></a><a name="implementing" id="implementing"></a>Implementing the solution</h2>

<p>You can solve cryptarithmetic problems with two OR-Tools solvers:
the original CP solver, or the newer and more efficient CP-SAT solver. We'll show you both, starting with CP-SAT.</p>

<h3 id="cp-sat"><a name="cryptarithmetic-cp-sat" id="cryptarithmetic-cp-sat"></a>
  CP-SAT</h3>

<p>We'll show a C++ implementation of SEND + MORE = MONEY, which has
only one solution. We'll show the variables, the constraints, the
solver invocation, and finally the entire program.</p>

<h4><a name="variables-cp-sat" id="variables-cp-sat"></a>Defining the variables</h4>

<p>When using the CP-SAT solver, there are certain helper methods it's
useful to define. We'll use two of them, <code>new_variable</code>
and <code>new_boolean_variable</code>, to declare our (integer) digits
and our (boolean) carry bits:</p>

<section class="kd-tabbed-horz ui-datasection-main" id="horzTab"><div class="kd-buttonbar kd-tabbar-horz"><header id="sat_cc_variables" class="kd-tabbutton selected" kd-data-id=":C++ variables" aria-label="C++ variables, selected" role="button" data-ds-scope="code">C++ variables</header><a class="devsite-overflow-menu-button kd-tabbutton " style="display: none;">更多</a></div><article class="selected">

<pre class="prettyprint lang-cc"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; </span><span class="com">// Create variables.</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> s </span><span class="pun">=</span><span class="pln"> new_variable</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> e </span><span class="pun">=</span><span class="pln"> new_variable</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> n </span><span class="pun">=</span><span class="pln"> new_variable</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> d </span><span class="pun">=</span><span class="pln"> new_variable</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="com">// Since m is a leading digit, it can't be 0.</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> m </span><span class="pun">=</span><span class="pln"> new_variable</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> o </span><span class="pun">=</span><span class="pln"> new_variable</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> r </span><span class="pun">=</span><span class="pln"> new_variable</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> y </span><span class="pun">=</span><span class="pln"> new_variable</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Create carry variables. c0 is true if the first column of addends carries</span><span class="pln"><br>&nbsp; </span><span class="com">// a 1, c2 is true if the second column carries a 1, and so on.</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> c0 </span><span class="pun">=</span><span class="pln"> new_boolean_variable</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> c1 </span><span class="pun">=</span><span class="pln"> new_boolean_variable</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> c2 </span><span class="pun">=</span><span class="pln"> new_boolean_variable</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> c3 </span><span class="pun">=</span><span class="pln"> new_boolean_variable</span><span class="pun">();</span><span class="pln"><br></span></pre>
</article></section>

<h4><a name="constraints-cp-sat" id="constraints-cp-sat"></a>Defining the constraints</h4>

<p>Next, constraints. First, we ensure that all letters have different
values, using the <code>add_all_different</code> helper method. Then
we use the <code>add_linear_constraint</code> helper method to create
constraints that enforce the add-and-carry operations.</p>

<section class="kd-tabbed-horz ui-datasection-main" id="horzTab"><div class="kd-buttonbar kd-tabbar-horz"><header id="sat_cc_constraints" class="kd-tabbutton selected" kd-data-id=":C++ constraints" aria-label="C++ constraints, selected" role="button" data-ds-scope="code">C++ constraints</header><a class="devsite-overflow-menu-button kd-tabbutton " style="display: none;">更多</a></div><article class="selected">

<pre class="prettyprint lang-cc"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; </span><span class="com">// Force all letters to take on different values.</span><span class="pln"><br>&nbsp; std</span><span class="pun">::</span><span class="pln">vector</span><span class="str">&lt;int&gt;</span><span class="pln"> vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">s</span><span class="pun">,</span><span class="pln"> e</span><span class="pun">,</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> d</span><span class="pun">,</span><span class="pln"> m</span><span class="pun">,</span><span class="pln"> o</span><span class="pun">,</span><span class="pln"> r</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">};</span><span class="pln"><br>&nbsp; add_all_different</span><span class="pun">(</span><span class="pln">vars</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Column 0: Force c0 - m to be 0.</span><span class="pln"><br>&nbsp; add_linear_constraint</span><span class="pun">({</span><span class="pln">c0</span><span class="pun">,</span><span class="pln"> m</span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">},</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="com">// Column 1: Force c1 + s + m + o - 10*c0 to be 0.</span><span class="pln"><br>&nbsp; add_linear_constraint</span><span class="pun">({</span><span class="pln">c1</span><span class="pun">,</span><span class="pln"> s</span><span class="pun">,</span><span class="pln"> m</span><span class="pun">,</span><span class="pln"> o</span><span class="pun">,</span><span class="pln"> c0</span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">10</span><span class="pun">},</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="com">// Column 2: Force c2 + e + o - n - 10*c1 to be 0.</span><span class="pln"><br>&nbsp; add_linear_constraint</span><span class="pun">({</span><span class="pln">c2</span><span class="pun">,</span><span class="pln"> e</span><span class="pun">,</span><span class="pln"> o</span><span class="pun">,</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> c1</span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">10</span><span class="pun">},</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="com">// Column 3: Force c3 + n + r - e - 10*c2 to be 0.</span><span class="pln"><br>&nbsp; add_linear_constraint</span><span class="pun">({</span><span class="pln">c3</span><span class="pun">,</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> r</span><span class="pun">,</span><span class="pln"> e</span><span class="pun">,</span><span class="pln"> c2</span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">10</span><span class="pun">},</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="com">// Column 4: Force d + e - y - 10*c3 to be 0.</span><span class="pln"><br>&nbsp; add_linear_constraint</span><span class="pun">({</span><span class="pln">d</span><span class="pun">,</span><span class="pln"> e</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> c3</span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">10</span><span class="pun">},</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span></pre>
</article></section>

<h4><a name="solver-cp-sat" id="solver-cp-sat"></a>Invoking the solver</h4>

<p>Finally we solve the problem and display the solution. All the
magic is in
the <a href="https://github.com/google/or-tools/blob/master/ortools/sat/cp_model_solver.h">operations_research::sat::SolveCpModel()</a>
method.</p>

<section class="kd-tabbed-horz ui-datasection-main" id="horzTab"><div class="kd-buttonbar kd-tabbar-horz"><header id="sat_cc_solve" class="kd-tabbutton selected" kd-data-id=":C++ solve" aria-label="C++ solve, selected" role="button" data-ds-scope="code">C++ solve</header><a class="devsite-overflow-menu-button kd-tabbutton " style="display: none;">更多</a></div><article class="selected">

<pre class="prettyprint lang-cc"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; </span><span class="com">// Declare the model, solve it, and display the results.</span><span class="pln"><br>&nbsp; </span><span class="typ">Model</span><span class="pln"> model</span><span class="pun">;</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="typ">CpModelStats</span><span class="pun">(</span><span class="pln">cp_model</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> operations_research</span><span class="pun">::</span><span class="pln">sat</span><span class="pun">::</span><span class="typ">CpSolverResponse</span><span class="pln"> response </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; operations_research</span><span class="pun">::</span><span class="pln">sat</span><span class="pun">::</span><span class="typ">SolveCpModel</span><span class="pun">(</span><span class="pln">cp_model</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">model</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="typ">CpSolverResponseStats</span><span class="pun">(</span><span class="pln">response</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"s: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">solution</span><span class="pun">(</span><span class="pln">s</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"e: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">solution</span><span class="pun">(</span><span class="pln">e</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"n: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">solution</span><span class="pun">(</span><span class="pln">n</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"d: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">solution</span><span class="pun">(</span><span class="pln">d</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"m: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">solution</span><span class="pun">(</span><span class="pln">m</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"o: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">solution</span><span class="pun">(</span><span class="pln">o</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"r: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">solution</span><span class="pun">(</span><span class="pln">r</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"y: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">solution</span><span class="pun">(</span><span class="pln">y</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span></pre>
</article></section>

<h4><a name="program-cp-sat" id="program-cp-sat"></a>Complete program</h4>

<section class="kd-tabbed-horz ui-datasection-main" id="horzTab"><div class="kd-buttonbar kd-tabbar-horz"><header id="sat_cc_program" class="kd-tabbutton selected" kd-data-id=":C++ program" aria-label="C++ program, selected" role="button" data-ds-scope="code">C++ program</header><a class="devsite-overflow-menu-button kd-tabbutton " style="display: none;">更多</a></div><article class="selected">

<pre class="prettyprint lang-cc"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="com">// Use CP-SAT to solve a simple cryptarithmetic problem: SEND+MORE=MONEY.</span><span class="pln"><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">"util/operations_research/sat/all_different.h"</span><span class="pln"><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">"util/operations_research/sat/cp_model.proto.h"</span><span class="pln"><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">"util/operations_research/sat/cp_model_solver.h"</span><span class="pln"><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">"util/operations_research/sat/cp_model_utils.h"</span><span class="pln"><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">"util/operations_research/sat/model.h"</span><span class="pln"><br><br></span><span class="kwd">namespace</span><span class="pln"> operations_research </span><span class="pun">{</span><span class="pln"><br></span><span class="kwd">namespace</span><span class="pln"> sat </span><span class="pun">{</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> </span><span class="typ">SendMoreMoney</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="typ">CpModelProto</span><span class="pln"> cp_model</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; </span><span class="com">// First, define four helper methods that will be used to create our</span><span class="pln"><br>&nbsp; </span><span class="com">// variables and constraints. You may find them useful for your own programs.</span><span class="pln"><br>&nbsp; </span><span class="kwd">auto</span><span class="pln"> add_linear_constraint </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[&amp;</span><span class="pln">cp_model</span><span class="pun">](</span><span class="kwd">const</span><span class="pln"> std</span><span class="pun">::</span><span class="pln">vector</span><span class="str">&lt;int&gt;</span><span class="pun">&amp;</span><span class="pln"> vars</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="kwd">const</span><span class="pln"> std</span><span class="pun">::</span><span class="pln">vector</span><span class="str">&lt;int64&gt;</span><span class="pun">&amp;</span><span class="pln"> coeffs</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;int64 lb</span><span class="pun">,</span><span class="pln"> int64 ub</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">LinearConstraintProto</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> lin </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; cp_model</span><span class="pun">.</span><span class="pln">add_constraints</span><span class="pun">()-&gt;</span><span class="pln">mutable_linear</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> v </span><span class="pun">:</span><span class="pln"> vars</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; lin</span><span class="pun">-&gt;</span><span class="pln">add_vars</span><span class="pun">(</span><span class="pln">v</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> int64 c </span><span class="pun">:</span><span class="pln"> coeffs</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; lin</span><span class="pun">-&gt;</span><span class="pln">add_coeffs</span><span class="pun">(</span><span class="pln">c</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; lin</span><span class="pun">-&gt;</span><span class="pln">add_domain</span><span class="pun">(</span><span class="pln">lb</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; lin</span><span class="pun">-&gt;</span><span class="pln">add_domain</span><span class="pun">(</span><span class="pln">ub</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">};</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">auto</span><span class="pln"> new_variable </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[&amp;</span><span class="pln">cp_model</span><span class="pun">](</span><span class="pln">int64 lb</span><span class="pun">,</span><span class="pln"> int64 ub</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; CHECK_LE</span><span class="pun">(</span><span class="pln">lb</span><span class="pun">,</span><span class="pln"> ub</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> index </span><span class="pun">=</span><span class="pln"> cp_model</span><span class="pun">.</span><span class="pln">variables_size</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">IntegerVariableProto</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> var </span><span class="pun">=</span><span class="pln"> cp_model</span><span class="pun">.</span><span class="pln">add_variables</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; var</span><span class="pun">-&gt;</span><span class="pln">add_domain</span><span class="pun">(</span><span class="pln">lb</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; var</span><span class="pun">-&gt;</span><span class="pln">add_domain</span><span class="pun">(</span><span class="pln">ub</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> index</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">};</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">auto</span><span class="pln"> new_boolean_variable </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[&amp;</span><span class="pln">new_variable</span><span class="pun">]()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> new_variable</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"> </span><span class="pun">};</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">auto</span><span class="pln"> add_all_different </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[&amp;</span><span class="pln">cp_model</span><span class="pun">](</span><span class="kwd">const</span><span class="pln"> std</span><span class="pun">::</span><span class="pln">vector</span><span class="str">&lt;int&gt;</span><span class="pun">&amp;</span><span class="pln"> vars</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">AllDifferentConstraintProto</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> alldiff </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; cp_model</span><span class="pun">.</span><span class="pln">add_constraints</span><span class="pun">()-&gt;</span><span class="pln">mutable_all_diff</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> v </span><span class="pun">:</span><span class="pln"> vars</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; alldiff</span><span class="pun">-&gt;</span><span class="pln">add_vars</span><span class="pun">(</span><span class="pln">v</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="pun">};</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Create variables.</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> s </span><span class="pun">=</span><span class="pln"> new_variable</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> e </span><span class="pun">=</span><span class="pln"> new_variable</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> n </span><span class="pun">=</span><span class="pln"> new_variable</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> d </span><span class="pun">=</span><span class="pln"> new_variable</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="com">// Since m is a leading digit, it can't be 0.</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> m </span><span class="pun">=</span><span class="pln"> new_variable</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> o </span><span class="pun">=</span><span class="pln"> new_variable</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> r </span><span class="pun">=</span><span class="pln"> new_variable</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> y </span><span class="pun">=</span><span class="pln"> new_variable</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Create carry variables. c0 is true if the first column of addends carries</span><span class="pln"><br>&nbsp; </span><span class="com">// a 1, c2 is true if the second column carries a 1, and so on.</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> c0 </span><span class="pun">=</span><span class="pln"> new_boolean_variable</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> c1 </span><span class="pun">=</span><span class="pln"> new_boolean_variable</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> c2 </span><span class="pun">=</span><span class="pln"> new_boolean_variable</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> c3 </span><span class="pun">=</span><span class="pln"> new_boolean_variable</span><span class="pun">();</span><span class="pln"><br><br><br>&nbsp; </span><span class="com">// Force all letters to take on different values.</span><span class="pln"><br>&nbsp; std</span><span class="pun">::</span><span class="pln">vector</span><span class="str">&lt;int&gt;</span><span class="pln"> vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">s</span><span class="pun">,</span><span class="pln"> e</span><span class="pun">,</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> d</span><span class="pun">,</span><span class="pln"> m</span><span class="pun">,</span><span class="pln"> o</span><span class="pun">,</span><span class="pln"> r</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">};</span><span class="pln"><br>&nbsp; add_all_different</span><span class="pun">(</span><span class="pln">vars</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Column 0: Force c0 - m to be 0.</span><span class="pln"><br>&nbsp; add_linear_constraint</span><span class="pun">({</span><span class="pln">c0</span><span class="pun">,</span><span class="pln"> m</span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">},</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="com">// Column 1: Force c1 + s + m + o - 10*c0 to be 0.</span><span class="pln"><br>&nbsp; add_linear_constraint</span><span class="pun">({</span><span class="pln">c1</span><span class="pun">,</span><span class="pln"> s</span><span class="pun">,</span><span class="pln"> m</span><span class="pun">,</span><span class="pln"> o</span><span class="pun">,</span><span class="pln"> c0</span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">10</span><span class="pun">},</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="com">// Column 2: Force c2 + e + o - n - 10*c1 to be 0.</span><span class="pln"><br>&nbsp; add_linear_constraint</span><span class="pun">({</span><span class="pln">c2</span><span class="pun">,</span><span class="pln"> e</span><span class="pun">,</span><span class="pln"> o</span><span class="pun">,</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> c1</span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">10</span><span class="pun">},</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="com">// Column 3: Force c3 + n + r - e - 10*c2 to be 0.</span><span class="pln"><br>&nbsp; add_linear_constraint</span><span class="pun">({</span><span class="pln">c3</span><span class="pun">,</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> r</span><span class="pun">,</span><span class="pln"> e</span><span class="pun">,</span><span class="pln"> c2</span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">10</span><span class="pun">},</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="com">// Column 4: Force d + e - y - 10*c3 to be 0.</span><span class="pln"><br>&nbsp; add_linear_constraint</span><span class="pun">({</span><span class="pln">d</span><span class="pun">,</span><span class="pln"> e</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> c3</span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">10</span><span class="pun">},</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Declare the model, solve it, and display the results.</span><span class="pln"><br>&nbsp; </span><span class="typ">Model</span><span class="pln"> model</span><span class="pun">;</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="typ">CpModelStats</span><span class="pun">(</span><span class="pln">cp_model</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> operations_research</span><span class="pun">::</span><span class="pln">sat</span><span class="pun">::</span><span class="typ">CpSolverResponse</span><span class="pln"> response </span><span class="pun">=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; operations_research</span><span class="pun">::</span><span class="pln">sat</span><span class="pun">::</span><span class="typ">SolveCpModel</span><span class="pun">(</span><span class="pln">cp_model</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">model</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="typ">CpSolverResponseStats</span><span class="pun">(</span><span class="pln">response</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"s: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">solution</span><span class="pun">(</span><span class="pln">s</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"e: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">solution</span><span class="pun">(</span><span class="pln">e</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"n: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">solution</span><span class="pun">(</span><span class="pln">n</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"d: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">solution</span><span class="pun">(</span><span class="pln">d</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"m: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">solution</span><span class="pun">(</span><span class="pln">m</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"o: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">solution</span><span class="pun">(</span><span class="pln">o</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"r: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">solution</span><span class="pun">(</span><span class="pln">r</span><span class="pun">);</span><span class="pln"><br>&nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"y: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> response</span><span class="pun">.</span><span class="pln">solution</span><span class="pun">(</span><span class="pln">y</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="pun">}</span><span class="pln"> &nbsp;</span><span class="com">// namespace sat</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"> &nbsp;</span><span class="com">// namespace operations_research</span><span class="pln"><br><br></span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; operations_research</span><span class="pun">::</span><span class="pln">sat</span><span class="pun">::</span><span class="typ">SendMoreMoney</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> EXIT_SUCCESS</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span></pre>
</article></section>

<h3 id="original-cp"><a name="cryptarithmetic-cp" id="cryptarithmetic-cp"></a>
Original CP</h3>

<p>We'll walk through the implementation of CP + IS + FUN = TRUE in three
languages: Python, C++, and C#. With each, we'll show you the
variables, the constraints, the solver invocation, and finally the
entire program.</p>

<p>Typical cryptarithmetic puzzles assume base 10, but in our solution
we'll treat the base as a variable, just in case we want to solve our
equation for higher bases. (There can be no lower base solutions for
<i>CP + IS + FUN = TRUE</i> since the ten letters must all be
different.)</p>

<h4><a name="variables" id="variables"></a>Defining the variables</h4>

<p>Whatever language you choose, the first step is to create
an <code>IntVar</code> for each letter. We distinguish between the
letters that can potentially be zero and those that can't (C, I, F,
and T).</p>

<p>Next, we create an array containing a new <code>IntVar</code> for
each letter. This is only necessary because when we define our
constraints, we're going to use <code>AllDifferent</code>, so we need
some array for which every element needs to differ.</p>

<p>Finally, we verify that our base is at least as large as the number
of letters; otherwise, there's no solution.</p>





<section class="kd-tabbed-horz ui-datasection-main" id="horzTab"><div class="kd-buttonbar kd-tabbar-horz"><header id="py_variables" class="kd-tabbutton selected" kd-data-id=":Python variables" aria-label="Python variables, selected" role="button" data-ds-scope="code">Python variables</header><header id="cc_variables" class="kd-tabbutton" kd-data-id=":C++ variables" aria-label="C++ variables" role="button" data-ds-scope="code">C++ variables</header><header id="cs_variables" class="kd-tabbutton" kd-data-id=":C# variables" aria-label="C# variables" role="button" data-ds-scope="code">C# variables</header><a class="devsite-overflow-menu-button kd-tabbutton" style="display: none;">更多</a></div><article class="selected">

<pre class="prettyprint lang-py"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; </span><span class="com"># Decision variables.</span><span class="pln"><br>&nbsp; digits </span><span class="pun">=</span><span class="pln"> range</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase</span><span class="pun">)</span><span class="pln"><br>&nbsp; digits_without_zero </span><span class="pun">=</span><span class="pln"> range</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase</span><span class="pun">)</span><span class="pln"><br><br>&nbsp; c </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits_without_zero</span><span class="pun">,</span><span class="pln"> </span><span class="str">'C'</span><span class="pun">);</span><span class="pln"><br>&nbsp; p </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits</span><span class="pun">,</span><span class="pln"> </span><span class="str">'P'</span><span class="pun">);</span><span class="pln"><br>&nbsp; i </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits_without_zero</span><span class="pun">,</span><span class="pln"> </span><span class="str">'I'</span><span class="pun">);</span><span class="pln"><br>&nbsp; s </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits</span><span class="pun">,</span><span class="pln"> </span><span class="str">'S'</span><span class="pun">);</span><span class="pln"><br>&nbsp; f </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits_without_zero</span><span class="pun">,</span><span class="pln"> </span><span class="str">'F'</span><span class="pun">);</span><span class="pln"><br>&nbsp; u </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits</span><span class="pun">,</span><span class="pln"> </span><span class="str">'U'</span><span class="pun">);</span><span class="pln"><br>&nbsp; n </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits</span><span class="pun">,</span><span class="pln"> </span><span class="str">'N'</span><span class="pun">);</span><span class="pln"><br>&nbsp; t </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits_without_zero</span><span class="pun">,</span><span class="pln"> </span><span class="str">'T'</span><span class="pun">);</span><span class="pln"><br>&nbsp; r </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits</span><span class="pun">,</span><span class="pln"> </span><span class="str">'R'</span><span class="pun">);</span><span class="pln"><br>&nbsp; e </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits</span><span class="pun">,</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="com"># We need to group variables in a list to use the constraint AllDifferent.</span><span class="pln"><br>&nbsp; letters </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">c</span><span class="pun">,</span><span class="pln"> p</span><span class="pun">,</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> s</span><span class="pun">,</span><span class="pln"> f</span><span class="pun">,</span><span class="pln"> u</span><span class="pun">,</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> t</span><span class="pun">,</span><span class="pln"> r</span><span class="pun">,</span><span class="pln"> e</span><span class="pun">]</span><span class="pln"><br>&nbsp; <br>&nbsp; </span><span class="com"># Verify that we have enough digits.</span><span class="pln"><br>&nbsp; </span><span class="kwd">assert</span><span class="pln"> kBase </span><span class="pun">&gt;=</span><span class="pln"> len</span><span class="pun">(</span><span class="pln">letters</span><span class="pun">)</span></pre>
</article><article>

<pre class="prettyprint lang-cc"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; </span><span class="com">// Define decision variables.</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> c </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"C"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> p </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"P"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"I"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> s </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"S"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> f </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"F"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> u </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"U"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> n </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"N"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> t </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"T"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> r </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"R"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> e </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"E"</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="com">// We need to group variables in a vector to be able to use</span><span class="pln"><br>&nbsp; </span><span class="com">// the global constraint AllDifferent</span><span class="pln"><br>&nbsp; std</span><span class="pun">::</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="typ">IntVar</span><span class="pun">*&gt;</span><span class="pln"> letters</span><span class="pun">;</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">c</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">p</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">s</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">f</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">u</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">n</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">t</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">r</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">e</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Check if we have enough digits</span><span class="pln"><br>&nbsp; CHECK_GE</span><span class="pun">(</span><span class="pln">kBase</span><span class="pun">,</span><span class="pln"> letters</span><span class="pun">.</span><span class="pln">size</span><span class="pun">());</span></pre>
</article><article>

<pre class="prettyprint lang-cs"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Decision variables.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> c </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"C"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> p </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"P"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"I"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> s </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"S"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> f </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"F"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> u </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"U"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> n </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"N"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> t </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"T"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> r </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"R"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> e </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"E"</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Group variables in a vector so that we can use AllDifferent.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pun">[]</span><span class="pln"> letters </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">IntVar</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> p</span><span class="pun">,</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> s</span><span class="pun">,</span><span class="pln"> f</span><span class="pun">,</span><span class="pln"> u</span><span class="pun">,</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> t</span><span class="pun">,</span><span class="pln"> r</span><span class="pun">,</span><span class="pln"> e</span><span class="pun">};</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Verify that we have enough digits.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">kBase </span><span class="pun">&lt;</span><span class="pln"> letters</span><span class="pun">.</span><span class="typ">Length</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Exception</span><span class="pun">(</span><span class="str">"kBase &lt; letters.Length"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span></pre>
</article></section>

<h4><a name="constraints" id="constraints"></a>Defining the constraints</h4>

<p>Now that we've defined our variables, the next step is to define
constraints. First, we add the <code>AllDifferent</code> constraint,
forcing each letter to have a different digit.</p>

<p>Next, we add the <i>CP + IS + FUN = TRUE</i> constraint. The sample
programs do this in different ways.</p>





<section class="kd-tabbed-horz ui-datasection-main" id="horzTab"><div class="kd-buttonbar kd-tabbar-horz"><header id="py_constraints" class="kd-tabbutton selected" kd-data-id=":Python constraints" aria-label="Python constraints, selected" role="button" data-ds-scope="code">Python constraints</header><header id="cc_constraints" class="kd-tabbutton" kd-data-id=":C++ constraints" aria-label="C++ constraints" role="button" data-ds-scope="code">C++ constraints</header><header id="cs_constraints" class="kd-tabbutton" kd-data-id=":C# constraints" aria-label="C# constraints" role="button" data-ds-scope="code">C# constraints</header><a class="devsite-overflow-menu-button kd-tabbutton" style="display: none;">更多</a></div><article class="selected">

<pre class="prettyprint lang-py"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; </span><span class="com"># Define constraints.</span><span class="pln"><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">Add</span><span class="pun">(</span><span class="pln">solver</span><span class="pun">.</span><span class="typ">AllDifferent</span><span class="pun">(</span><span class="pln">letters</span><span class="pun">))</span><span class="pln"><br>&nbsp; <br>&nbsp; </span><span class="com"># CP + IS + FUN = TRUE</span><span class="pln"><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">Add</span><span class="pln"> </span><span class="pun">(</span><span class="pln">p </span><span class="pun">+</span><span class="pln"> s </span><span class="pun">+</span><span class="pln"> n </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">+</span><span class="pln"> i </span><span class="pun">+</span><span class="pln"> u</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> f </span><span class="pun">==</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> u </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> r </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> t</span><span class="pun">)</span></pre>
</article><article>

<pre class="prettyprint lang-cc"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; </span><span class="com">// Define constraints.</span><span class="pln"><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">AddConstraint</span><span class="pun">(</span><span class="pln">solver</span><span class="pun">.</span><span class="typ">MakeAllDifferent</span><span class="pun">(</span><span class="pln">letters</span><span class="pun">));</span><span class="pln"><br><br>&nbsp; </span><span class="com">// CP + IS + FUN = TRUE</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> term1 </span><span class="pun">=</span><span class="pln"> </span><span class="typ">MakeBaseLine2</span><span class="pun">(&amp;</span><span class="pln">solver</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> p</span><span class="pun">,</span><span class="pln"> kBase</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> term2 </span><span class="pun">=</span><span class="pln"> </span><span class="typ">MakeBaseLine2</span><span class="pun">(&amp;</span><span class="pln">solver</span><span class="pun">,</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> s</span><span class="pun">,</span><span class="pln"> kBase</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> term3 </span><span class="pun">=</span><span class="pln"> </span><span class="typ">MakeBaseLine3</span><span class="pun">(&amp;</span><span class="pln">solver</span><span class="pun">,</span><span class="pln"> f</span><span class="pun">,</span><span class="pln"> u</span><span class="pun">,</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> kBase</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> sum_terms </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeSum</span><span class="pun">(</span><span class="pln">solver</span><span class="pun">.</span><span class="typ">MakeSum</span><span class="pun">(</span><span class="pln">term1</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; term2</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;term3</span><span class="pun">)-&gt;</span><span class="typ">Var</span><span class="pun">();</span><span class="pln"><br><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> sum &nbsp; </span><span class="pun">=</span><span class="pln"> </span><span class="typ">MakeBaseLine4</span><span class="pun">(&amp;</span><span class="pln">solver</span><span class="pun">,</span><span class="pln"> t</span><span class="pun">,</span><span class="pln"> r</span><span class="pun">,</span><span class="pln"> u</span><span class="pun">,</span><span class="pln"> e</span><span class="pun">,</span><span class="pln"> kBase</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">AddConstraint</span><span class="pun">(</span><span class="pln">solver</span><span class="pun">.</span><span class="typ">MakeEquality</span><span class="pun">(</span><span class="pln">sum_terms</span><span class="pun">,</span><span class="pln"> sum</span><span class="pun">));</span></pre>
</article><article>

<pre class="prettyprint lang-cs"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Define constraints.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; solver</span><span class="pun">.</span><span class="typ">Add</span><span class="pln"> </span><span class="pun">(</span><span class="pln">letters</span><span class="pun">.</span><span class="typ">AllDifferent</span><span class="pln"> </span><span class="pun">());</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// CP + IS + FUN = TRUE</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; solver</span><span class="pun">.</span><span class="typ">Add</span><span class="pln"> </span><span class="pun">(</span><span class="pln">p </span><span class="pun">+</span><span class="pln"> s </span><span class="pun">+</span><span class="pln"> n </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">+</span><span class="pln"> i </span><span class="pun">+</span><span class="pln"> u</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> f </span><span class="pun">==</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;e </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> u </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> r </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> t</span><span class="pun">);</span></pre>
</article></section>

<h4><a name="solver" id="solver"></a>Invoking the solver</h4>

<p>Now that we have our variables and constraints, we're ready to
solve. In Python, we call <code>solver.Phase</code> with our array of
letters, and call <code>solver.NewSearch</code>.
</p>





<section class="kd-tabbed-horz ui-datasection-main" id="horzTab"><div class="kd-buttonbar kd-tabbar-horz"><header id="py_solve" class="kd-tabbutton selected" kd-data-id=":Python solver" aria-label="Python solver, selected" role="button" data-ds-scope="code">Python solver</header><header id="cc_solve" class="kd-tabbutton" kd-data-id=":C++ solver" aria-label="C++ solver" role="button" data-ds-scope="code">C++ solver</header><header id="cs_solve" class="kd-tabbutton" kd-data-id=":C# solver" aria-label="C# solver" role="button" data-ds-scope="code">C# solver</header><a class="devsite-overflow-menu-button kd-tabbutton" style="display: none;">更多</a></div><article class="selelcted selected">

<pre class="prettyprint lang-py"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; db </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">Phase</span><span class="pun">(</span><span class="pln">letters</span><span class="pun">,</span><span class="pln"> solver</span><span class="pun">.</span><span class="pln">INT_VAR_DEFAULT</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;solver</span><span class="pun">.</span><span class="pln">INT_VALUE_DEFAULT</span><span class="pun">)</span><span class="pln"><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">NewSearch</span><span class="pun">(</span><span class="pln">db</span><span class="pun">)</span><span class="pln"><br>&nbsp; <br>&nbsp; </span><span class="kwd">while</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">NextSolution</span><span class="pun">():</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">print</span><span class="pln"> letters<br>&nbsp; &nbsp; </span><span class="com"># Is CP + IS + FUN = TRUE?</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">assert</span><span class="pln"> </span><span class="pun">(</span><span class="pln">kBase</span><span class="pun">*</span><span class="pln">c</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> &nbsp;p</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> kBase</span><span class="pun">*</span><span class="pln">i</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> s</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kBase</span><span class="pun">*</span><span class="pln">kBase</span><span class="pun">*</span><span class="pln">f</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> kBase</span><span class="pun">*</span><span class="pln">u</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> n</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kBase</span><span class="pun">*</span><span class="pln">kBase</span><span class="pun">*</span><span class="pln">kBase</span><span class="pun">*</span><span class="pln">t</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> kBase</span><span class="pun">*</span><span class="pln">kBase</span><span class="pun">*</span><span class="pln">r</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kBase</span><span class="pun">*</span><span class="pln">u</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> e</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">())</span><span class="pln"> <br>&nbsp; <br>&nbsp; solver</span><span class="pun">.</span><span class="typ">EndSearch</span><span class="pun">()</span></pre>
</article><article>

<pre class="prettyprint lang-cc"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; </span><span class="com">// Create decision builder to search for solutions.</span><span class="pln"><br>&nbsp; </span><span class="typ">DecisionBuilder</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> db </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakePhase</span><span class="pun">(</span><span class="pln">letters</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">Solver</span><span class="pun">::</span><span class="pln">CHOOSE_FIRST_UNBOUND</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">Solver</span><span class="pun">::</span><span class="pln">ASSIGN_MIN_VALUE</span><span class="pun">);</span><span class="pln"><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">NewSearch</span><span class="pun">(</span><span class="pln">db</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">solver</span><span class="pun">.</span><span class="typ">NextSolution</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"C="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> c</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"P="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> p</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"I="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> i</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"S="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> s</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"F="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> f</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"U="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> u</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"N="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> n</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"T="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> t</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"R="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> r</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"E="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> e</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">();</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Is CP + IS + FUN = TRUE?</span><span class="pln"><br>&nbsp; CHECK_EQ</span><span class="pun">(</span><span class="pln">p</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> s</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> n</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kBase </span><span class="pun">*</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> i</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> u</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">())</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> f</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">(),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;e</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kBase </span><span class="pun">*</span><span class="pln"> u</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> r</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> t</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">());</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">EndSearch</span><span class="pun">();</span><span class="pln"><br></span><span class="pun">}</span></pre>
</article><article>

<pre class="prettyprint lang-cs"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Create the decision builder to search for solutions.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">DecisionBuilder</span><span class="pln"> db </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakePhase</span><span class="pln"> </span><span class="pun">(</span><span class="pln">letters</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">Solver</span><span class="pun">.</span><span class="pln">CHOOSE_FIRST_UNBOUND</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">Solver</span><span class="pun">.</span><span class="pln">ASSIGN_MIN_VALUE</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; solver</span><span class="pun">.</span><span class="typ">NewSearch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">db</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">solver</span><span class="pun">.</span><span class="typ">NextSolution</span><span class="pln"> </span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">Write</span><span class="pln"> </span><span class="pun">(</span><span class="str">"C="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> c</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">" P="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> p</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">Write</span><span class="pln"> </span><span class="pun">(</span><span class="str">" I="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> i</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">" S="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> s</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">Write</span><span class="pln"> </span><span class="pun">(</span><span class="str">" F="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> f</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">" U="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> u</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">Write</span><span class="pln"> </span><span class="pun">(</span><span class="str">" N="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> n</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">" T="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> t</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">Write</span><span class="pln"> </span><span class="pun">(</span><span class="str">" R="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> r</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">" E="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> e</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pln"> </span><span class="pun">();</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Is CP + IS + FUN = TRUE?</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">p</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> s</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> n</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kBase </span><span class="pun">*</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> i</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> u</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">())</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> f</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> u</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> r</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> t</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Exception</span><span class="pun">(</span><span class="str">"CP + IS + FUN != TRUE"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; solver</span><span class="pun">.</span><span class="typ">EndSearch</span><span class="pln"> </span><span class="pun">();</span></pre>
</article></section>

<p>Because there's more than one solution to our problem, we iterate
through the solutions with a<code> while
solver.NextSolution() </code>loop. If we were just trying to find a
single solution, we'd use this idiom:</p>

<pre><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div></div>if (solver.NextSolution()) {
    // Print solution.
} else {
    // Print that no solution could be found.
}
</pre>

<h4><a name="program" id="program"></a>Complete programs</h4>





<section class="kd-tabbed-horz ui-datasection-main" id="horzTab"><div class="kd-buttonbar kd-tabbar-horz"><header id="py_program" class="kd-tabbutton selected" kd-data-id=":Python program" aria-label="Python program, selected" role="button" data-ds-scope="code">Python program</header><header id="cc_program" class="kd-tabbutton" kd-data-id=":C++ program" aria-label="C++ program" role="button" data-ds-scope="code">C++ program</header><header id="cs_program" class="kd-tabbutton" kd-data-id=":C# program" aria-label="C# program" role="button" data-ds-scope="code">C# program</header><a class="devsite-overflow-menu-button kd-tabbutton" style="display: none;">更多</a></div><article class="selected">

<pre class="prettyprint lang-py"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="com"># Copyright 2010-2011 Google</span><span class="pln"><br></span><span class="com"># Licensed under the Apache License, Version 2.0 (the "License");</span><span class="pln"><br></span><span class="com"># you may not use this file except in compliance with the License.</span><span class="pln"><br></span><span class="com"># You may obtain a copy of the License at</span><span class="pln"><br></span><span class="com">#</span><span class="pln"><br></span><span class="com"># &nbsp; &nbsp; http://www.apache.org/licenses/LICENSE-2.0</span><span class="pln"><br></span><span class="com">#</span><span class="pln"><br></span><span class="com"># Unless required by applicable law or agreed to in writing, software</span><span class="pln"><br></span><span class="com"># distributed under the License is distributed on an "AS IS" BASIS,</span><span class="pln"><br></span><span class="com"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><span class="pln"><br></span><span class="com"># See the License for the specific language governing permissions and</span><span class="pln"><br></span><span class="com"># limitations under the License.</span><span class="pln"><br><br></span><span class="str">"""<br>Cryptarithmetic puzzle<br><br>First attempt to solve equation CP + IS + FUN = TRUE<br>where each letter represents a unique digit.<br><br>This problem has 72 different solutions in base 10.<br>"""</span><span class="pln"><br><br></span><span class="kwd">from</span><span class="pln"> ortools</span><span class="pun">.</span><span class="pln">constraint_solver </span><span class="kwd">import</span><span class="pln"> pywrapcp<br></span><span class="kwd">from</span><span class="pln"> os </span><span class="kwd">import</span><span class="pln"> abort<br><br></span><span class="kwd">def</span><span class="pln"> </span><span class="typ">CPIsFun</span><span class="pun">():</span><span class="pln"><br>&nbsp; </span><span class="com"># Constraint programming engine</span><span class="pln"><br>&nbsp; solver </span><span class="pun">=</span><span class="pln"> pywrapcp</span><span class="pun">.</span><span class="typ">Solver</span><span class="pun">(</span><span class="str">'CP is fun!'</span><span class="pun">);</span><span class="pln"><br>&nbsp; <br>&nbsp; kBase </span><span class="pun">=</span><span class="pln"> </span><span class="lit">10</span><span class="pln"><br>&nbsp; <br>&nbsp; </span><span class="com"># Decision variables.</span><span class="pln"><br>&nbsp; digits </span><span class="pun">=</span><span class="pln"> range</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase</span><span class="pun">)</span><span class="pln"><br>&nbsp; digits_without_zero </span><span class="pun">=</span><span class="pln"> range</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase</span><span class="pun">)</span><span class="pln"><br><br>&nbsp; c </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits_without_zero</span><span class="pun">,</span><span class="pln"> </span><span class="str">'C'</span><span class="pun">);</span><span class="pln"><br>&nbsp; p </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits</span><span class="pun">,</span><span class="pln"> </span><span class="str">'P'</span><span class="pun">);</span><span class="pln"><br>&nbsp; i </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits_without_zero</span><span class="pun">,</span><span class="pln"> </span><span class="str">'I'</span><span class="pun">);</span><span class="pln"><br>&nbsp; s </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits</span><span class="pun">,</span><span class="pln"> </span><span class="str">'S'</span><span class="pun">);</span><span class="pln"><br>&nbsp; f </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits_without_zero</span><span class="pun">,</span><span class="pln"> </span><span class="str">'F'</span><span class="pun">);</span><span class="pln"><br>&nbsp; u </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits</span><span class="pun">,</span><span class="pln"> </span><span class="str">'U'</span><span class="pun">);</span><span class="pln"><br>&nbsp; n </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits</span><span class="pun">,</span><span class="pln"> </span><span class="str">'N'</span><span class="pun">);</span><span class="pln"><br>&nbsp; t </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits_without_zero</span><span class="pun">,</span><span class="pln"> </span><span class="str">'T'</span><span class="pun">);</span><span class="pln"><br>&nbsp; r </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits</span><span class="pun">,</span><span class="pln"> </span><span class="str">'R'</span><span class="pun">);</span><span class="pln"><br>&nbsp; e </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">IntVar</span><span class="pun">(</span><span class="pln">digits</span><span class="pun">,</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="com"># We need to group variables in a list to use the constraint AllDifferent.</span><span class="pln"><br>&nbsp; letters </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">c</span><span class="pun">,</span><span class="pln"> p</span><span class="pun">,</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> s</span><span class="pun">,</span><span class="pln"> f</span><span class="pun">,</span><span class="pln"> u</span><span class="pun">,</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> t</span><span class="pun">,</span><span class="pln"> r</span><span class="pun">,</span><span class="pln"> e</span><span class="pun">]</span><span class="pln"><br>&nbsp; <br>&nbsp; </span><span class="com"># Verify that we have enough digits.</span><span class="pln"><br>&nbsp; </span><span class="kwd">assert</span><span class="pln"> kBase </span><span class="pun">&gt;=</span><span class="pln"> len</span><span class="pun">(</span><span class="pln">letters</span><span class="pun">)</span><span class="pln"><br><br>&nbsp; </span><span class="com"># Define constraints.</span><span class="pln"><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">Add</span><span class="pun">(</span><span class="pln">solver</span><span class="pun">.</span><span class="typ">AllDifferent</span><span class="pun">(</span><span class="pln">letters</span><span class="pun">))</span><span class="pln"><br>&nbsp; <br>&nbsp; </span><span class="com"># CP + IS + FUN = TRUE</span><span class="pln"><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">Add</span><span class="pln"> </span><span class="pun">(</span><span class="pln">p </span><span class="pun">+</span><span class="pln"> s </span><span class="pun">+</span><span class="pln"> n </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">+</span><span class="pln"> i </span><span class="pun">+</span><span class="pln"> u</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> f </span><span class="pun">==</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> u </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> r </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> t</span><span class="pun">)</span><span class="pln"><br><br>&nbsp; db </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">Phase</span><span class="pun">(</span><span class="pln">letters</span><span class="pun">,</span><span class="pln"> solver</span><span class="pun">.</span><span class="pln">INT_VAR_DEFAULT</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;solver</span><span class="pun">.</span><span class="pln">INT_VALUE_DEFAULT</span><span class="pun">)</span><span class="pln"><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">NewSearch</span><span class="pun">(</span><span class="pln">db</span><span class="pun">)</span><span class="pln"><br>&nbsp; <br>&nbsp; </span><span class="kwd">while</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">NextSolution</span><span class="pun">():</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">print</span><span class="pln"> letters<br>&nbsp; &nbsp; </span><span class="com"># Is CP + IS + FUN = TRUE?</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">assert</span><span class="pln"> </span><span class="pun">(</span><span class="pln">kBase</span><span class="pun">*</span><span class="pln">c</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> &nbsp;p</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> kBase</span><span class="pun">*</span><span class="pln">i</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> s</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kBase</span><span class="pun">*</span><span class="pln">kBase</span><span class="pun">*</span><span class="pln">f</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> kBase</span><span class="pun">*</span><span class="pln">u</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> n</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kBase</span><span class="pun">*</span><span class="pln">kBase</span><span class="pun">*</span><span class="pln">kBase</span><span class="pun">*</span><span class="pln">t</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> kBase</span><span class="pun">*</span><span class="pln">kBase</span><span class="pun">*</span><span class="pln">r</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kBase</span><span class="pun">*</span><span class="pln">u</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> e</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">())</span><span class="pln"> <br>&nbsp; <br>&nbsp; solver</span><span class="pun">.</span><span class="typ">EndSearch</span><span class="pun">()</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">return</span><span class="pln"><br><br><br></span><span class="kwd">if</span><span class="pln"> __name__ </span><span class="pun">==</span><span class="pln"> </span><span class="str">'__main__'</span><span class="pun">:</span><span class="pln"><br>&nbsp; </span><span class="typ">CPIsFun</span><span class="pun">()</span></pre>
</article><article>

<pre class="prettyprint lang-cc"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="com">// Copyright 2011-2014 Google</span><span class="pln"><br></span><span class="com">// Licensed under the Apache License, Version 2.0 (the "License");</span><span class="pln"><br></span><span class="com">// you may not use this file except in compliance with the License.</span><span class="pln"><br></span><span class="com">// You may obtain a copy of the License at</span><span class="pln"><br></span><span class="com">//</span><span class="pln"><br></span><span class="com">// &nbsp; &nbsp; http://www.apache.org/licenses/LICENSE-2.0</span><span class="pln"><br></span><span class="com">//</span><span class="pln"><br></span><span class="com">// Unless required by applicable law or agreed to in writing, software</span><span class="pln"><br></span><span class="com">// distributed under the License is distributed on an "AS IS" BASIS,</span><span class="pln"><br></span><span class="com">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><span class="pln"><br></span><span class="com">// See the License for the specific language governing permissions and</span><span class="pln"><br></span><span class="com">// limitations under the License.</span><span class="pln"><br></span><span class="com">//</span><span class="pln"><br></span><span class="com">//</span><span class="pln"><br></span><span class="com">// Cryptarithmetic puzzle</span><span class="pln"><br></span><span class="com">//</span><span class="pln"><br></span><span class="com">// First attempt to solve equation CP + IS + FUN = TRUE</span><span class="pln"><br></span><span class="com">// where each letter represents a unique digit.</span><span class="pln"><br></span><span class="com">//</span><span class="pln"><br></span><span class="com">// This problem has 72 different solutions in base 10.</span><span class="pln"><br><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;vector&gt;</span><span class="pln"><br><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">"base/logging.h"</span><span class="pln"><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">"constraint_solver/constraint_solver.h"</span><span class="pln"><br><br></span><span class="kwd">namespace</span><span class="pln"> operations_research </span><span class="pun">{</span><span class="pln"><br><br></span><span class="com">// Helper functions.</span><span class="pln"><br></span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> </span><span class="typ">MakeBaseLine2</span><span class="pun">(</span><span class="typ">Solver</span><span class="pun">*</span><span class="pln"> &nbsp;s</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> v1</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> v2</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">const</span><span class="pln"> int64 base</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> s</span><span class="pun">-&gt;</span><span class="typ">MakeSum</span><span class="pun">(</span><span class="pln">s</span><span class="pun">-&gt;</span><span class="typ">MakeProd</span><span class="pun">(</span><span class="pln">v1</span><span class="pun">,</span><span class="pln"> base</span><span class="pun">),</span><span class="pln"> v2</span><span class="pun">)-&gt;</span><span class="typ">Var</span><span class="pun">();</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> </span><span class="typ">MakeBaseLine3</span><span class="pun">(</span><span class="typ">Solver</span><span class="pun">*</span><span class="pln"> s</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> v1</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> v2</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> v3</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">const</span><span class="pln"> int64 base</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; std</span><span class="pun">::</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="typ">IntVar</span><span class="pun">*&gt;</span><span class="pln"> tmp_vars</span><span class="pun">;</span><span class="pln"><br>&nbsp; std</span><span class="pun">::</span><span class="pln">vector</span><span class="str">&lt;int64&gt;</span><span class="pln"> coefficients</span><span class="pun">;</span><span class="pln"><br>&nbsp; tmp_vars</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">v1</span><span class="pun">);</span><span class="pln"><br>&nbsp; coefficients</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">base </span><span class="pun">*</span><span class="pln"> base</span><span class="pun">);</span><span class="pln"><br>&nbsp; tmp_vars</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">v2</span><span class="pun">);</span><span class="pln"><br>&nbsp; coefficients</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">base</span><span class="pun">);</span><span class="pln"><br>&nbsp; tmp_vars</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">v3</span><span class="pun">);</span><span class="pln"><br>&nbsp; coefficients</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> s</span><span class="pun">-&gt;</span><span class="typ">MakeScalProd</span><span class="pun">(</span><span class="pln">tmp_vars</span><span class="pun">,</span><span class="pln"> coefficients</span><span class="pun">)-&gt;</span><span class="typ">Var</span><span class="pun">();</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> </span><span class="typ">MakeBaseLine4</span><span class="pun">(</span><span class="typ">Solver</span><span class="pun">*</span><span class="pln"> s</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> v1</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> v2</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> v3</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> v4</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">const</span><span class="pln"> int64 base</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; std</span><span class="pun">::</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="typ">IntVar</span><span class="pun">*&gt;</span><span class="pln"> tmp_vars</span><span class="pun">;</span><span class="pln"><br>&nbsp; std</span><span class="pun">::</span><span class="pln">vector</span><span class="str">&lt;int64&gt;</span><span class="pln"> coefficients</span><span class="pun">;</span><span class="pln"><br>&nbsp; tmp_vars</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">v1</span><span class="pun">);</span><span class="pln"><br>&nbsp; coefficients</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">base </span><span class="pun">*</span><span class="pln"> base </span><span class="pun">*</span><span class="pln"> base</span><span class="pun">);</span><span class="pln"><br>&nbsp; tmp_vars</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">v2</span><span class="pun">);</span><span class="pln"><br>&nbsp; coefficients</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">base </span><span class="pun">*</span><span class="pln"> base</span><span class="pun">);</span><span class="pln"><br>&nbsp; tmp_vars</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">v3</span><span class="pun">);</span><span class="pln"><br>&nbsp; coefficients</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">base</span><span class="pun">);</span><span class="pln"><br>&nbsp; tmp_vars</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">v4</span><span class="pun">);</span><span class="pln"><br>&nbsp; coefficients</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> s</span><span class="pun">-&gt;</span><span class="typ">MakeScalProd</span><span class="pun">(</span><span class="pln">tmp_vars</span><span class="pun">,</span><span class="pln"> coefficients</span><span class="pun">)-&gt;</span><span class="typ">Var</span><span class="pun">();</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> </span><span class="typ">CPIsFun</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="com">// Instantiate the solver.</span><span class="pln"><br>&nbsp; </span><span class="typ">Solver</span><span class="pln"> solver</span><span class="pun">(</span><span class="str">"CP is fun!"</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> int64 kBase </span><span class="pun">=</span><span class="pln"> </span><span class="lit">10</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Define decision variables.</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> c </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"C"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> p </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"P"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"I"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> s </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"S"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> f </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"F"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> u </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"U"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> n </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"N"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> t </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"T"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> r </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"R"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> e </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"E"</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="com">// We need to group variables in a vector to be able to use</span><span class="pln"><br>&nbsp; </span><span class="com">// the global constraint AllDifferent</span><span class="pln"><br>&nbsp; std</span><span class="pun">::</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="typ">IntVar</span><span class="pun">*&gt;</span><span class="pln"> letters</span><span class="pun">;</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">c</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">p</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">s</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">f</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">u</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">n</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">t</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">r</span><span class="pun">);</span><span class="pln"><br>&nbsp; letters</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">e</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Check if we have enough digits</span><span class="pln"><br>&nbsp; CHECK_GE</span><span class="pun">(</span><span class="pln">kBase</span><span class="pun">,</span><span class="pln"> letters</span><span class="pun">.</span><span class="pln">size</span><span class="pun">());</span><span class="pln"><br>&nbsp; </span><span class="com">// Define constraints.</span><span class="pln"><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">AddConstraint</span><span class="pun">(</span><span class="pln">solver</span><span class="pun">.</span><span class="typ">MakeAllDifferent</span><span class="pun">(</span><span class="pln">letters</span><span class="pun">));</span><span class="pln"><br><br>&nbsp; </span><span class="com">// CP + IS + FUN = TRUE</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> term1 </span><span class="pun">=</span><span class="pln"> </span><span class="typ">MakeBaseLine2</span><span class="pun">(&amp;</span><span class="pln">solver</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> p</span><span class="pun">,</span><span class="pln"> kBase</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> term2 </span><span class="pun">=</span><span class="pln"> </span><span class="typ">MakeBaseLine2</span><span class="pun">(&amp;</span><span class="pln">solver</span><span class="pun">,</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> s</span><span class="pun">,</span><span class="pln"> kBase</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> term3 </span><span class="pun">=</span><span class="pln"> </span><span class="typ">MakeBaseLine3</span><span class="pun">(&amp;</span><span class="pln">solver</span><span class="pun">,</span><span class="pln"> f</span><span class="pun">,</span><span class="pln"> u</span><span class="pun">,</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> kBase</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> sum_terms </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeSum</span><span class="pun">(</span><span class="pln">solver</span><span class="pun">.</span><span class="typ">MakeSum</span><span class="pun">(</span><span class="pln">term1</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; term2</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;term3</span><span class="pun">)-&gt;</span><span class="typ">Var</span><span class="pun">();</span><span class="pln"><br><br>&nbsp; </span><span class="typ">IntVar</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> sum &nbsp; </span><span class="pun">=</span><span class="pln"> </span><span class="typ">MakeBaseLine4</span><span class="pun">(&amp;</span><span class="pln">solver</span><span class="pun">,</span><span class="pln"> t</span><span class="pun">,</span><span class="pln"> r</span><span class="pun">,</span><span class="pln"> u</span><span class="pun">,</span><span class="pln"> e</span><span class="pun">,</span><span class="pln"> kBase</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">AddConstraint</span><span class="pun">(</span><span class="pln">solver</span><span class="pun">.</span><span class="typ">MakeEquality</span><span class="pun">(</span><span class="pln">sum_terms</span><span class="pun">,</span><span class="pln"> sum</span><span class="pun">));</span><span class="pln"><br>&nbsp; </span><span class="com">// Create decision builder to search for solutions.</span><span class="pln"><br>&nbsp; </span><span class="typ">DecisionBuilder</span><span class="pun">*</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> db </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakePhase</span><span class="pun">(</span><span class="pln">letters</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">Solver</span><span class="pun">::</span><span class="pln">CHOOSE_FIRST_UNBOUND</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">Solver</span><span class="pun">::</span><span class="pln">ASSIGN_MIN_VALUE</span><span class="pun">);</span><span class="pln"><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">NewSearch</span><span class="pun">(</span><span class="pln">db</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">solver</span><span class="pun">.</span><span class="typ">NextSolution</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; LOG</span><span class="pun">(</span><span class="pln">INFO</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"C="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> c</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"P="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> p</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"I="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> i</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"S="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> s</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"F="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> f</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"U="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> u</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"N="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> n</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"T="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> t</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"R="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> r</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"E="</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> e</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">();</span><span class="pln"><br><br>&nbsp; </span><span class="com">// Is CP + IS + FUN = TRUE?</span><span class="pln"><br>&nbsp; CHECK_EQ</span><span class="pun">(</span><span class="pln">p</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> s</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> n</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kBase </span><span class="pun">*</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> i</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> u</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">())</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> f</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">(),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;e</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kBase </span><span class="pun">*</span><span class="pln"> u</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> r</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> t</span><span class="pun">-&gt;</span><span class="typ">Value</span><span class="pun">());</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; solver</span><span class="pun">.</span><span class="typ">EndSearch</span><span class="pun">();</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="pun">}</span><span class="pln"> &nbsp; </span><span class="com">// namespace operations_research</span><span class="pln"><br><br></span><span class="com">// ----- MAIN -----</span><span class="pln"><br></span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> argc</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">**</span><span class="pln">argv</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; operations_research</span><span class="pun">::</span><span class="typ">CPIsFun</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span></pre>
</article><article>

<pre class="prettyprint lang-cs"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="com">// Copyright 2011-2014 Google</span><span class="pln"><br></span><span class="com">// Licensed under the Apache License, Version 2.0 (the "License");</span><span class="pln"><br></span><span class="com">// you may not use this file except in compliance with the License.</span><span class="pln"><br></span><span class="com">// You may obtain a copy of the License at</span><span class="pln"><br></span><span class="com">//</span><span class="pln"><br></span><span class="com">// &nbsp; &nbsp; http://www.apache.org/licenses/LICENSE-2.0</span><span class="pln"><br></span><span class="com">//</span><span class="pln"><br></span><span class="com">// Unless required by applicable law or agreed to in writing, software</span><span class="pln"><br></span><span class="com">// distributed under the License is distributed on an "AS IS" BASIS,</span><span class="pln"><br></span><span class="com">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><span class="pln"><br></span><span class="com">// See the License for the specific language governing permissions and</span><span class="pln"><br></span><span class="com">// limitations under the License.</span><span class="pln"><br></span><span class="com">//</span><span class="pln"><br></span><span class="com">//</span><span class="pln"><br></span><span class="com">// Cryptarithmetic puzzle</span><span class="pln"><br></span><span class="com">//</span><span class="pln"><br></span><span class="com">// First attempt to solve equation CP + IS + FUN = TRUE</span><span class="pln"><br></span><span class="com">// where each letter represents a unique digit.</span><span class="pln"><br></span><span class="com">//</span><span class="pln"><br></span><span class="com">// This problem has 72 different solutions in base 10.</span><span class="pln"><br><br>using </span><span class="typ">System</span><span class="pun">;</span><span class="pln"><br>using </span><span class="typ">Google</span><span class="pun">.</span><span class="typ">OrTools</span><span class="pun">.</span><span class="typ">ConstraintSolver</span><span class="pun">;</span><span class="pln"><br><br></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> cp_is_fun1 </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">CPisFun</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Instantiate the solver.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Solver</span><span class="pln"> solver </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Solver</span><span class="pln"> </span><span class="pun">(</span><span class="str">"CP is fun!"</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> kBase </span><span class="pun">=</span><span class="pln"> </span><span class="lit">10</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Decision variables.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> c </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"C"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> p </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"P"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"I"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> s </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"S"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> f </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"F"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> u </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"U"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> n </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"N"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> t </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"T"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> r </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"R"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pln"> e </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakeIntVar</span><span class="pln"> </span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> kBase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"E"</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Group variables in a vector so that we can use AllDifferent.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">IntVar</span><span class="pun">[]</span><span class="pln"> letters </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">IntVar</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> c</span><span class="pun">,</span><span class="pln"> p</span><span class="pun">,</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> s</span><span class="pun">,</span><span class="pln"> f</span><span class="pun">,</span><span class="pln"> u</span><span class="pun">,</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> t</span><span class="pun">,</span><span class="pln"> r</span><span class="pun">,</span><span class="pln"> e</span><span class="pun">};</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Verify that we have enough digits.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">kBase </span><span class="pun">&lt;</span><span class="pln"> letters</span><span class="pun">.</span><span class="typ">Length</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Exception</span><span class="pun">(</span><span class="str">"kBase &lt; letters.Length"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Define constraints.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; solver</span><span class="pun">.</span><span class="typ">Add</span><span class="pln"> </span><span class="pun">(</span><span class="pln">letters</span><span class="pun">.</span><span class="typ">AllDifferent</span><span class="pln"> </span><span class="pun">());</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// CP + IS + FUN = TRUE</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; solver</span><span class="pun">.</span><span class="typ">Add</span><span class="pln"> </span><span class="pun">(</span><span class="pln">p </span><span class="pun">+</span><span class="pln"> s </span><span class="pun">+</span><span class="pln"> n </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">+</span><span class="pln"> i </span><span class="pun">+</span><span class="pln"> u</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> f </span><span class="pun">==</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;e </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> u </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> r </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> t</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Create the decision builder to search for solutions.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">DecisionBuilder</span><span class="pln"> db </span><span class="pun">=</span><span class="pln"> solver</span><span class="pun">.</span><span class="typ">MakePhase</span><span class="pln"> </span><span class="pun">(</span><span class="pln">letters</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">Solver</span><span class="pun">.</span><span class="pln">CHOOSE_FIRST_UNBOUND</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">Solver</span><span class="pun">.</span><span class="pln">ASSIGN_MIN_VALUE</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; solver</span><span class="pun">.</span><span class="typ">NewSearch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">db</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">solver</span><span class="pun">.</span><span class="typ">NextSolution</span><span class="pln"> </span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">Write</span><span class="pln"> </span><span class="pun">(</span><span class="str">"C="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> c</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">" P="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> p</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">Write</span><span class="pln"> </span><span class="pun">(</span><span class="str">" I="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> i</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">" S="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> s</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">Write</span><span class="pln"> </span><span class="pun">(</span><span class="str">" F="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> f</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">" U="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> u</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">Write</span><span class="pln"> </span><span class="pun">(</span><span class="str">" N="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> n</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">" T="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> t</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">Write</span><span class="pln"> </span><span class="pun">(</span><span class="str">" R="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> r</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">" E="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> e</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">());</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pln"> </span><span class="pun">();</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Is CP + IS + FUN = TRUE?</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">p</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> s</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> n</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kBase </span><span class="pun">*</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> i</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> u</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">())</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> f</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> u</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> r</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> kBase </span><span class="pun">*</span><span class="pln"> t</span><span class="pun">.</span><span class="typ">Value</span><span class="pln"> </span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Exception</span><span class="pun">(</span><span class="str">"CP + IS + FUN != TRUE"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; solver</span><span class="pun">.</span><span class="typ">EndSearch</span><span class="pln"> </span><span class="pun">();</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Main</span><span class="pln"> </span><span class="pun">(</span><span class="typ">String</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">CPisFun</span><span class="pln"> </span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></pre>
</article></section>


  </div>
  

  
        
  







        
<div class="devsite-content-footer nocontent">
  
  
    <p>Except as otherwise noted, the content of this page is licensed under the <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License</a>, and code samples are licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For details, see our <a href="https://developers.google.cn/terms/site-policies">Site Policies</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
  

  
    
    <p class="devsite-content-footer-date" itemprop="datePublished" content="2018-09-12T19:43:55.423036">
      
      上次更新日期：九月 12, 2018
    </p>
  

</div>

        </article>
      </article>
  

        </div>
      

<footer class="devsite-footer-promos nocontent"><nav class="devsite-full-site-width"><ul class="devsite-footer-promos-list"><li class="devsite-footer-promo"><a href="http://github.com/google/or-tools" class="devsite-footer-promo-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Content Page Footer Promo"><img class="devsite-footer-promo-icon" src="./Cryptarithmetic Puzzles  _  OR-Tools  _  Google Developers_files/logo-github.svg">
          
          
            GitHub
          
        </a><div class="devsite-footer-promo-description">Download our code</div></li><li class="devsite-footer-promo"><a href="https://groups.google.com/forum/#!forum/or-tools-discuss" class="devsite-footer-promo-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Content Page Footer Promo" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。"><img class="devsite-footer-promo-icon" src="./Cryptarithmetic Puzzles  _  OR-Tools  _  Google Developers_files/groups_24dp.png">
          
          
            Discussion forum
          
        </a><div class="devsite-footer-promo-description">Visit our forum</div></li><li class="devsite-footer-promo"><a href="http://or-tools.blogspot.com/" class="devsite-footer-promo-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Content Page Footer Promo" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。"><img class="devsite-footer-promo-icon" src="./Cryptarithmetic Puzzles  _  OR-Tools  _  Google Developers_files/blogger_24dp.png">
          
          
            Blog
          
        </a><div class="devsite-footer-promo-description">Read our blog</div></li></ul></nav></footer><footer class="devsite-footer-linkboxes nocontent
               devsite-footer-linkboxes-all-backup
               devsite-footer-linkboxes-with-sites"><nav class="devsite-full-site-width"><ul class="devsite-footer-linkboxes-list"><li class="devsite-footer-linkbox devsite-footer-linkbox-backup"><h3 class="devsite-footer-linkbox-heading">社交沟通</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="http://developers.googleblog.cn/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Blog Link">
                博客
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://www.facebook.com/Google-Developers-967415219957038/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Facebook Link">
                Facebook
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://plus.google.com/+GoogleDevelopers" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer G+ Link" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Google+
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://medium.com/google-developers" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Medium Link">
                Medium
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://twitter.com/googledevs" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Twitter Link">
                Twitter
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://www.youtube.com/channel/UCQqa5UIHtrnpiADC3eHFupw" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer YouTube Link" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                YouTube
            </a></li></ul></li><li class="devsite-footer-linkbox devsite-footer-linkbox-backup"><h3 class="devsite-footer-linkbox-heading">计划</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://www.womentechmakers.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Women Techmakers">
                Women Techmakers
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.cn/agency/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Agency">
                Agency Program
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.cn/groups/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Groups">
                GDG
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.cn/experts/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Experts">
                Google Developers Experts
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.cn/startups/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Startups">
                Startup Launchpad
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://userresearch.google.com/?reserved=0&amp;utm_source=developers.google.com&amp;Q_Language=en&amp;utm_medium=own_srch&amp;utm_campaign=Global-developers&amp;utm_term=0&amp;utm_content=0&amp;productTag=clou&amp;campaignDate=nov18&amp;pType=devel&amp;referral_code=js564523" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer User Studies" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                User Studies
            </a></li></ul></li><li class="devsite-footer-linkbox devsite-footer-linkbox-backup"><h3 class="devsite-footer-linkbox-heading">开发者控制台</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://console.developers.google.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Google API Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://console.cloud.google.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Google Cloud Platform Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Google Cloud Platform Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://play.google.com/apps/publish/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Google Play Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Google Play Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://console.firebase.google.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Firebase Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Firebase Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://console.actions.google.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Actions on Google Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Actions on Google Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cast.google.com/publish/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Cast SDK Developer Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Cast SDK Developer Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://chrome.google.com/webstore/developer/dashboard" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Chrome Web Store Developer Dashboard" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Chrome Web Store Dashboard
            </a></li></ul></li><li class="devsite-footer-linkbox devsite-footer-linkbox-sites"><a href="https://developers.google.cn/" class="gc-analytics-event devsite-footer-linkbox-logo-link" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link"><img class="devsite-footer-linkbox-logo" src="./Cryptarithmetic Puzzles  _  OR-Tools  _  Google Developers_files/lockup-color-knockout.png" alt="Google Developers"></a><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://developer.android.google.cn/index.html" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Android Link">
                Android
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developer.chrome.com/home" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Chrome Link" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Chrome
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://firebase.google.cn/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Firebase Link">
                Firebase
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Cloud Link" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Google Cloud Platform
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.cn/products/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Products Link">
                所有产品
            </a></li></ul></li></ul></nav></footer><footer class="devsite-utility-footer"><nav class="devsite-utility-footer-nav devsite-nav devsite-full-site-width"><div class="devsite-utility-footer-nav-left"><form class="devsite-utility-footer-language" action="https://developers.google.cn/i18n/setlang/" method="post"><input type="hidden" name="xsrf_token" value="3LaUWx_TcINgE6LqiW3UZ8K9EM9XFmYVdJeqGUiEFoI6MTU0NzAxNzQ4MDUyNjE1Ng"><input type="hidden" name="next" value="/optimization/cp/cryptarithmetic"><select class="devsite-utility-footer-language-select kd-select" name="language" track-type="languageSelector" track-name="click" style="display: none;"><option value="id" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="id" track-metadata-original-language="zh-cn" track-metadata-selected-language="id">
            Bahasa Indonesia
          </option><option value="de" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="de" track-metadata-original-language="zh-cn" track-metadata-selected-language="de">
            Deutsch
          </option><option value="en" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="en" track-metadata-original-language="zh-cn" track-metadata-selected-language="en">
            English
          </option><option value="es" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="es" track-metadata-original-language="zh-cn" track-metadata-selected-language="es">
            español
          </option><option value="fr" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="fr" track-metadata-original-language="zh-cn" track-metadata-selected-language="fr">
            français
          </option><option value="pt-br" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="pt-br" track-metadata-original-language="zh-cn" track-metadata-selected-language="pt-br">
            Português Brasileiro
          </option><option value="ru" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ru" track-metadata-original-language="zh-cn" track-metadata-selected-language="ru">
            Русский
          </option><option value="ja" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ja" track-metadata-original-language="zh-cn" track-metadata-selected-language="ja">
            日本語
          </option><option value="zh-cn" selected="selected" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="zh-cn" track-metadata-original-language="zh-cn" track-metadata-selected-language="zh-cn">
            简体中文
          </option><option value="ko" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ko" track-metadata-original-language="zh-cn" track-metadata-selected-language="ko">
            한국어
          </option></select><span class="kd-button kd-menubutton kd-select" track-type="languageSelector" track-name="click"><div class="label">
            简体中文
          </div><div class="kd-disclosureindicator"></div></span></form><span class="devsite-utility-footer-links"><a class="devsite-utility-footer-link gc-analytics-event" href="https://developers.google.cn/terms/site-terms" data-category="Site-Wide Custom Events" data-label="Footer terms link" data-footer-link-id="terms">条款
         </a><a class="devsite-utility-footer-link gc-analytics-event" href="https://policies.google.cn/privacy" data-category="Site-Wide Custom Events" data-label="Footer privacy link" data-footer-link-id="privacy" data-cookie-policy="//policies.google.cn/technologies/cookies">隐私权
         </a></span></div></nav></footer><div class="devsite-feedback-dialog devsite-dialog"><div class="devsite-dialog-contents"><h3>发送以下问题的反馈：</h3><div class="devsite-feedback-item"><a data-type="documentation" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Docs Feedback Image" track-type="feedback" track-name="feedbackDocIcon" track-metadata-position="header"><div class="devsite-feedback-item-icon-container"><div class="devsite-feedback-item-icon-white devsite-feedback-item-icon-docs
                        material-icons"></div></div></a><div class="devsite-feedback-item-name">
          
          此网页
        </div><div class="devsite-feedback-item-description"><a data-type="documentation" tabindex="0" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Docs Feedback Text" track-type="feedback" track-name="feedbackDocText" track-metadata-position="header">
            
            文档反馈
          </a></div></div><div class="devsite-feedback-item"><a data-type="product" tabindex="0" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Product Feedback Image" track-type="feedback" track-name="feedbackProductIcon" track-metadata-position="header"><img src="./Cryptarithmetic Puzzles  _  OR-Tools  _  Google Developers_files/orLogo.png" class="devsite-feedback-item-icon" alt="OR-Tools"></a><div class="devsite-feedback-item-name">
        OR-Tools
        </div><div class="devsite-feedback-item-description"><a data-type="product" tabindex="0" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Product Feedback Text" track-type="feedback" track-name="feedbackProductText" track-metadata-position="header">
            
            产品反馈
          </a></div></div></div><div class="devsite-dialog-buttons"><button type="button" class="devsite-feedback-cancel button-white gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Cancel Feedback Button" track-type="feedback" track-name="cancelFeedbackButton" track-metadata-position="header">
        
        取消
      </button></div></div><script>
  $(document).ready(function() {
    new devsite.feedback.Widget({
        'product_id': '106275',
        'bucket': '',
        'context': 'DevSite feedback link',
        'version': 'devsite-20190107-r00-rc01.default'
      },
      document.querySelectorAll('.devsite-feedback-button'),
      'zh-cn',
      document.querySelector('.devsite-site-mask'),
      document.querySelector('.devsite-feedback-dialog'),
      document.querySelector('.devsite-feedback-cancel'),
      document.querySelectorAll('.devsite-feedback-item a:not([href])')
    );
  });
  </script></div><script async="" defer="" src="./Cryptarithmetic Puzzles  _  OR-Tools  _  Google Developers_files/api.js"></script><script src="./Cryptarithmetic Puzzles  _  OR-Tools  _  Google Developers_files/saved_resource"></script><script src="./Cryptarithmetic Puzzles  _  OR-Tools  _  Google Developers_files/script_foot_closure__zh_cn.js"></script><script src="./Cryptarithmetic Puzzles  _  OR-Tools  _  Google Developers_files/script_foot.js"></script><script>
        (function($) {
          
          devsite.devsite.Init($, {'ENABLE_BLOCKED_VIDEO_PLACEHOLDER': 1, 'SITE_NAME': 'devsite_china', 'FULL_SITE_SEARCH_ENABLED': 0, 'ENABLE_CLOUDTRACK': 0, 'VTAGS_ENABLED': 0, 'HISTORY_ENABLED': 0, 'SIDEBAR_MINI_ENABLED': 0, 'VERSION_HASH': '0ee1984e83', 'SCRIPTSAFE_DOMAIN': 'google-developers.gonglchuangl.net', 'ENABLE_BLOCKED_LINK_TOOLTIP': 1, 'ALLOWED_HOSTS': ['.android.com', '.appspot.com', '.gonglchuangl.net', '.google.cn', '.google.com', '.googleplex.com', '.tensorflow.org'], 'BLOCK_RSS_FEEDS': 1},
                               '[]','zh-cn',
                               true, '',
                               {"8e03e230de0bd8a6fe173fdf172e8b3f": true, "8de7a048f21618359bd37f5ce44be073": false, "cb025a64a50094835616312f4774a53d": true, "51470233c56fc1fde50f00b73c52b216": false, "d169d485cf24243a263783dbe42029b1": true, "039e5d84b87fd75807ffb37b7f1bbf2c": true, "700def1a83e356c06c0925afb05de4b0": false, "6749dcb526ce9bde6993550c7d928d24": true, "098dafe57affddc137df300142652cfd": false}, '/optimization/',
                               'https://developers.google.cn/');
        })(jQuery);

        
        devsite.localInit = function() {
          
        };

      </script><script>
      $('.devsite-utility-footer-language-select').each(function() {
        $(this).change(function(){$('.devsite-utility-footer-language').submit();});
      });
      </script></div><span id="devsite-request-elapsed" data-request-elapsed="196.375131607"></span>
<div class="devsite-overflow-menu" style="visibility: hidden; top: -1000px;"></div><div class="devsite-overflow-menu" style="visibility: hidden; top: -1000px;"></div><div class="devsite-overflow-menu" style="visibility: hidden; top: -1000px;"></div><div class="devsite-overflow-menu" style="visibility: hidden; top: -1000px;"></div><div class="devsite-overflow-menu" style="visibility: hidden; top: -1000px;"></div><div class="devsite-overflow-menu" style="visibility: hidden; top: -1000px;"></div><div class="devsite-overflow-menu" style="visibility: hidden; top: -1000px;"></div><div class="devsite-overflow-menu" style="visibility: hidden; top: -1000px;"></div><ul class="kd-menulist devsite-hidden" style="left: 151.386px; right: auto; top: 9322.3px;"><li class="kd-menulistitem" value="id" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="id" track-metadata-original-language="zh-cn" track-metadata-selected-language="id">
            Bahasa Indonesia
          </li><li class="kd-menulistitem" value="de" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="de" track-metadata-original-language="zh-cn" track-metadata-selected-language="de">
            Deutsch
          </li><li class="kd-menulistitem" value="en" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="en" track-metadata-original-language="zh-cn" track-metadata-selected-language="en">
            English
          </li><li class="kd-menulistitem" value="es" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="es" track-metadata-original-language="zh-cn" track-metadata-selected-language="es">
            español
          </li><li class="kd-menulistitem" value="fr" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="fr" track-metadata-original-language="zh-cn" track-metadata-selected-language="fr">
            français
          </li><li class="kd-menulistitem" value="pt-br" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="pt-br" track-metadata-original-language="zh-cn" track-metadata-selected-language="pt-br">
            Português Brasileiro
          </li><li class="kd-menulistitem" value="ru" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ru" track-metadata-original-language="zh-cn" track-metadata-selected-language="ru">
            Русский
          </li><li class="kd-menulistitem" value="ja" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ja" track-metadata-original-language="zh-cn" track-metadata-selected-language="ja">
            日本語
          </li><li class="kd-menulistitem devsite-selected-option" value="zh-cn" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="zh-cn" track-metadata-original-language="zh-cn" track-metadata-selected-language="zh-cn">
            简体中文
          </li><li class="kd-menulistitem" value="ko" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ko" track-metadata-original-language="zh-cn" track-metadata-selected-language="ko">
            한국어
          </li></ul></body></html>