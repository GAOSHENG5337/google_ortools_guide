<!DOCTYPE html>
<!-- saved from url=(0053)https://developers.google.cn/optimization/routing/tsp -->
<html lang="en" class="" ml-update="aware"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" async="" src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/linkid.js"></script><script async="" src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/analytics.js"></script><script>var a=window.devsite||{};window.devsite=a;a.readyCallbacks=[];window.devsite.readyCallbacks=a.readyCallbacks;a.ready=function(b){a.readyCallbacks.push(b)};window.devsite.ready=a.ready;
</script><meta name="xsrf_token" content="s5mZj2jJnIkC3xAHkZjD2VQqiUxd8JJSbH8pJHHOxC86MTU0NzAxNzU4ODgzNjUzOA"><link rel="canonical" href="https://developers.google.com/optimization/routing/tsp"><link rel="alternate" href="https://developers.google.com/optimization/routing/tsp" hreflang="en"><link rel="alternate" href="https://developers.google.cn/optimization/routing/tsp" hreflang="en-cn"><link rel="alternate" href="https://developers.google.com/optimization/routing/tsp" hreflang="x-default"><link rel="shortcut icon" href="https://developers.google.cn/_static/0ee1984e83/images/favicon.png"><link rel="apple-touch-icon" href="https://developers.google.cn/_static/0ee1984e83/images/touch-icon.png"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/css"><link rel="stylesheet" href="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/devsite-google-blue.css"><script src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/jquery-bundle.js"></script><meta property="og:site_name" content="Google Developers"><meta property="og:type" content="website"><meta property="og:url" content="https://developers.google.com/optimization/routing/tsp"><meta property="og:locale" content="en"><script>
    var ___gcfg = ___gcfg || {};
    ___gcfg.lang = 'zh-cn';
  </script><title>Traveling Salesman Problem &nbsp;|&nbsp; OR-Tools
      &nbsp;|&nbsp; Google Developers</title><meta property="og:title" content="Traveling Salesman Problem  |  OR-Tools
       |  Google Developers"></head><body class="devsite-doc-page devsite-header-no-upper-tabs no-touch" data-family="endorsed" id="top_of_page"><div class="devsite-wrapper" style="margin-top: 0px;"><div class="devsite-top-section-wrapper
            "><header class="devsite-top-section nocontent devsite-top-section-pinned"><div class="devsite-top-logo-row-wrapper-wrapper" style="position: relative;"><div class="devsite-top-logo-row-wrapper"><div class="devsite-top-logo-row devsite-full-site-width"><button type="button" class="devsite-expand-section-nav devsite-header-icon-button
                                       button-flat material-icons gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Hamburger menu"></button><div class="devsite-product-name-wrapper"><a class="devsite-product-name-link gc-analytics-event" href="https://developers.google.cn/optimization/" data-category="Site-Wide Custom Events" data-label="Project logo (header)"><img src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/orLogo.png" class="devsite-product-logo" alt="Google OR-Tools"></a><span class="devsite-product-name"><ul class="devsite-breadcrumb-list"><li class="devsite-breadcrumb-item"><a href="https://developers.google.cn/optimization/" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Upper Header" data-value="1">
    
    
      
        Google OR-Tools
      
    
    
    </a></li></ul></span></div><div class="devsite-header-upper-tabs"></div><form class="devsite-search-form" action="https://developers.google.cn/s/results/" method="GET" id="top-search" search-placeholder="搜索"><div id="searchbox" class="devsite-searchbox"><input placeholder="搜索" type="text" class="devsite-search-field devsite-search-query" name="q" value="" autocomplete="off" aria-label="搜索框"><div class="devsite-search-image material-icons"></div></div><input type="hidden" name="p" id="search_project" value="/optimization/" data-project-name="OR-Tools" data-project-path="/optimization/" data-query-match=""><input type="hidden" class="suggest-project" value="OR-Tools"><div class="suggest-project-metadata" data-home_url="/optimization/" data-path="/optimization/" data-name="OR-Tools"></div><div class="devsite-popout devsite-popout-closed"><div class="devsite-suggest-results" style="display: none;"></div></div></form><a class="devsite-header-link devsite-top-button button gc-analytics-event" href="https://developers.google.cn/products/" data-category="Site-Wide Custom Events" data-label="Site header link" track-type="globalNav" track-name="所有产品" track-metadata-position="nav" track-metadata-eventdetail="nav"><div class="devsite-header-link-icon material-icons">
                  list
                </div><div class="devsite-header-link-label">所有产品</div></a><button type="button" class="devsite-search-button devsite-header-icon-button button-flat
                                       material-icons"></button></div></div></div><div class="devsite-collapsible-section" style="margin-top: 0px;"><div class="devsite-header-background devsite-full-site-width"><div class="devsite-doc-set-nav-row devsite-full-site-width"><nav class="devsite-doc-set-nav devsite-nav devsite-overflow-tabs-scroll-wrapper"><ul class="devsite-doc-set-nav-tab-list devsite-overflow-tabs-scroll" style="min-width: 550px; left: 0px;"><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
                 "><a href="https://developers.google.cn/optimization/" class=" devsite-nav-tab
                  devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Tab: 首页">
          首页
        </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
                 "><a href="https://developers.google.cn/optimization/install" class=" devsite-nav-tab
                  devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Tab: Installation">
          Installation
        </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
                 "><a href="https://developers.google.cn/optimization/introduction/overview" class="devsite-doc-set-nav-active devsite-nav-tab
                  devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event" aria-label="Guides, selected" data-category="Site-Wide Custom Events" data-label="Tab: Guides">
          Guides
        </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
                 "><a href="https://developers.google.cn/optimization/reference" class=" devsite-nav-tab
                  devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Tab: Reference">
          Reference
        </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
                 "><a href="https://developers.google.cn/optimization/support/overview" class=" devsite-nav-tab
                  devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Tab: Support">
          Support
        </a></li></ul><button type="button" class="devsite-overflow-tabs-scroll-button devsite-top-button material-icons devsite-scroll-forward devsite-hidden" aria-label="滚动标签"></button><button type="button" class="devsite-overflow-tabs-scroll-button devsite-top-button material-icons devsite-scroll-back devsite-hidden" aria-label="滚动标签"></button></nav></div></div></div></header><script>
    if (window.jQuery) {
      $(document).ready(function() {
        if (window.devsite && window.devsite.search) {
          
          window.devsite.search.init('zh-cn')
        }
      });
    }
  </script></div><div id="gc-wrapper" itemscope="" itemtype="http://schema.org/Article"><input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {}, &quot;gaid&quot;: &quot;UA-10115507-7&quot;}"><input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;en&quot;, &quot;dimension4&quot;: &quot;OR-Tools&quot;, &quot;dimension5&quot;: &quot;zh-cn&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-24532603-11&quot;}"><script>
      var dataLayer = [{"freeTrialEligibleUser": "False", "userCountry": "CN", "language": {"requested": "zh-cn", "served": "en"}, "projectName": "OR-Tools", "scriptsafe": null, "signedIn": "False", "internalUser": "False"}];
    </script>

      
        <div class="devsite-site-mask"></div>
        
  


<nav class="devsite-nav-responsive devsite-nav nocontent" tabindex="0" style="left: -256px;">
  
  <div class="devsite-nav-responsive-tabs-panel devsite-nav-responsive-transition devsite-nav-responsive-transform" style="display: none;">
    
      



<nav class="devsite-nav-responsive-tabs devsite-nav">
  <ul class="devsite-nav-list">
  

  
    <li class="devsite-nav-item devsite-nav-item-heading">
      
        <a href="https://developers.google.cn/optimization/" class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                  " data-category="Site-Wide Custom Events" data-label="Responsive Tab: 首页"><span>
          首页
        </span></a>
      

      

      

      
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
      
        <a href="https://developers.google.cn/optimization/install?nav=true" class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                  " data-category="Site-Wide Custom Events" data-label="Responsive Tab: Installation"><span>
          Installation
        </span></a>
      

      

      

      
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
      
        <span class="devsite-nav-responsive-forward devsite-nav-responsive-tab devsite-nav-title
                     devsite-nav-active gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Responsive Tab: Guides" tabindex="0"><span>
          Guides
        </span></span>
      

      

      

      
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
      
        <a href="https://developers.google.cn/optimization/reference" class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                  " data-category="Site-Wide Custom Events" data-label="Responsive Tab: Reference"><span>
          Reference
        </span></a>
      

      

      

      
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
      
        <a href="https://developers.google.cn/optimization/support/overview?nav=true" class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                  " data-category="Site-Wide Custom Events" data-label="Responsive Tab: Support"><span>
          Support
        </span></a>
      

      

      

      
    </li>
  

  
    <li class="devsite-nav-item devsite-nav-item-heading">
      <a href="https://developers.google.cn/products/" class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Responsive Tab: all_products"><span>
        所有产品
      </span></a>
    </li>
  
  </ul>
</nav>


    
  </div>
  
  
  <div class="devsite-nav-responsive-sidebar-panel" style="display: block;">
    
    <div class="devsite-nav-responsive-back" tabindex="0"></div>
    
    <nav class="devsite-nav-responsive-sidebar">
      
      
    <ul class="devsite-nav-list devsite-nav-expandable devsite-nav-only-accordions"><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Introduction, click to expand/collapse" role="link" tabindex="0"><span>Introduction</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/overview" class="devsite-nav-title"><span>About Combinatorial Optimization</span></a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Get Started with OR-Tools, click to expand/collapse" role="link" tabindex="0"><span>Get Started with OR-Tools</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="1" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/get_started" class="devsite-nav-title"><span>概览</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/cpp" class="devsite-nav-title"><span>C++</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/python" class="devsite-nav-title"><span>Python</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/java" class="devsite-nav-title"><span>Java</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/cs" class="devsite-nav-title"><span>C#</span></a></li></ul></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Linear Optimization, click to expand/collapse" role="link" tabindex="0"><span>Linear Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp/glop" class="devsite-nav-title"><span>The Glop Linear Solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp/add-on" class="devsite-nav-title"><span>Add-on for Google Sheets</span></a></li><li class="devsite-nav-item devsite-nav-external devsite-nav-has-status"><a href="https://developers.google.cn/apps-script/reference/optimization" class="devsite-nav-title"><span class="devsite-nav-text"><span>Service for Apps Script</span></span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" data-tooltip-align="b,c" data-tooltip="外部" aria-label="外部" data-title="外部"></span></span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Constraint Optimization, click to expand/collapse" role="link" tabindex="0"><span>Constraint Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cp_solver" class="devsite-nav-title"><span>CP-SAT Solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/original_cp_solver" class="devsite-nav-title"><span>Original CP Solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic" class="devsite-nav-title"><span>Cryptarithmetic</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/queens" class="devsite-nav-title"><span>The N-queens Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cp_tasks" class="devsite-nav-title"><span>Setting Solver Limits</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Integer Optimization, click to expand/collapse" role="link" tabindex="0"><span>Integer Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/integer_opt" class="devsite-nav-title"><span>Mixed-Integer Programming</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/integer_opt_cp" class="devsite-nav-title"><span>CP Approach to Integer Optimization</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/sudoku" class="devsite-nav-title"><span>Sudoku Add-on for Google Sheets</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Routing, click to expand/collapse" role="link" tabindex="0"><span>Routing</span></span><a class="devsite-nav-toggle devsite-nav-toggle-expanded material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-expanded"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item devsite-nav-active"><a href="https://developers.google.cn/optimization/routing/tsp" class="devsite-nav-title"><span>Traveling Salesman Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/vrp" class="devsite-nav-title"><span>Vehicle Routing Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrp" class="devsite-nav-title"><span>Capacity Constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw" class="devsite-nav-title"><span>Time Window Constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw_resources" class="devsite-nav-title"><span>Resource Constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/penalties" class="devsite-nav-title" data-tooltip-align="b,c" data-tooltip="Dropping Visits in Infeasible Problems-Penalties" aria-label="Dropping Visits in Infeasible Problems-Penalties" data-title="Dropping Visits in Infeasible Problems-Penalties"><span>Dropping Visits in Infeasible Problems-Penalties</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/routing_tasks" class="devsite-nav-title"><span>Common Vehicle Routing Tasks</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/routing_options" class="devsite-nav-title"><span>Routing Options</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/google_direction" class="devsite-nav-title"><span>Google Direction API</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Bin Packing, click to expand/collapse" role="link" tabindex="0"><span>Bin Packing</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/bin" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/bin/knapsack" class="devsite-nav-title"><span>Knapsacks</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Network Flows, click to expand/collapse" role="link" tabindex="0"><span>Network Flows</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow/maxflow" class="devsite-nav-title"><span>Maximum Flows</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow/mincostflow" class="devsite-nav-title"><span>Minimum Cost Flows</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Assignment, click to expand/collapse" role="link" tabindex="0"><span>Assignment</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/simple_assignment" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_min_cost_flow" class="devsite-nav-title"><span>Assignment as a Min Cost Flow Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_mip" class="devsite-nav-title"><span>Assignment as a MIP Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_cp" class="devsite-nav-title"><span>Assignment with Task Sizes</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_groups" class="devsite-nav-title"><span>Assignment with Allowed Groups</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Scheduling, click to expand/collapse" role="link" tabindex="0"><span>Scheduling</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling/employee_scheduling" class="devsite-nav-title"><span>Employee Scheduling</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling/job_shop" class="devsite-nav-title"><span>The Job Shop Problem</span></a></li></ul></li></ul></nav>
  </div>
  
  
</nav>


        <div class="devsite-main-content clearfix" style="margin-top: 136px;">

        
        

        
  
  
    
    
      
  <nav class="devsite-section-nav devsite-nav nocontent" style="left: auto; max-height: 544px; position: relative; top: 0px;">
    <ul class="devsite-nav-list devsite-nav-expandable devsite-nav-only-accordions"><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Introduction, click to expand/collapse" role="link" tabindex="0"><span>Introduction</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/overview" class="devsite-nav-title"><span>About Combinatorial Optimization</span></a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Get Started with OR-Tools, click to expand/collapse" role="link" tabindex="0"><span>Get Started with OR-Tools</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="1" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/get_started" class="devsite-nav-title"><span>概览</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/cpp" class="devsite-nav-title"><span>C++</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/python" class="devsite-nav-title"><span>Python</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/java" class="devsite-nav-title"><span>Java</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/cs" class="devsite-nav-title"><span>C#</span></a></li></ul></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Linear Optimization, click to expand/collapse" role="link" tabindex="0"><span>Linear Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp/glop" class="devsite-nav-title"><span>The Glop Linear Solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp/add-on" class="devsite-nav-title"><span>Add-on for Google Sheets</span></a></li><li class="devsite-nav-item devsite-nav-external devsite-nav-has-status"><a href="https://developers.google.cn/apps-script/reference/optimization" class="devsite-nav-title"><span class="devsite-nav-text"><span>Service for Apps Script</span></span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" data-tooltip-align="b,c" data-tooltip="外部" aria-label="外部" data-title="外部"></span></span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Constraint Optimization, click to expand/collapse" role="link" tabindex="0"><span>Constraint Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cp_solver" class="devsite-nav-title"><span>CP-SAT Solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/original_cp_solver" class="devsite-nav-title"><span>Original CP Solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic" class="devsite-nav-title"><span>Cryptarithmetic</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/queens" class="devsite-nav-title"><span>The N-queens Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cp_tasks" class="devsite-nav-title"><span>Setting Solver Limits</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Integer Optimization, click to expand/collapse" role="link" tabindex="0"><span>Integer Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/integer_opt" class="devsite-nav-title"><span>Mixed-Integer Programming</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/integer_opt_cp" class="devsite-nav-title"><span>CP Approach to Integer Optimization</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/sudoku" class="devsite-nav-title"><span>Sudoku Add-on for Google Sheets</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Routing, click to expand/collapse" role="link" tabindex="0"><span>Routing</span></span><a class="devsite-nav-toggle devsite-nav-toggle-expanded material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-expanded"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item devsite-nav-active"><a href="https://developers.google.cn/optimization/routing/tsp" class="devsite-nav-title"><span>Traveling Salesman Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/vrp" class="devsite-nav-title"><span>Vehicle Routing Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrp" class="devsite-nav-title"><span>Capacity Constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw" class="devsite-nav-title"><span>Time Window Constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw_resources" class="devsite-nav-title"><span>Resource Constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/penalties" class="devsite-nav-title"><span>Dropping Visits in Infeasible Problems-Penalties</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/routing_tasks" class="devsite-nav-title"><span>Common Vehicle Routing Tasks</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/routing_options" class="devsite-nav-title"><span>Routing Options</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/google_direction" class="devsite-nav-title"><span>Google Direction API</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Bin Packing, click to expand/collapse" role="link" tabindex="0"><span>Bin Packing</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/bin" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/bin/knapsack" class="devsite-nav-title"><span>Knapsacks</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Network Flows, click to expand/collapse" role="link" tabindex="0"><span>Network Flows</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow/maxflow" class="devsite-nav-title"><span>Maximum Flows</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow/mincostflow" class="devsite-nav-title"><span>Minimum Cost Flows</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Assignment, click to expand/collapse" role="link" tabindex="0"><span>Assignment</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/simple_assignment" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_min_cost_flow" class="devsite-nav-title"><span>Assignment as a Min Cost Flow Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_mip" class="devsite-nav-title"><span>Assignment as a MIP Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_cp" class="devsite-nav-title"><span>Assignment with Task Sizes</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_groups" class="devsite-nav-title"><span>Assignment with Allowed Groups</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Scheduling, click to expand/collapse" role="link" tabindex="0"><span>Scheduling</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling/employee_scheduling" class="devsite-nav-title"><span>Employee Scheduling</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling/job_shop" class="devsite-nav-title"><span>The Job Shop Problem</span></a></li></ul></li></ul>
  </nav>

    

    
  <nav class="devsite-page-nav devsite-nav" style="position: relative; left: auto; max-height: 544px; top: 0px;"><ul class="devsite-page-nav-list"><li class="devsite-nav-item devsite-nav-item-heading"><a href="https://developers.google.cn/optimization/routing/tsp#top_of_page" class="devsite-nav-title"><span>目录</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#overview" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#definition" class="devsite-nav-title"><span>The problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#or-tools" class="devsite-nav-title"><span>Solving TSPs with OR-Tools</span></a><ul class="devsite-page-nav-list"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#dist_matrix_data" class="devsite-nav-title"><span>Create the data</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#declare_solver" class="devsite-nav-title"><span>Declare the solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#dist_callback1" class="devsite-nav-title"><span>Create the distance callback</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#solution1" class="devsite-nav-title"><span>Invoke the solver and display the results</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#running" class="devsite-nav-title"><span>Running the program</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#program1" class="devsite-nav-title"><span>Complete program</span></a></li></ul></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#circuit_board" class="devsite-nav-title"><span>Example: drilling a circuit board</span></a><ul class="devsite-page-nav-list"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#data3" class="devsite-nav-title"><span>Create the data</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#euclid_distance" class="devsite-nav-title"><span>The distance function</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#dist_matrix" class="devsite-nav-title"><span>Create the distance matrix</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#dist_callback" class="devsite-nav-title"><span>Create the distance callback</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#output" class="devsite-nav-title"><span>Running the program</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#tsp_py" class="devsite-nav-title"><span>Complete program</span></a></li></ul></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#changing-the-search-strategy" class="devsite-nav-title"><span>Changing the search strategy</span></a></li></ul></nav>


      <article class="devsite-article">
        <article class="devsite-article-inner">
  
          
  


<div class="devsite-rating-container
            "><div class="devsite-rating-stars"><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="1" data-category="Site-Wide Custom Events" data-label="Star Rating 1" track-metadata-score="1" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="网站内容评分：1 星（最高 5 星）"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="2" data-category="Site-Wide Custom Events" data-label="Star Rating 2" track-metadata-score="2" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="网站内容评分：2 星（最高 5 星）"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="3" data-category="Site-Wide Custom Events" data-label="Star Rating 3" track-metadata-score="3" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="网站内容评分：3 星（最高 5 星）"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="4" data-category="Site-Wide Custom Events" data-label="Star Rating 4" track-metadata-score="4" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="网站内容评分：4 星（最高 5 星）"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="5" data-category="Site-Wide Custom Events" data-label="Star Rating 5" track-metadata-score="5" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="网站内容评分：5 星（最高 5 星）"></div></div><div class="devsite-rating-description"></div><div class="devsite-rating-internal"><span class="devsite-rating-stats"></span></div></div><script>
  $(document).ready(function() {
    devsite.ratings.init(
      document.querySelectorAll('#devsite-feedback-project'), false
      
    );
  });
</script>


  
  <nav class="devsite-breadcrumb-nav devsite-nav">
    


<ul class="devsite-breadcrumb-list">
  
  <li class="devsite-breadcrumb-item">
    
    
    <a href="https://developers.google.cn/products/" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="1">
    
    
      产品
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://developers.google.cn/optimization/" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="2">
    
    
      OR-Tools
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://developers.google.cn/optimization/introduction/overview" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="3">
    
    
      Guides
    
    
    </a>
    
  </li>
  
</ul>

  </nav>
  
  
  <h1 itemprop="name" class="devsite-page-title">
    Traveling Salesman Problem
  </h1>
  
  
  <nav class="devsite-page-nav-embedded devsite-nav"><ul class="devsite-page-nav-list"><li class="devsite-nav-item devsite-nav-item-heading"><a href="https://developers.google.cn/optimization/routing/tsp#top_of_page" class="devsite-nav-title"><span>目录</span></a><button type="button" class="devsite-nav-show-all button-transparent material-icons" data-tooltip-align="b,c" data-tooltip="展开/收起内容" aria-label="展开/收起内容" data-title="展开/收起内容"></button></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#overview" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#definition" class="devsite-nav-title"><span>The problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#or-tools" class="devsite-nav-title"><span>Solving TSPs with OR-Tools</span></a><ul class="devsite-page-nav-list"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#dist_matrix_data" class="devsite-nav-title"><span>Create the data</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#declare_solver" class="devsite-nav-title devsite-nav-item-hidden"><span>Declare the solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#dist_callback1" class="devsite-nav-title devsite-nav-item-hidden"><span>Create the distance callback</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#solution1" class="devsite-nav-title devsite-nav-item-hidden"><span>Invoke the solver and display the results</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#running" class="devsite-nav-title devsite-nav-item-hidden"><span>Running the program</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#program1" class="devsite-nav-title devsite-nav-item-hidden"><span>Complete program</span></a></li></ul></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#circuit_board" class="devsite-nav-title devsite-nav-item-hidden"><span>Example: drilling a circuit board</span></a><ul class="devsite-page-nav-list"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#data3" class="devsite-nav-title devsite-nav-item-hidden"><span>Create the data</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#euclid_distance" class="devsite-nav-title devsite-nav-item-hidden"><span>The distance function</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#dist_matrix" class="devsite-nav-title devsite-nav-item-hidden"><span>Create the distance matrix</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#dist_callback" class="devsite-nav-title devsite-nav-item-hidden"><span>Create the distance callback</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#output" class="devsite-nav-title devsite-nav-item-hidden"><span>Running the program</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#tsp_py" class="devsite-nav-title devsite-nav-item-hidden"><span>Complete program</span></a></li></ul></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp#changing-the-search-strategy" class="devsite-nav-title devsite-nav-item-hidden"><span>Changing the search strategy</span></a></li><li class="devsite-nav-item"><button type="button" class="button-flat devsite-nav-more-items material-icons" aria-hidden="true" data-tooltip-align="b,c" data-tooltip="展开/收起内容" aria-label="展开/收起内容" data-title="展开/收起内容"></button></li></ul></nav>
  
  <div class="devsite-article-body clearfix
            " itemprop="articleBody">
    
    <h2 id="overview"><a href="https://developers.google.cn/optimization/routing/tsp#top_of_page" class="devsite-back-to-top-link material-icons" data-tooltip-align="b,c" data-tooltip="返回页首" aria-label="返回页首" data-title="返回页首"></a>Overview</h2>
    <p>The <span style="font-style:italic">Traveling Salesman Problem (TSP)</span> is one of the
      most famous problems in computer science. In what follows, we'll describe the problem and show
      you how to find a solution.
    </p>

    <h2 id="definition"><a href="https://developers.google.cn/optimization/routing/tsp#top_of_page" class="devsite-back-to-top-link material-icons" data-tooltip-align="b,c" data-tooltip="返回页首" aria-label="返回页首" data-title="返回页首"></a>The problem</h2>
    <p>Back in the days when salesmen traveled door-to-door hawking
      vacuums and encyclopedias, they had to plan their routes, from
      house to house or city to city. The shorter the route, the
      better. Finding the shortest route that visits a set of locations is
      an exponentially difficult problem: finding the shortest path for 20
      cities is much more than twice as hard as 10 cities.</p>

    <p>An exhaustive search of all possible paths would be guaranteed to
      find the shortest, but is computationally intractable for all but
      small sets of locations. For larger problems, optimization techniques
      are needed to intelligently search the solution space and find
      near-optimal solutions.</p>

    <p>Mathematically, traveling salesman problems can be represented as a
      graph, where the locations are the nodes and the edges (or arcs) represent
      direct routes between the nodes. The weight of each edge
      is the distance between the nodes. The goal is to find the
      path with the shortest sum of weights. Below, we see a simple
      four-node graph and the shortest cycle that visits every node:
      <img src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/tsp.svg">
    </p>

    <p>In addition to finding solutions to the classical Traveling Salesman Problem, OR-Tools also
      provides methods for more general types of TSPs, including the following:
    </p><ul>
      <li>Asymmetric cost problems—The traditional TSP is <i>symmetric</i>: the distance from
        point A to point B equals the distance from point B to point A. However, the cost of
        shipping items from point A to point B might not equal the cost of shipping them from point
        B to point A. OR-Tools can also handle problems that have asymmetric costs.</li>
      <li>Prize-collecting TSPs, where benefits accrue from visiting nodes</li>
      <li>TSP with time windows</li>
    </ul>

<h2 id="or-tools"><a href="https://developers.google.cn/optimization/routing/tsp#top_of_page" class="devsite-back-to-top-link material-icons" data-tooltip-align="b,c" data-tooltip="返回页首" aria-label="返回页首" data-title="返回页首"></a>Solving TSPs with OR-Tools</h2>

<p>No solver can find the shortest paths for all problems. Lots of
  work has gone into techniques for quickly finding near-optimal
  solutions, and into proving bounds about how closely these techniques
  approach optimality.</p>

<p>You can solve TSPs using the OR-Tools <a href="https://developers.google.cn/optimization/reference/constraint_solver/routing/">vehicle
  routing library</a>, a collection of algorithms designed especially for TSPs, and more general
  problems with multiple vehicles. The routing library is an added layer on top of the
  <a href="https://developers.google.cn/optimization/cp/">constraint programming</a> solver. See
  <a href="https://developers.google.cn/optimization/reference/constraint_solver/routing/RoutingModel">RoutingModel</a>
    for detailed information about the available
    methods for setting up and solving routing problems.</p>
<p>We next present an example that shows how to use OR-Tools to find the shortest route
  through the U.S. cities shown on the map below.</p>

<img src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/tsp_map.png">

<p>The following sections present a Python program that solves the TSP for these cities.</p>

<h3 id="dist_matrix_data">Create the data</h3>
<p>The code shown below creates the data for the problem: the cities and the distance matrix,
whose entry in row i and column j is the distance from city i to city j in miles.</p>
<pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; </span><span class="com"># Cities</span><span class="pln"><br>&nbsp; city_names </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">"New York"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Los Angeles"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Chicago"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Minneapolis"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Denver"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Dallas"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Seattle"</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"Boston"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"San Francisco"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"St. Louis"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Houston"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Phoenix"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Salt Lake City"</span><span class="pun">]</span><span class="pln"><br>&nbsp; </span><span class="com"># Distance matrix</span><span class="pln"><br>&nbsp; dist_matrix </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="pln"> &nbsp; </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2451</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">713</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1018</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1631</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1374</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2408</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">213</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2571</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">875</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1420</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2145</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1972</span><span class="pun">],</span><span class="pln"> </span><span class="com"># New York</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">2451</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1745</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1524</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">831</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1240</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">959</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2596</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">403</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1589</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1374</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">357</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">579</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Los Angeles</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="pln"> </span><span class="lit">713</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1745</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">355</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">920</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">803</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1737</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">851</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1858</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">262</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">940</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1453</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1260</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Chicago</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">1018</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1524</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">355</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">700</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">862</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1395</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1123</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1584</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">466</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1056</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1280</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">987</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Minneapolis</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">1631</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">831</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">920</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">700</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">663</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1021</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1769</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">949</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">796</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">879</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">586</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">371</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Denver</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">1374</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1240</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">803</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">862</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">663</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1681</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1551</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1765</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">547</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">225</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">887</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">999</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Dallas</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">2408</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">959</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1737</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1395</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1021</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1681</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2493</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">678</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1724</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1891</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1114</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">701</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Seattle</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="pln"> </span><span class="lit">213</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2596</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">851</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1123</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1769</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1551</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2493</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2699</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1038</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1605</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2300</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2099</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Boston</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">2571</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">403</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1858</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1584</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">949</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1765</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">678</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2699</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1744</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1645</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">653</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">600</span><span class="pun">],</span><span class="pln"> </span><span class="com"># San Francisco</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="pln"> </span><span class="lit">875</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1589</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">262</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">466</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">796</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">547</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1724</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1038</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1744</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">679</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1272</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1162</span><span class="pun">],</span><span class="pln"> </span><span class="com"># St. Louis</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">1420</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1374</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">940</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1056</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">879</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">225</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1891</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1605</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1645</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">679</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1017</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1200</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Houston</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">2145</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">357</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1453</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1280</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">586</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">887</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1114</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2300</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">653</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1272</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1017</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">504</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Phoenix</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">1972</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">579</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1260</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">987</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">371</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">999</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">701</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2099</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">600</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1162</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">1200</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">504</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">0</span><span class="pun">]]</span><span class="pln"> </span><span class="com"># Salt Lake City</span></pre>
<p>For other TSPs,
you can use the <a href="https://developers.google.cn/maps/documentation/distance-matrix/start">
Google Maps Distance Matrix API</a> to calculate distances between cities, and create the
distance matrix from the results.</p>
<h3 id="declare_solver">Declare the solver</h3>
  <p>The following code declares an instance of the solver and sets the default options for it.</p>
<pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; tsp_size </span><span class="pun">=</span><span class="pln"> len</span><span class="pun">(</span><span class="pln">city_names</span><span class="pun">)</span><span class="pln"><br>&nbsp; num_routes </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln"><br>&nbsp; depot </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br><br>&nbsp; </span><span class="com"># Create routing model</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> tsp_size </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; routing </span><span class="pun">=</span><span class="pln"> pywrapcp</span><span class="pun">.</span><span class="typ">RoutingModel</span><span class="pun">(</span><span class="pln">tsp_size</span><span class="pun">,</span><span class="pln"> num_routes</span><span class="pun">,</span><span class="pln"> depot</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; search_parameters </span><span class="pun">=</span><span class="pln"> pywrapcp</span><span class="pun">.</span><span class="typ">RoutingModel</span><span class="pun">.</span><span class="typ">DefaultSearchParameters</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com"># Create the distance callback.</span><span class="pln"><br>&nbsp; &nbsp; dist_callback </span><span class="pun">=</span><span class="pln"> create_distance_callback</span><span class="pun">(</span><span class="pln">dist_matrix</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; routing</span><span class="pun">.</span><span class="typ">SetArcCostEvaluatorOfAllVehicles</span><span class="pun">(</span><span class="pln">dist_callback</span><span class="pun">)</span></pre>
<p>The solver instance is declared by</p>
<pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">routing </span><span class="pun">=</span><span class="pln"> pywrapcp</span><span class="pun">.</span><span class="typ">RoutingModel</span><span class="pun">(</span><span class="pln">tsp_size</span><span class="pun">,</span><span class="pln"> num_routes</span><span class="pun">,</span><span class="pln"> depot</span><span class="pun">)</span></pre>
<p>using the C++ method
 <a href="https://developers.google.cn/optimization/reference/constraint_solver/routing/RoutingModel#RoutingModel"><code>
 RoutingModel</code></a>, which takes the following arguments:</p>
 <ul>
   <li><code>tsp_size</code>—The number of cities.</li>
   <li><code>num_routes</code>—The number of routes, which is 1 for a TSP.</li>
   <li><code>depot</code>—The start and end node of the route.</li>
 </ul>
 <p>The last three lines in the above code pass the <a href="https://developers.google.cn/optimization/routing/tsp#dist_callback1">
   <em>distance callback</em></a> to the solver, using the C++ method
  <a href="https://developers.google.cn/optimization/reference/constraint_solver/routing/RoutingModel#SetArcCostEvaluatorOfAllVehicles">
  <code>SetArcCostEvaluatorOfAllVehicles</code></a>.</p>

<h3 id="dist_callback1">Create the distance callback</h3>
<p>The distance callback
is a function that computes the distance between any two cities. The following function
creates the callback, <code>distance_callback</code>,
and returns it to the main program, where it can be passed to the solver.</p>

<pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="kwd">def</span><span class="pln"> create_distance_callback</span><span class="pun">(</span><span class="pln">dist_matrix</span><span class="pun">):</span><span class="pln"><br>&nbsp; </span><span class="com"># Create a callback to calculate distances between cities.</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">def</span><span class="pln"> distance_callback</span><span class="pun">(</span><span class="pln">from_node</span><span class="pun">,</span><span class="pln"> to_node</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">int</span><span class="pun">(</span><span class="pln">dist_matrix</span><span class="pun">[</span><span class="pln">from_node</span><span class="pun">][</span><span class="pln">to_node</span><span class="pun">])</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> distance_callback</span></pre>
<p>For a pair of cities, whose indices in the distance matrix are
<code>from_node</code> and <code>to_node</code>, the callback accepts the two indices
and returns the corresponding entry of the distance matrix.</p>

<p><b>Note:</b> Since the routing solver does all computations with integers, the distance callback
needs to
convert the value returned by the distance callback to an integer. In this example, the conversion is done by
the Python <code>int()</code> function.
While converting isn't necessary in this case, because all distances are given as integers, it is
a good idea to always convert the callback's return value to an integer.</p>

<h3 id="solution1">Invoke the solver and display the results</h3>
  <p>The following code invokes the solver (named <code>routing</code>) and displays the results.</p>
<pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; &nbsp; </span><span class="com"># Solve the problem.</span><span class="pln"><br>&nbsp; &nbsp; assignment </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">SolveWithParameters</span><span class="pun">(</span><span class="pln">search_parameters</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> assignment</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="com"># Solution distance.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"Total distance: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> str</span><span class="pun">(</span><span class="pln">assignment</span><span class="pun">.</span><span class="typ">ObjectiveValue</span><span class="pun">())</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">" miles\n"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="com"># Display the solution.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="com"># Only one route here; otherwise iterate from 0 to routing.vehicles() - 1</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; route_number </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; index </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">Start</span><span class="pun">(</span><span class="pln">route_number</span><span class="pun">)</span><span class="pln"> </span><span class="com"># Index of the variable for the starting node.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; route </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">while</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">IsEnd</span><span class="pun">(</span><span class="pln">index</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com"># Convert variable indices to node indices in the displayed route.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; route </span><span class="pun">+=</span><span class="pln"> str</span><span class="pun">(</span><span class="pln">city_names</span><span class="pun">[</span><span class="pln">routing</span><span class="pun">.</span><span class="typ">IndexToNode</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)])</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">' -&gt; '</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; index </span><span class="pun">=</span><span class="pln"> assignment</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">(</span><span class="pln">routing</span><span class="pun">.</span><span class="typ">NextVar</span><span class="pun">(</span><span class="pln">index</span><span class="pun">))</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; route </span><span class="pun">+=</span><span class="pln"> str</span><span class="pun">(</span><span class="pln">city_names</span><span class="pun">[</span><span class="pln">routing</span><span class="pun">.</span><span class="typ">IndexToNode</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)])</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"Route:\n\n"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> route<br>&nbsp; &nbsp; </span><span class="kwd">else</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">print</span><span class="pln"> </span><span class="str">'No solution found.'</span><span class="pln"><br>&nbsp; </span><span class="kwd">else</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">print</span><span class="pln"> </span><span class="str">'Specify an instance greater than 0.'</span></pre>
<h4><a name="nodes" id="nodes"></a>Displaying the route in the output</h4>
<p>To display the route in the output, we first get the starting index of the route.
</p><pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">index </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">Start</span><span class="pun">(</span><span class="pln">route_number</span><span class="pun">)</span></pre>
<code>index</code> is the index of the variable that represents the starting
  node of the route, called the <i>depot</i>. The index of a node variable is not always the same
  as the index of the node itself (its row number in the locations array).
  So, when we add nodes to
  the route displayed in the output, we convert the indices of node variable to node indices,
  using the method <code>routing.IndexToNode()</code>:
<pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">route </span><span class="pun">+=</span><span class="pln"> str</span><span class="pun">(</span><span class="pln">city_names</span><span class="pun">[</span><span class="pln">routing</span><span class="pun">.</span><span class="typ">IndexToNode</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)])</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">' -&gt; '</span></pre>
<p>The program iterates through the nodes of the route by</p>
<pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">index </span><span class="pun">=</span><span class="pln"> assignment</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">(</span><span class="pln">routing</span><span class="pun">.</span><span class="typ">NextVar</span><span class="pun">(</span><span class="pln">index</span><span class="pun">))</span></pre>
<p>which takes an index for a node variable and returns the index for the next node variable
in the route.</p>

<h3 id="running">Running the program</h3>
<p>The complete program is shown in the <a href="https://developers.google.cn/optimization/routing/tsp#program1">next section</a>. When you run the
program, it displays the following output:</p>
<pre class="no-select"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div></div>Route:
New York -&gt; Boston -&gt; Chicago -&gt; Minneapolis -&gt; Denver -&gt; Salt Lake City -&gt; Seattle -&gt;
San Francisco -&gt; Los Angeles -&gt; Phoenix -&gt; Houston -&gt; Dallas -&gt; St. Louis -&gt; New York

Total distance: 7293 miles</pre>
<p>The output gives the route and its total distance, 7293 miles.
(The <i>depot</i> is the starting and ending point for the
tour. Since we don't care where the depot is, OR-Tools uses the first
location.)</p>

<h3 id="program1">Complete program</h3>
<p>The complete program is shown below.</p>
<pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="kwd">from</span><span class="pln"> ortools</span><span class="pun">.</span><span class="pln">constraint_solver </span><span class="kwd">import</span><span class="pln"> pywrapcp<br></span><span class="kwd">from</span><span class="pln"> ortools</span><span class="pun">.</span><span class="pln">constraint_solver </span><span class="kwd">import</span><span class="pln"> routing_enums_pb2<br><br></span><span class="com"># Distance callback</span><span class="pln"><br></span><span class="kwd">def</span><span class="pln"> create_distance_callback</span><span class="pun">(</span><span class="pln">dist_matrix</span><span class="pun">):</span><span class="pln"><br>&nbsp; </span><span class="com"># Create a callback to calculate distances between cities.</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">def</span><span class="pln"> distance_callback</span><span class="pun">(</span><span class="pln">from_node</span><span class="pun">,</span><span class="pln"> to_node</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">int</span><span class="pun">(</span><span class="pln">dist_matrix</span><span class="pun">[</span><span class="pln">from_node</span><span class="pun">][</span><span class="pln">to_node</span><span class="pun">])</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> distance_callback<br><br></span><span class="kwd">def</span><span class="pln"> main</span><span class="pun">():</span><span class="pln"><br>&nbsp; </span><span class="com"># Cities</span><span class="pln"><br>&nbsp; city_names </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">"New York"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Los Angeles"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Chicago"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Minneapolis"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Denver"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Dallas"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Seattle"</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"Boston"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"San Francisco"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"St. Louis"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Houston"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Phoenix"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Salt Lake City"</span><span class="pun">]</span><span class="pln"><br>&nbsp; </span><span class="com"># Distance matrix</span><span class="pln"><br>&nbsp; dist_matrix </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="pln"> &nbsp; </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2451</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">713</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1018</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1631</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1374</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2408</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">213</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2571</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">875</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1420</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2145</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1972</span><span class="pun">],</span><span class="pln"> </span><span class="com"># New York</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">2451</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1745</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1524</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">831</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1240</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">959</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2596</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">403</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1589</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1374</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">357</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">579</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Los Angeles</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="pln"> </span><span class="lit">713</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1745</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">355</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">920</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">803</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1737</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">851</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1858</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">262</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">940</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1453</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1260</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Chicago</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">1018</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1524</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">355</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">700</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">862</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1395</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1123</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1584</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">466</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1056</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1280</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">987</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Minneapolis</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">1631</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">831</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">920</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">700</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">663</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1021</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1769</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">949</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">796</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">879</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">586</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">371</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Denver</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">1374</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1240</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">803</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">862</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">663</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1681</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1551</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1765</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">547</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">225</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">887</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">999</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Dallas</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">2408</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">959</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1737</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1395</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1021</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1681</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2493</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">678</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1724</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1891</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1114</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">701</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Seattle</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="pln"> </span><span class="lit">213</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2596</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">851</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1123</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1769</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1551</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2493</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2699</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1038</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1605</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2300</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2099</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Boston</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">2571</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">403</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1858</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1584</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">949</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1765</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">678</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2699</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1744</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1645</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">653</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">600</span><span class="pun">],</span><span class="pln"> </span><span class="com"># San Francisco</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="pln"> </span><span class="lit">875</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1589</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">262</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">466</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">796</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">547</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1724</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1038</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1744</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">679</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1272</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1162</span><span class="pun">],</span><span class="pln"> </span><span class="com"># St. Louis</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">1420</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1374</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">940</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1056</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">879</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">225</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1891</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1605</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1645</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">679</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1017</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1200</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Houston</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">2145</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">357</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1453</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1280</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">586</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">887</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1114</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2300</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">653</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1272</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1017</span><span class="pun">,</span><span class="pln"> &nbsp; &nbsp;</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">504</span><span class="pun">],</span><span class="pln"> </span><span class="com"># Phoenix</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">[</span><span class="lit">1972</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">579</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1260</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">987</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">371</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">999</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">701</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2099</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">600</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1162</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">1200</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="lit">504</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">0</span><span class="pun">]]</span><span class="pln"> </span><span class="com"># Salt Lake City</span><span class="pln"><br><br>&nbsp; tsp_size </span><span class="pun">=</span><span class="pln"> len</span><span class="pun">(</span><span class="pln">city_names</span><span class="pun">)</span><span class="pln"><br>&nbsp; num_routes </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln"><br>&nbsp; depot </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br><br>&nbsp; </span><span class="com"># Create routing model</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> tsp_size </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; routing </span><span class="pun">=</span><span class="pln"> pywrapcp</span><span class="pun">.</span><span class="typ">RoutingModel</span><span class="pun">(</span><span class="pln">tsp_size</span><span class="pun">,</span><span class="pln"> num_routes</span><span class="pun">,</span><span class="pln"> depot</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; search_parameters </span><span class="pun">=</span><span class="pln"> pywrapcp</span><span class="pun">.</span><span class="typ">RoutingModel</span><span class="pun">.</span><span class="typ">DefaultSearchParameters</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com"># Create the distance callback.</span><span class="pln"><br>&nbsp; &nbsp; dist_callback </span><span class="pun">=</span><span class="pln"> create_distance_callback</span><span class="pun">(</span><span class="pln">dist_matrix</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; routing</span><span class="pun">.</span><span class="typ">SetArcCostEvaluatorOfAllVehicles</span><span class="pun">(</span><span class="pln">dist_callback</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com"># Solve the problem.</span><span class="pln"><br>&nbsp; &nbsp; assignment </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">SolveWithParameters</span><span class="pun">(</span><span class="pln">search_parameters</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> assignment</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="com"># Solution distance.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"Total distance: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> str</span><span class="pun">(</span><span class="pln">assignment</span><span class="pun">.</span><span class="typ">ObjectiveValue</span><span class="pun">())</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">" miles\n"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="com"># Display the solution.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="com"># Only one route here; otherwise iterate from 0 to routing.vehicles() - 1</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; route_number </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; index </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">Start</span><span class="pun">(</span><span class="pln">route_number</span><span class="pun">)</span><span class="pln"> </span><span class="com"># Index of the variable for the starting node.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; route </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">while</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">IsEnd</span><span class="pun">(</span><span class="pln">index</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com"># Convert variable indices to node indices in the displayed route.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; route </span><span class="pun">+=</span><span class="pln"> str</span><span class="pun">(</span><span class="pln">city_names</span><span class="pun">[</span><span class="pln">routing</span><span class="pun">.</span><span class="typ">IndexToNode</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)])</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">' -&gt; '</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; index </span><span class="pun">=</span><span class="pln"> assignment</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">(</span><span class="pln">routing</span><span class="pun">.</span><span class="typ">NextVar</span><span class="pun">(</span><span class="pln">index</span><span class="pun">))</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; route </span><span class="pun">+=</span><span class="pln"> str</span><span class="pun">(</span><span class="pln">city_names</span><span class="pun">[</span><span class="pln">routing</span><span class="pun">.</span><span class="typ">IndexToNode</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)])</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"Route:\n\n"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> route<br>&nbsp; &nbsp; </span><span class="kwd">else</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">print</span><span class="pln"> </span><span class="str">'No solution found.'</span><span class="pln"><br>&nbsp; </span><span class="kwd">else</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">print</span><span class="pln"> </span><span class="str">'Specify an instance greater than 0.'</span><span class="pln"><br><br></span><span class="kwd">if</span><span class="pln"> __name__ </span><span class="pun">==</span><span class="pln"> </span><span class="str">'__main__'</span><span class="pun">:</span><span class="pln"><br>&nbsp; main</span><span class="pun">()</span></pre>

<h2 id="circuit_board"><a href="https://developers.google.cn/optimization/routing/tsp#top_of_page" class="devsite-back-to-top-link material-icons" data-tooltip-align="b,c" data-tooltip="返回页首" aria-label="返回页首" data-title="返回页首"></a>Example: drilling a circuit board</h2>
<p>The next example involes drilling holes in a
circuit board with an automated drill. The problem is to find the shortest route for the drill to
take on the board in order to drill all of the required holes. The example is taken
from TSPLIB, a library of TSP problems.</p>
<p>Here's scatter chart of the locations for the holes:</p>
<iframe class="framebox inherit-locale " style="width: calc(600px + 40px); height: calc(400px + 40px);" src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/tsp_4da4e9d186ebac10854717f94e5d0572.html">&lt;p&gt;[This section requires a browser that supports JavaScript and iframes.]&lt;/p&gt;</iframe>

<h3 id="data3">Create the data</h3>
<p>The data for the problem consists of 280 points in the plane, shown in the scatter chart
  above. The program creates the data in an array of ordered pairs. Each pair corresponds to
  a point in the plane. The first few entries of the array are shown below.</p>

<pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="kwd">def</span><span class="pln"> create_data</span><span class="pun">():</span><span class="pln"><br>&nbsp; locations </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[[</span><span class="lit">288</span><span class="pun">,</span><span class="pln"> </span><span class="lit">149</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">288</span><span class="pun">,</span><span class="pln"> </span><span class="lit">129</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">270</span><span class="pun">,</span><span class="pln"> </span><span class="lit">133</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">256</span><span class="pun">,</span><span class="pln"> </span><span class="lit">141</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">256</span><span class="pun">,</span><span class="pln"> </span><span class="lit">157</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">246</span><span class="pun">,</span><span class="pln"> </span><span class="lit">157</span><span class="pun">],</span><span class="pln"> </span><span class="pun">...</span></pre>

<h3 id="euclid_distance">The distance function</h3>
<p>The distance between any two points is calculated by the Euclidean distance formula, as
shown below.</p>
<pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="kwd">def</span><span class="pln"> euclid_distance</span><span class="pun">(</span><span class="pln">x1</span><span class="pun">,</span><span class="pln"> y1</span><span class="pun">,</span><span class="pln"> x2</span><span class="pun">,</span><span class="pln"> y2</span><span class="pun">):</span><span class="pln"><br>&nbsp; </span><span class="com"># Euclidean distance between points.</span><span class="pln"><br>&nbsp; dist </span><span class="pun">=</span><span class="pln"> math</span><span class="pun">.</span><span class="pln">sqrt</span><span class="pun">((</span><span class="pln">x1 </span><span class="pun">-</span><span class="pln"> x2</span><span class="pun">)**</span><span class="lit">2</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">y1 </span><span class="pun">-</span><span class="pln"> y2</span><span class="pun">)**</span><span class="lit">2</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> dist</span></pre>

<h3 id="dist_matrix">Create the distance matrix</h3>
<p>In the previous example, the distances between locations were pre-calculated and
entered into a matrix. In this case, we'll use the distance formula to build the distance
matrix when you run the program. Here's the code that does this.</p>
<pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="kwd">def</span><span class="pln"> create_distance_matrix</span><span class="pun">(</span><span class="pln">locations</span><span class="pun">):</span><span class="pln"><br></span><span class="com"># Create the distance matrix.</span><span class="pln"><br>&nbsp; size </span><span class="pun">=</span><span class="pln"> len</span><span class="pun">(</span><span class="pln">locations</span><span class="pun">)</span><span class="pln"><br>&nbsp; dist_matrix </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">for</span><span class="pln"> from_node </span><span class="kwd">in</span><span class="pln"> range</span><span class="pun">(</span><span class="pln">size</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; dist_matrix</span><span class="pun">[</span><span class="pln">from_node</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> to_node </span><span class="kwd">in</span><span class="pln"> range</span><span class="pun">(</span><span class="pln">size</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; x1 </span><span class="pun">=</span><span class="pln"> locations</span><span class="pun">[</span><span class="pln">from_node</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; y1 </span><span class="pun">=</span><span class="pln"> locations</span><span class="pun">[</span><span class="pln">from_node</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; x2 </span><span class="pun">=</span><span class="pln"> locations</span><span class="pun">[</span><span class="pln">to_node</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; y2 </span><span class="pun">=</span><span class="pln"> locations</span><span class="pun">[</span><span class="pln">to_node</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; dist_matrix</span><span class="pun">[</span><span class="pln">from_node</span><span class="pun">][</span><span class="pln">to_node</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> euclid_distance</span><span class="pun">(</span><span class="pln">x1</span><span class="pun">,</span><span class="pln"> y1</span><span class="pun">,</span><span class="pln"> x2</span><span class="pun">,</span><span class="pln"> y2</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> dist_matrix</span></pre>

<h3 id="dist_callback">Create the distance callback</h3>
<p>Once the distance matrix is created, the distance callback is defined just
as in the <a href="https://developers.google.cn/optimization/routing/tsp#dist_callback1">previous example</a>. The main section of the program assembles
the distance callback by the following code:</p>

<pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">locations </span><span class="pun">=</span><span class="pln"> create_data_array</span><span class="pun">()</span><span class="pln"><br>dist_matrix </span><span class="pun">=</span><span class="pln"> create_distance_matrix</span><span class="pun">(</span><span class="pln">locations</span><span class="pun">)</span><span class="pln"><br>dist_callback </span><span class="pun">=</span><span class="pln"> create_distance_callback</span><span class="pun">(</span><span class="pln">dist_matrix</span><span class="pun">)</span></pre>

<h3 id="output">Running the program</h3>
<p>The complete program is shown in the <a href="https://developers.google.cn/optimization/routing/tsp#tsp_py">next section</a>. When
you run the program, it displays the following route:</p>
<pre class="no-select"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div></div>Total distance: 2790

Route:

0 -&gt; 1 -&gt; 279 -&gt; 2 -&gt; 278 -&gt; 277 -&gt; 247 -&gt; 248 -&gt; 249 -&gt; 246 -&gt; 244 -&gt; 243 -&gt; 242 -&gt; 241 -&gt; 240 -&gt;
239 -&gt; 238 -&gt; 237 -&gt; 236 -&gt; 235 -&gt; 234 -&gt; 233 -&gt; 232 -&gt; 231 -&gt; 230 -&gt; 245 -&gt; 250 -&gt; 229 -&gt; 228 -&gt;
227 -&gt; 226 -&gt; 225 -&gt; 224 -&gt; 223 -&gt; 222 -&gt; 221 -&gt; 220 -&gt; 219 -&gt; 218 -&gt; 217 -&gt; 216 -&gt; 215 -&gt; 214 -&gt;
213 -&gt; 212 -&gt; 211 -&gt; 210 -&gt; 209 -&gt; 208 -&gt; 251 -&gt; 254 -&gt; 255 -&gt; 257 -&gt; 256 -&gt; 253 -&gt; 252 -&gt; 207 -&gt;
206 -&gt; 205 -&gt; 204 -&gt; 203 -&gt; 202 -&gt; 142 -&gt; 141 -&gt; 146 -&gt; 147 -&gt; 140 -&gt; 139 -&gt; 265 -&gt; 136 -&gt; 137 -&gt;
138 -&gt; 148 -&gt; 149 -&gt; 177 -&gt; 176 -&gt; 175 -&gt; 178 -&gt; 179 -&gt; 180 -&gt; 181 -&gt; 182 -&gt; 183 -&gt; 184 -&gt; 186 -&gt;
185 -&gt; 192 -&gt; 196 -&gt; 197 -&gt; 198 -&gt; 144 -&gt; 145 -&gt; 143 -&gt; 199 -&gt; 201 -&gt; 200 -&gt; 195 -&gt; 194 -&gt; 193 -&gt;
191 -&gt; 190 -&gt; 189 -&gt; 188 -&gt; 187 -&gt; 163 -&gt; 164 -&gt; 165 -&gt; 166 -&gt; 167 -&gt; 168 -&gt; 169 -&gt; 171 -&gt; 170 -&gt;
172 -&gt; 105 -&gt; 106 -&gt; 104 -&gt; 103 -&gt; 107 -&gt; 109 -&gt; 110 -&gt; 113 -&gt; 114 -&gt; 116 -&gt; 117 -&gt; 61 -&gt; 62 -&gt;
63 -&gt; 65 -&gt; 64 -&gt; 84 -&gt; 85 -&gt; 115 -&gt; 112 -&gt; 86 -&gt; 83 -&gt; 82 -&gt; 87 -&gt; 111 -&gt; 108 -&gt; 89 -&gt; 90 -&gt; 91 -&gt;
102 -&gt; 101 -&gt; 100 -&gt; 99 -&gt; 98 -&gt; 97 -&gt; 96 -&gt; 95 -&gt; 94 -&gt; 93 -&gt; 92 -&gt; 79 -&gt; 88 -&gt; 81 -&gt; 80 -&gt; 78 -&gt;
77 -&gt; 76 -&gt; 74 -&gt; 75 -&gt; 73 -&gt; 72 -&gt; 71 -&gt; 70 -&gt; 69 -&gt; 66 -&gt; 68 -&gt; 67 -&gt; 57 -&gt; 56 -&gt; 55 -&gt; 54 -&gt;
53 -&gt; 52 -&gt; 51 -&gt; 50 -&gt; 49 -&gt; 48 -&gt; 47 -&gt; 46 -&gt; 45 -&gt; 44 -&gt; 43 -&gt; 58 -&gt; 60 -&gt; 59 -&gt; 42 -&gt; 41 -&gt;
40 -&gt; 39 -&gt; 38 -&gt; 37 -&gt; 36 -&gt; 35 -&gt; 34 -&gt; 33 -&gt; 32 -&gt; 31 -&gt; 30 -&gt; 29 -&gt; 124 -&gt; 123 -&gt; 122 -&gt; 121 -&gt;
120 -&gt; 119 -&gt; 118 -&gt; 156 -&gt; 157 -&gt; 158 -&gt; 173 -&gt; 162 -&gt; 161 -&gt; 160 -&gt; 174 -&gt; 159 -&gt; 150 -&gt; 151 -&gt;
155 -&gt; 152 -&gt; 154 -&gt; 153 -&gt; 128 -&gt; 129 -&gt; 130 -&gt; 131 -&gt; 18 -&gt; 19 -&gt; 20 -&gt; 127 -&gt; 126 -&gt; 125 -&gt; 28 -&gt;
27 -&gt; 26 -&gt; 25 -&gt; 21 -&gt; 24 -&gt; 22 -&gt; 23 -&gt; 13 -&gt; 12 -&gt; 14 -&gt; 11 -&gt; 10 -&gt; 9 -&gt; 7 -&gt; 8 -&gt; 6 -&gt; 5 -&gt;
275 -&gt; 274 -&gt; 273 -&gt; 272 -&gt; 271 -&gt; 270 -&gt; 15 -&gt; 16 -&gt; 17 -&gt; 132 -&gt; 133 -&gt; 269 -&gt; 268 -&gt; 134 -&gt;
135 -&gt; 267 -&gt; 266 -&gt; 264 -&gt; 263 -&gt; 262 -&gt; 261 -&gt; 260 -&gt; 258 -&gt; 259 -&gt; 276 -&gt; 3 -&gt; 4 -&gt; 0</pre>

<p>Here's a graph of the corresponding route:</p>

<iframe class="framebox inherit-locale " style="width: calc(600px + 40px); height: calc(400px + 40px);" src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/tsp_24cd1131910e055e12346e49ea38551b.html">&lt;p&gt;[This section requires a browser that supports JavaScript and iframes.]&lt;/p&gt;</iframe>

<p>The OR-Tools library finds the above tour very quickly: in less
than a second on a typical computer. The total length of the above
tour is 2790.</p>

<h3 id="tsp_py">Complete program</h3>
<p>Here is the complete program for the circuit board example.</p>
<pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="kwd">import</span><span class="pln"> math<br><br></span><span class="kwd">from</span><span class="pln"> ortools</span><span class="pun">.</span><span class="pln">constraint_solver </span><span class="kwd">import</span><span class="pln"> pywrapcp<br></span><span class="kwd">from</span><span class="pln"> ortools</span><span class="pun">.</span><span class="pln">constraint_solver </span><span class="kwd">import</span><span class="pln"> routing_enums_pb2<br></span><span class="kwd">def</span><span class="pln"> euclid_distance</span><span class="pun">(</span><span class="pln">x1</span><span class="pun">,</span><span class="pln"> y1</span><span class="pun">,</span><span class="pln"> x2</span><span class="pun">,</span><span class="pln"> y2</span><span class="pun">):</span><span class="pln"><br>&nbsp; </span><span class="com"># Euclidean distance between points.</span><span class="pln"><br>&nbsp; dist </span><span class="pun">=</span><span class="pln"> math</span><span class="pun">.</span><span class="pln">sqrt</span><span class="pun">((</span><span class="pln">x1 </span><span class="pun">-</span><span class="pln"> x2</span><span class="pun">)**</span><span class="lit">2</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">y1 </span><span class="pun">-</span><span class="pln"> y2</span><span class="pun">)**</span><span class="lit">2</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> dist<br></span><span class="kwd">def</span><span class="pln"> create_distance_matrix</span><span class="pun">(</span><span class="pln">locations</span><span class="pun">):</span><span class="pln"><br></span><span class="com"># Create the distance matrix.</span><span class="pln"><br>&nbsp; size </span><span class="pun">=</span><span class="pln"> len</span><span class="pun">(</span><span class="pln">locations</span><span class="pun">)</span><span class="pln"><br>&nbsp; dist_matrix </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">for</span><span class="pln"> from_node </span><span class="kwd">in</span><span class="pln"> range</span><span class="pun">(</span><span class="pln">size</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; dist_matrix</span><span class="pun">[</span><span class="pln">from_node</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> to_node </span><span class="kwd">in</span><span class="pln"> range</span><span class="pun">(</span><span class="pln">size</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; x1 </span><span class="pun">=</span><span class="pln"> locations</span><span class="pun">[</span><span class="pln">from_node</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; y1 </span><span class="pun">=</span><span class="pln"> locations</span><span class="pun">[</span><span class="pln">from_node</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; x2 </span><span class="pun">=</span><span class="pln"> locations</span><span class="pun">[</span><span class="pln">to_node</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; y2 </span><span class="pun">=</span><span class="pln"> locations</span><span class="pun">[</span><span class="pln">to_node</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; dist_matrix</span><span class="pun">[</span><span class="pln">from_node</span><span class="pun">][</span><span class="pln">to_node</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> euclid_distance</span><span class="pun">(</span><span class="pln">x1</span><span class="pun">,</span><span class="pln"> y1</span><span class="pun">,</span><span class="pln"> x2</span><span class="pun">,</span><span class="pln"> y2</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> dist_matrix<br></span><span class="kwd">def</span><span class="pln"> create_distance_callback</span><span class="pun">(</span><span class="pln">dist_matrix</span><span class="pun">):</span><span class="pln"><br>&nbsp; </span><span class="com"># Create the distance callback.</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">def</span><span class="pln"> distance_callback</span><span class="pun">(</span><span class="pln">from_node</span><span class="pun">,</span><span class="pln"> to_node</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">int</span><span class="pun">(</span><span class="pln">dist_matrix</span><span class="pun">[</span><span class="pln">from_node</span><span class="pun">][</span><span class="pln">to_node</span><span class="pun">])</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> distance_callback<br><br></span><span class="kwd">def</span><span class="pln"> main</span><span class="pun">():</span><span class="pln"><br>&nbsp; </span><span class="com"># Create the data.</span><span class="pln"><br>&nbsp; locations </span><span class="pun">=</span><span class="pln"> create_data_array</span><span class="pun">()</span><span class="pln"><br>&nbsp; dist_matrix </span><span class="pun">=</span><span class="pln"> create_distance_matrix</span><span class="pun">(</span><span class="pln">locations</span><span class="pun">)</span><span class="pln"><br>&nbsp; dist_callback </span><span class="pun">=</span><span class="pln"> create_distance_callback</span><span class="pun">(</span><span class="pln">dist_matrix</span><span class="pun">)</span><span class="pln"><br>&nbsp; tsp_size </span><span class="pun">=</span><span class="pln"> len</span><span class="pun">(</span><span class="pln">locations</span><span class="pun">)</span><span class="pln"><br>&nbsp; num_routes </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln"><br>&nbsp; depot </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br><br>&nbsp; </span><span class="com"># Create routing model.</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> tsp_size </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; routing </span><span class="pun">=</span><span class="pln"> pywrapcp</span><span class="pun">.</span><span class="typ">RoutingModel</span><span class="pun">(</span><span class="pln">tsp_size</span><span class="pun">,</span><span class="pln"> num_routes</span><span class="pun">,</span><span class="pln"> depot</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; search_parameters </span><span class="pun">=</span><span class="pln"> pywrapcp</span><span class="pun">.</span><span class="typ">RoutingModel</span><span class="pun">.</span><span class="typ">DefaultSearchParameters</span><span class="pun">()</span><span class="pln"><br>&nbsp; &nbsp; routing</span><span class="pun">.</span><span class="typ">SetArcCostEvaluatorOfAllVehicles</span><span class="pun">(</span><span class="pln">dist_callback</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com"># Solve the problem.</span><span class="pln"><br>&nbsp; &nbsp; assignment </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">SolveWithParameters</span><span class="pun">(</span><span class="pln">search_parameters</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> assignment</span><span class="pun">:</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com"># Solution cost.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"Total distance: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> str</span><span class="pun">(</span><span class="pln">assignment</span><span class="pun">.</span><span class="typ">ObjectiveValue</span><span class="pun">())</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">"\n"</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com"># Inspect solution.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="com"># Only one route here; otherwise iterate from 0 to routing.vehicles() - 1.</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; route_number </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; node </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">Start</span><span class="pun">(</span><span class="pln">route_number</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; start_node </span><span class="pun">=</span><span class="pln"> node<br>&nbsp; &nbsp; &nbsp; route </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">while</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">IsEnd</span><span class="pun">(</span><span class="pln">node</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; route </span><span class="pun">+=</span><span class="pln"> str</span><span class="pun">(</span><span class="pln">node</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">' -&gt; '</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; node </span><span class="pun">=</span><span class="pln"> assignment</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">(</span><span class="pln">routing</span><span class="pun">.</span><span class="typ">NextVar</span><span class="pun">(</span><span class="pln">node</span><span class="pun">))</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; route </span><span class="pun">+=</span><span class="pln"> </span><span class="str">'0'</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"Route:\n\n"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> route<br>&nbsp; &nbsp; </span><span class="kwd">else</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">print</span><span class="pln"> </span><span class="str">'No solution found.'</span><span class="pln"><br>&nbsp; </span><span class="kwd">else</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">print</span><span class="pln"> </span><span class="str">'Specify an instance greater than 0.'</span><span class="pln"><br></span><span class="kwd">def</span><span class="pln"> create_data_array</span><span class="pun">():</span><span class="pln"><br>&nbsp; locations </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[[</span><span class="lit">288</span><span class="pun">,</span><span class="pln"> </span><span class="lit">149</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">288</span><span class="pun">,</span><span class="pln"> </span><span class="lit">129</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">270</span><span class="pun">,</span><span class="pln"> </span><span class="lit">133</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">256</span><span class="pun">,</span><span class="pln"> </span><span class="lit">141</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">256</span><span class="pun">,</span><span class="pln"> </span><span class="lit">157</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">246</span><span class="pun">,</span><span class="pln"> </span><span class="lit">157</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">236</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">161</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">220</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">212</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">204</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">196</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">188</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">196</span><span class="pun">,</span><span class="pln"> </span><span class="lit">161</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">188</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">172</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">164</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">156</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">148</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">140</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">148</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">164</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">172</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">156</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">140</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">132</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">124</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">116</span><span class="pun">,</span><span class="pln"> </span><span class="lit">161</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">153</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">161</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">90</span><span class="pun">,</span><span class="pln"> </span><span class="lit">165</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">80</span><span class="pun">,</span><span class="pln"> </span><span class="lit">157</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">64</span><span class="pun">,</span><span class="pln"> </span><span class="lit">157</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">64</span><span class="pun">,</span><span class="pln"> </span><span class="lit">165</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">161</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">153</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">137</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">129</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">121</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">40</span><span class="pun">,</span><span class="pln"> </span><span class="lit">121</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">40</span><span class="pun">,</span><span class="pln"> </span><span class="lit">129</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">40</span><span class="pun">,</span><span class="pln"> </span><span class="lit">137</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">40</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">40</span><span class="pun">,</span><span class="pln"> </span><span class="lit">153</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">40</span><span class="pun">,</span><span class="pln"> </span><span class="lit">161</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">40</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">169</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">161</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">153</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">137</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">129</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">121</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">113</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">40</span><span class="pun">,</span><span class="pln"> </span><span class="lit">113</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">113</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">105</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">48</span><span class="pun">,</span><span class="pln"> </span><span class="lit">99</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">40</span><span class="pun">,</span><span class="pln"> </span><span class="lit">99</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">97</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">89</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">24</span><span class="pun">,</span><span class="pln"> </span><span class="lit">89</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">16</span><span class="pun">,</span><span class="pln"> </span><span class="lit">97</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">16</span><span class="pun">,</span><span class="pln"> </span><span class="lit">109</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">109</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">97</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">89</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">81</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">73</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">65</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">57</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">16</span><span class="pun">,</span><span class="pln"> </span><span class="lit">57</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">49</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">41</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">24</span><span class="pun">,</span><span class="pln"> </span><span class="lit">45</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">41</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">49</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">57</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">65</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">73</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">81</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">40</span><span class="pun">,</span><span class="pln"> </span><span class="lit">83</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">40</span><span class="pun">,</span><span class="pln"> </span><span class="lit">73</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">40</span><span class="pun">,</span><span class="pln"> </span><span class="lit">63</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">40</span><span class="pun">,</span><span class="pln"> </span><span class="lit">51</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">44</span><span class="pun">,</span><span class="pln"> </span><span class="lit">43</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">44</span><span class="pun">,</span><span class="pln"> </span><span class="lit">35</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">44</span><span class="pun">,</span><span class="pln"> </span><span class="lit">27</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">25</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">24</span><span class="pun">,</span><span class="pln"> </span><span class="lit">25</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">16</span><span class="pun">,</span><span class="pln"> </span><span class="lit">25</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">16</span><span class="pun">,</span><span class="pln"> </span><span class="lit">17</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">24</span><span class="pun">,</span><span class="pln"> </span><span class="lit">17</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">32</span><span class="pun">,</span><span class="pln"> </span><span class="lit">17</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">44</span><span class="pun">,</span><span class="pln"> </span><span class="lit">11</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">17</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">25</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">33</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">41</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">64</span><span class="pun">,</span><span class="pln"> </span><span class="lit">41</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">72</span><span class="pun">,</span><span class="pln"> </span><span class="lit">41</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">72</span><span class="pun">,</span><span class="pln"> </span><span class="lit">49</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">49</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">48</span><span class="pun">,</span><span class="pln"> </span><span class="lit">51</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">57</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">65</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">48</span><span class="pun">,</span><span class="pln"> </span><span class="lit">63</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">48</span><span class="pun">,</span><span class="pln"> </span><span class="lit">73</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">73</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">81</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">48</span><span class="pun">,</span><span class="pln"> </span><span class="lit">83</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">89</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">56</span><span class="pun">,</span><span class="pln"> </span><span class="lit">97</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">97</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">105</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">113</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">121</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">129</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">137</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">116</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">124</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">132</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">132</span><span class="pun">,</span><span class="pln"> </span><span class="lit">137</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">140</span><span class="pun">,</span><span class="pln"> </span><span class="lit">137</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">148</span><span class="pun">,</span><span class="pln"> </span><span class="lit">137</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">156</span><span class="pun">,</span><span class="pln"> </span><span class="lit">137</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">164</span><span class="pun">,</span><span class="pln"> </span><span class="lit">137</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">172</span><span class="pun">,</span><span class="pln"> </span><span class="lit">125</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">172</span><span class="pun">,</span><span class="pln"> </span><span class="lit">117</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">172</span><span class="pun">,</span><span class="pln"> </span><span class="lit">109</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">172</span><span class="pun">,</span><span class="pln"> </span><span class="lit">101</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">172</span><span class="pun">,</span><span class="pln"> </span><span class="lit">93</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">172</span><span class="pun">,</span><span class="pln"> </span><span class="lit">85</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">180</span><span class="pun">,</span><span class="pln"> </span><span class="lit">85</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">180</span><span class="pun">,</span><span class="pln"> </span><span class="lit">77</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">180</span><span class="pun">,</span><span class="pln"> </span><span class="lit">69</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">180</span><span class="pun">,</span><span class="pln"> </span><span class="lit">61</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">180</span><span class="pun">,</span><span class="pln"> </span><span class="lit">53</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">172</span><span class="pun">,</span><span class="pln"> </span><span class="lit">53</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">172</span><span class="pun">,</span><span class="pln"> </span><span class="lit">61</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">172</span><span class="pun">,</span><span class="pln"> </span><span class="lit">69</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">172</span><span class="pun">,</span><span class="pln"> </span><span class="lit">77</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">164</span><span class="pun">,</span><span class="pln"> </span><span class="lit">81</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">148</span><span class="pun">,</span><span class="pln"> </span><span class="lit">85</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">124</span><span class="pun">,</span><span class="pln"> </span><span class="lit">85</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">124</span><span class="pun">,</span><span class="pln"> </span><span class="lit">93</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">124</span><span class="pun">,</span><span class="pln"> </span><span class="lit">109</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">124</span><span class="pun">,</span><span class="pln"> </span><span class="lit">125</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">124</span><span class="pun">,</span><span class="pln"> </span><span class="lit">117</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">124</span><span class="pun">,</span><span class="pln"> </span><span class="lit">101</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">89</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">81</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">73</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">65</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">49</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">41</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">33</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">25</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">17</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">92</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">80</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">72</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">64</span><span class="pun">,</span><span class="pln"> </span><span class="lit">21</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">72</span><span class="pun">,</span><span class="pln"> </span><span class="lit">25</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">80</span><span class="pun">,</span><span class="pln"> </span><span class="lit">25</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">80</span><span class="pun">,</span><span class="pln"> </span><span class="lit">25</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">80</span><span class="pun">,</span><span class="pln"> </span><span class="lit">41</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">88</span><span class="pun">,</span><span class="pln"> </span><span class="lit">49</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">104</span><span class="pun">,</span><span class="pln"> </span><span class="lit">57</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">124</span><span class="pun">,</span><span class="pln"> </span><span class="lit">69</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">124</span><span class="pun">,</span><span class="pln"> </span><span class="lit">77</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">132</span><span class="pun">,</span><span class="pln"> </span><span class="lit">81</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">140</span><span class="pun">,</span><span class="pln"> </span><span class="lit">65</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">132</span><span class="pun">,</span><span class="pln"> </span><span class="lit">61</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">124</span><span class="pun">,</span><span class="pln"> </span><span class="lit">61</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">124</span><span class="pun">,</span><span class="pln"> </span><span class="lit">53</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">124</span><span class="pun">,</span><span class="pln"> </span><span class="lit">45</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">124</span><span class="pun">,</span><span class="pln"> </span><span class="lit">37</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">124</span><span class="pun">,</span><span class="pln"> </span><span class="lit">29</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">132</span><span class="pun">,</span><span class="pln"> </span><span class="lit">21</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">124</span><span class="pun">,</span><span class="pln"> </span><span class="lit">21</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">120</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">128</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">136</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">148</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">162</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">156</span><span class="pun">,</span><span class="pln"> </span><span class="lit">25</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">172</span><span class="pun">,</span><span class="pln"> </span><span class="lit">21</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">180</span><span class="pun">,</span><span class="pln"> </span><span class="lit">21</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">180</span><span class="pun">,</span><span class="pln"> </span><span class="lit">29</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">172</span><span class="pun">,</span><span class="pln"> </span><span class="lit">29</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">172</span><span class="pun">,</span><span class="pln"> </span><span class="lit">37</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">172</span><span class="pun">,</span><span class="pln"> </span><span class="lit">45</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">180</span><span class="pun">,</span><span class="pln"> </span><span class="lit">45</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">180</span><span class="pun">,</span><span class="pln"> </span><span class="lit">37</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">188</span><span class="pun">,</span><span class="pln"> </span><span class="lit">41</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">196</span><span class="pun">,</span><span class="pln"> </span><span class="lit">49</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">204</span><span class="pun">,</span><span class="pln"> </span><span class="lit">57</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">212</span><span class="pun">,</span><span class="pln"> </span><span class="lit">65</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">220</span><span class="pun">,</span><span class="pln"> </span><span class="lit">73</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">69</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">77</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">236</span><span class="pun">,</span><span class="pln"> </span><span class="lit">77</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">236</span><span class="pun">,</span><span class="pln"> </span><span class="lit">69</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">236</span><span class="pun">,</span><span class="pln"> </span><span class="lit">61</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">61</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">53</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">236</span><span class="pun">,</span><span class="pln"> </span><span class="lit">53</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">236</span><span class="pun">,</span><span class="pln"> </span><span class="lit">45</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">45</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">37</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">236</span><span class="pun">,</span><span class="pln"> </span><span class="lit">37</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">236</span><span class="pun">,</span><span class="pln"> </span><span class="lit">29</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">29</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">21</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">236</span><span class="pun">,</span><span class="pln"> </span><span class="lit">21</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">252</span><span class="pun">,</span><span class="pln"> </span><span class="lit">21</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">260</span><span class="pun">,</span><span class="pln"> </span><span class="lit">29</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">260</span><span class="pun">,</span><span class="pln"> </span><span class="lit">37</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">260</span><span class="pun">,</span><span class="pln"> </span><span class="lit">45</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">260</span><span class="pun">,</span><span class="pln"> </span><span class="lit">53</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">260</span><span class="pun">,</span><span class="pln"> </span><span class="lit">61</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">260</span><span class="pun">,</span><span class="pln"> </span><span class="lit">69</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">260</span><span class="pun">,</span><span class="pln"> </span><span class="lit">77</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">276</span><span class="pun">,</span><span class="pln"> </span><span class="lit">77</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">276</span><span class="pun">,</span><span class="pln"> </span><span class="lit">69</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">276</span><span class="pun">,</span><span class="pln"> </span><span class="lit">61</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">276</span><span class="pun">,</span><span class="pln"> </span><span class="lit">53</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">284</span><span class="pun">,</span><span class="pln"> </span><span class="lit">53</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">284</span><span class="pun">,</span><span class="pln"> </span><span class="lit">61</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">284</span><span class="pun">,</span><span class="pln"> </span><span class="lit">69</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">284</span><span class="pun">,</span><span class="pln"> </span><span class="lit">77</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">284</span><span class="pun">,</span><span class="pln"> </span><span class="lit">85</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">284</span><span class="pun">,</span><span class="pln"> </span><span class="lit">93</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">284</span><span class="pun">,</span><span class="pln"> </span><span class="lit">101</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">288</span><span class="pun">,</span><span class="pln"> </span><span class="lit">109</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">280</span><span class="pun">,</span><span class="pln"> </span><span class="lit">109</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">276</span><span class="pun">,</span><span class="pln"> </span><span class="lit">101</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">276</span><span class="pun">,</span><span class="pln"> </span><span class="lit">93</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">276</span><span class="pun">,</span><span class="pln"> </span><span class="lit">85</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">268</span><span class="pun">,</span><span class="pln"> </span><span class="lit">97</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">260</span><span class="pun">,</span><span class="pln"> </span><span class="lit">109</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">252</span><span class="pun">,</span><span class="pln"> </span><span class="lit">101</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">260</span><span class="pun">,</span><span class="pln"> </span><span class="lit">93</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">260</span><span class="pun">,</span><span class="pln"> </span><span class="lit">85</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">236</span><span class="pun">,</span><span class="pln"> </span><span class="lit">85</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">85</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">93</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">236</span><span class="pun">,</span><span class="pln"> </span><span class="lit">93</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">236</span><span class="pun">,</span><span class="pln"> </span><span class="lit">101</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">101</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">109</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">117</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">125</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">220</span><span class="pun">,</span><span class="pln"> </span><span class="lit">125</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">212</span><span class="pun">,</span><span class="pln"> </span><span class="lit">117</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">204</span><span class="pun">,</span><span class="pln"> </span><span class="lit">109</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">196</span><span class="pun">,</span><span class="pln"> </span><span class="lit">101</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">188</span><span class="pun">,</span><span class="pln"> </span><span class="lit">93</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">180</span><span class="pun">,</span><span class="pln"> </span><span class="lit">93</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">180</span><span class="pun">,</span><span class="pln"> </span><span class="lit">101</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">180</span><span class="pun">,</span><span class="pln"> </span><span class="lit">109</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">180</span><span class="pun">,</span><span class="pln"> </span><span class="lit">117</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">180</span><span class="pun">,</span><span class="pln"> </span><span class="lit">125</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">196</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">204</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">212</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">220</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">236</span><span class="pun">,</span><span class="pln"> </span><span class="lit">145</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">246</span><span class="pun">,</span><span class="pln"> </span><span class="lit">141</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">252</span><span class="pun">,</span><span class="pln"> </span><span class="lit">125</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">260</span><span class="pun">,</span><span class="pln"> </span><span class="lit">129</span><span class="pun">],</span><span class="pln"><br></span><span class="pun">[</span><span class="lit">280</span><span class="pun">,</span><span class="pln"> </span><span class="lit">133</span><span class="pun">]]</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> locations<br><br></span><span class="kwd">if</span><span class="pln"> __name__ </span><span class="pun">==</span><span class="pln"> </span><span class="str">'__main__'</span><span class="pun">:</span><span class="pln"><br>&nbsp; main</span><span class="pun">()</span></pre>

<p>You can find version of this program in the other supported languages in the links below.</p>

<ul>
  <li>
    <b>C++</b>:
    <a href="https://github.com/google/or-tools/blob/master/examples/cpp/tsp.cc">
    https://github.com/google/or-tools/blob/master/examples/cpp/tsp.cc</a></li>
  <li>
    <b>Java</b>:
    <a href="https://github.com/google/or-tools/blob/master/examples/java/Tsp.java">
      https://github.com/google/or-tools/blob/master/examples/java/Tsp.java</a>
  </li>
  <li>
    <b>C#</b>:
    <a href="https://github.com/google/or-tools/blob/master/examples/dotnet/cstsp.cs">
      https://github.com/google/or-tools/blob/master/examples/dotnet/cstsp.cs</a>
  </li>
</ul>

<h2 id="changing-the-search-strategy"><a href="https://developers.google.cn/optimization/routing/tsp#top_of_page" class="devsite-back-to-top-link material-icons" data-tooltip-align="b,c" data-tooltip="返回页首" aria-label="返回页首" data-title="返回页首"></a>Changing the search strategy</h2>
<p>Since TSPs are computationally intractable, the routing solver does not
always find the optimal solution to a problem. For instance,
the solution returned in the  <a href="https://developers.google.cn/optimization/routing/tsp#tsp_py">previous example</a> is not the optimal route.
To find a better solution, you can use a more advanced search strategy,
called <em>guided local search</em>,
which enables the solver to escape a <span style="font-style:italic">local minimum</span>—a
solution that is shorter than all nearby routes, but which is not the global minimum. After moving
away from the local minimum, the solver continues the search. Search strategies like this are
called <em>local search metaheuristics</em>.</p><p>

</p><p>To set a guided local search, add the following option to <code>search_parameters</code>
in the main method of the program:
</p><pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">search_parameters</span><span class="pun">.</span><span class="pln">local_search_metaheuristic </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; routing_enums_pb2</span><span class="pun">.</span><span class="typ">LocalSearchMetaheuristic</span><span class="pun">.</span><span class="pln">GUIDED_LOCAL_SEARCH</span><span class="pun">)</span></pre>
<aside class="note"><b>Note:</b> When using <code>GUIDED_LOCAL_SEARCH</code> or other metaheuristics,
  you need to set a time limit for the solver—otherwise the solver will not terminate. The
  following code sets a time limit of 30000 milliseconds, or 30 seconds.
  <pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">search_parameters</span><span class="pun">.</span><span class="pln">time_limit_ms </span><span class="pun">=</span><span class="pln"> </span><span class="lit">30000</span></pre>
</aside>

<p>When you run the program after making these changes, you get the following solution,
which is shorter than the previous solution.</p>
<pre class="no-select"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div></div>Total distance: 2659

Route:

0 -&gt; 3 -&gt; 276 -&gt; 4 -&gt; 5 -&gt; 6 -&gt; 8 -&gt; 7 -&gt; 9 -&gt; 10 -&gt; 11 -&gt; 14 -&gt; 12 -&gt; 13 -&gt; 23 -&gt; 22 -&gt; 24 -&gt; 21 -&gt;
25 -&gt; 26 -&gt; 27 -&gt; 28 -&gt; 125 -&gt; 126 -&gt; 127 -&gt; 20 -&gt; 19 -&gt; 130 -&gt; 129 -&gt; 128 -&gt; 153 -&gt; 154 -&gt; 152 -&gt;
155 -&gt; 151 -&gt; 150 -&gt; 177 -&gt; 176 -&gt; 175 -&gt; 180 -&gt; 161 -&gt; 160 -&gt; 174 -&gt; 159 -&gt; 158 -&gt; 157 -&gt; 156 -&gt;
118 -&gt; 119 -&gt; 120 -&gt; 121 -&gt; 122 -&gt; 123 -&gt; 124 -&gt; 29 -&gt; 30 -&gt; 31 -&gt; 32 -&gt; 33 -&gt; 34 -&gt; 35 -&gt; 36 -&gt;
37 -&gt; 38 -&gt; 39 -&gt; 40 -&gt; 41 -&gt; 42 -&gt; 59 -&gt; 60 -&gt; 58 -&gt; 43 -&gt; 44 -&gt; 45 -&gt; 46 -&gt; 47 -&gt; 48 -&gt; 49 -&gt;
50 -&gt; 51 -&gt; 52 -&gt; 53 -&gt; 54 -&gt; 55 -&gt; 56 -&gt; 57 -&gt; 67 -&gt; 68 -&gt; 66 -&gt; 69 -&gt; 70 -&gt; 71 -&gt; 72 -&gt; 73 -&gt;
75 -&gt; 74 -&gt; 76 -&gt; 77 -&gt; 78 -&gt; 80 -&gt; 81 -&gt; 88 -&gt; 79 -&gt; 92 -&gt; 93 -&gt; 94 -&gt; 95 -&gt; 96 -&gt; 97 -&gt; 98 -&gt;
99 -&gt; 100 -&gt; 101 -&gt; 102 -&gt; 91 -&gt; 90 -&gt; 89 -&gt; 108 -&gt; 111 -&gt; 87 -&gt; 82 -&gt; 83 -&gt; 86 -&gt; 112 -&gt; 115 -&gt;
85 -&gt; 84 -&gt; 64 -&gt; 65 -&gt; 63 -&gt; 62 -&gt; 61 -&gt; 117 -&gt; 116 -&gt; 114 -&gt; 113 -&gt; 110 -&gt; 109 -&gt; 107 -&gt; 103 -&gt;
104 -&gt; 105 -&gt; 106 -&gt; 173 -&gt; 172 -&gt; 171 -&gt; 170 -&gt; 169 -&gt; 168 -&gt; 167 -&gt; 166 -&gt; 165 -&gt; 164 -&gt; 163 -&gt;
162 -&gt; 187 -&gt; 188 -&gt; 189 -&gt; 190 -&gt; 191 -&gt; 192 -&gt; 185 -&gt; 186 -&gt; 184 -&gt; 183 -&gt; 182 -&gt; 181 -&gt; 179 -&gt;
178 -&gt; 149 -&gt; 148 -&gt; 138 -&gt; 137 -&gt; 136 -&gt; 266 -&gt; 267 -&gt; 135 -&gt; 134 -&gt; 268 -&gt; 269 -&gt; 133 -&gt; 132 -&gt;
131 -&gt; 18 -&gt; 17 -&gt; 16 -&gt; 15 -&gt; 270 -&gt; 271 -&gt; 272 -&gt; 273 -&gt; 274 -&gt; 275 -&gt; 259 -&gt; 258 -&gt; 260 -&gt; 261 -&gt;
262 -&gt; 263 -&gt; 264 -&gt; 265 -&gt; 139 -&gt; 140 -&gt; 147 -&gt; 146 -&gt; 141 -&gt; 142 -&gt; 145 -&gt; 144 -&gt; 198 -&gt; 197 -&gt;
196 -&gt; 193 -&gt; 194 -&gt; 195 -&gt; 200 -&gt; 201 -&gt; 199 -&gt; 143 -&gt; 202 -&gt; 203 -&gt; 204 -&gt; 205 -&gt; 206 -&gt; 207 -&gt;
252 -&gt; 253 -&gt; 256 -&gt; 257 -&gt; 255 -&gt; 254 -&gt; 251 -&gt; 208 -&gt; 209 -&gt; 210 -&gt; 211 -&gt; 212 -&gt; 213 -&gt; 214 -&gt;
215 -&gt; 216 -&gt; 217 -&gt; 218 -&gt; 219 -&gt; 220 -&gt; 221 -&gt; 222 -&gt; 223 -&gt; 224 -&gt; 225 -&gt; 226 -&gt; 227 -&gt; 232 -&gt;
233 -&gt; 234 -&gt; 235 -&gt; 236 -&gt; 237 -&gt; 230 -&gt; 231 -&gt; 228 -&gt; 229 -&gt; 250 -&gt; 245 -&gt; 238 -&gt; 239 -&gt; 240 -&gt;
241 -&gt; 242 -&gt; 243 -&gt; 244 -&gt; 246 -&gt; 249 -&gt; 248 -&gt; 247 -&gt; 277 -&gt; 278 -&gt; 2 -&gt; 279 -&gt; 1 -&gt; 0
</pre>

<iframe class="framebox inherit-locale " style="width: calc(600px + 40px); height: calc(400px + 40px);" src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/tsp_ca60cc62f39431964c62b68ff290cd55.html">&lt;p&gt;[This section requires a browser that supports JavaScript and iframes.]&lt;/p&gt;</iframe>

  <p>For more search options, see <a href="https://developers.google.cn/optimization/routing/routing_options">Routing
   Options</a>.</p>

<p>The best algorithms can now routinely solve TSP instances with tens
of thousands of nodes. (The record at the time of writing is
the <tt class="docutils
literal"><span class="pre">pla85900</span></tt> instance in TSPLIB, a
VLSI application with 85,900 nodes. For certain instances with
millions of nodes, solutions have been found guaranteed to be within
1% of an optimal tour.)</p>
  
  </div>
  

  
        
  







        
<div class="devsite-content-footer nocontent">
  
  
    <p>Except as otherwise noted, the content of this page is licensed under the <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License</a>, and code samples are licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For details, see our <a href="https://developers.google.cn/terms/site-policies">Site Policies</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
  

  
    
    <p class="devsite-content-footer-date" itemprop="datePublished" content="2018-12-06T07:39:01.380264">
      
      上次更新日期：十二月 6, 2018
    </p>
  

</div>

        </article>
      </article>
  

        </div>
      

<footer class="devsite-footer-promos nocontent"><nav class="devsite-full-site-width"><ul class="devsite-footer-promos-list"><li class="devsite-footer-promo"><a href="http://github.com/google/or-tools" class="devsite-footer-promo-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Content Page Footer Promo"><img class="devsite-footer-promo-icon" src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/logo-github.svg">
          
          
            GitHub
          
        </a><div class="devsite-footer-promo-description">Download our code</div></li><li class="devsite-footer-promo"><a href="https://groups.google.com/forum/#!forum/or-tools-discuss" class="devsite-footer-promo-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Content Page Footer Promo" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。"><img class="devsite-footer-promo-icon" src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/groups_24dp.png">
          
          
            Discussion forum
          
        </a><div class="devsite-footer-promo-description">Visit our forum</div></li><li class="devsite-footer-promo"><a href="http://or-tools.blogspot.com/" class="devsite-footer-promo-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Content Page Footer Promo" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。"><img class="devsite-footer-promo-icon" src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/blogger_24dp.png">
          
          
            Blog
          
        </a><div class="devsite-footer-promo-description">Read our blog</div></li></ul></nav></footer><footer class="devsite-footer-linkboxes nocontent
               devsite-footer-linkboxes-all-backup
               devsite-footer-linkboxes-with-sites"><nav class="devsite-full-site-width"><ul class="devsite-footer-linkboxes-list"><li class="devsite-footer-linkbox devsite-footer-linkbox-backup"><h3 class="devsite-footer-linkbox-heading">社交沟通</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="http://developers.googleblog.cn/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Blog Link">
                博客
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://www.facebook.com/Google-Developers-967415219957038/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Facebook Link">
                Facebook
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://plus.google.com/+GoogleDevelopers" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer G+ Link" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Google+
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://medium.com/google-developers" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Medium Link">
                Medium
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://twitter.com/googledevs" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Twitter Link">
                Twitter
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://www.youtube.com/channel/UCQqa5UIHtrnpiADC3eHFupw" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer YouTube Link" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                YouTube
            </a></li></ul></li><li class="devsite-footer-linkbox devsite-footer-linkbox-backup"><h3 class="devsite-footer-linkbox-heading">计划</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://www.womentechmakers.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Women Techmakers">
                Women Techmakers
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.cn/agency/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Agency">
                Agency Program
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.cn/groups/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Groups">
                GDG
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.cn/experts/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Experts">
                Google Developers Experts
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.cn/startups/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Startups">
                Startup Launchpad
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://userresearch.google.com/?reserved=0&amp;utm_source=developers.google.com&amp;Q_Language=en&amp;utm_medium=own_srch&amp;utm_campaign=Global-developers&amp;utm_term=0&amp;utm_content=0&amp;productTag=clou&amp;campaignDate=nov18&amp;pType=devel&amp;referral_code=js564523" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer User Studies" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                User Studies
            </a></li></ul></li><li class="devsite-footer-linkbox devsite-footer-linkbox-backup"><h3 class="devsite-footer-linkbox-heading">开发者控制台</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://console.developers.google.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Google API Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://console.cloud.google.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Google Cloud Platform Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Google Cloud Platform Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://play.google.com/apps/publish/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Google Play Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Google Play Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://console.firebase.google.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Firebase Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Firebase Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://console.actions.google.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Actions on Google Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Actions on Google Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cast.google.com/publish/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Cast SDK Developer Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Cast SDK Developer Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://chrome.google.com/webstore/developer/dashboard" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Chrome Web Store Developer Dashboard" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Chrome Web Store Dashboard
            </a></li></ul></li><li class="devsite-footer-linkbox devsite-footer-linkbox-sites"><a href="https://developers.google.cn/" class="gc-analytics-event devsite-footer-linkbox-logo-link" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link"><img class="devsite-footer-linkbox-logo" src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/lockup-color-knockout.png" alt="Google Developers"></a><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://developer.android.google.cn/index.html" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Android Link">
                Android
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developer.chrome.com/home" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Chrome Link" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Chrome
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://firebase.google.cn/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Firebase Link">
                Firebase
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Cloud Link" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Google Cloud Platform
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.cn/products/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Products Link">
                所有产品
            </a></li></ul></li></ul></nav></footer><footer class="devsite-utility-footer"><nav class="devsite-utility-footer-nav devsite-nav devsite-full-site-width"><div class="devsite-utility-footer-nav-left"><form class="devsite-utility-footer-language" action="https://developers.google.cn/i18n/setlang/" method="post"><input type="hidden" name="xsrf_token" value="s5mZj2jJnIkC3xAHkZjD2VQqiUxd8JJSbH8pJHHOxC86MTU0NzAxNzU4ODgzNjUzOA"><input type="hidden" name="next" value="/optimization/routing/tsp"><select class="devsite-utility-footer-language-select kd-select" name="language" track-type="languageSelector" track-name="click" style="display: none;"><option value="id" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="id" track-metadata-original-language="zh-cn" track-metadata-selected-language="id">
            Bahasa Indonesia
          </option><option value="de" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="de" track-metadata-original-language="zh-cn" track-metadata-selected-language="de">
            Deutsch
          </option><option value="en" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="en" track-metadata-original-language="zh-cn" track-metadata-selected-language="en">
            English
          </option><option value="es" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="es" track-metadata-original-language="zh-cn" track-metadata-selected-language="es">
            español
          </option><option value="fr" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="fr" track-metadata-original-language="zh-cn" track-metadata-selected-language="fr">
            français
          </option><option value="pt-br" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="pt-br" track-metadata-original-language="zh-cn" track-metadata-selected-language="pt-br">
            Português Brasileiro
          </option><option value="ru" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ru" track-metadata-original-language="zh-cn" track-metadata-selected-language="ru">
            Русский
          </option><option value="ja" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ja" track-metadata-original-language="zh-cn" track-metadata-selected-language="ja">
            日本語
          </option><option value="zh-cn" selected="selected" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="zh-cn" track-metadata-original-language="zh-cn" track-metadata-selected-language="zh-cn">
            简体中文
          </option><option value="ko" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ko" track-metadata-original-language="zh-cn" track-metadata-selected-language="ko">
            한국어
          </option></select><span class="kd-button kd-menubutton kd-select" track-type="languageSelector" track-name="click"><div class="label">
            简体中文
          </div><div class="kd-disclosureindicator"></div></span></form><span class="devsite-utility-footer-links"><a class="devsite-utility-footer-link gc-analytics-event" href="https://developers.google.cn/terms/site-terms" data-category="Site-Wide Custom Events" data-label="Footer terms link" data-footer-link-id="terms">条款
         </a><a class="devsite-utility-footer-link gc-analytics-event" href="https://policies.google.cn/privacy" data-category="Site-Wide Custom Events" data-label="Footer privacy link" data-footer-link-id="privacy" data-cookie-policy="//policies.google.cn/technologies/cookies">隐私权
         </a></span></div></nav></footer><div class="devsite-feedback-dialog devsite-dialog"><div class="devsite-dialog-contents"><h3>发送以下问题的反馈：</h3><div class="devsite-feedback-item"><a data-type="documentation" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Docs Feedback Image" track-type="feedback" track-name="feedbackDocIcon" track-metadata-position="header"><div class="devsite-feedback-item-icon-container"><div class="devsite-feedback-item-icon-white devsite-feedback-item-icon-docs
                        material-icons"></div></div></a><div class="devsite-feedback-item-name">
          
          此网页
        </div><div class="devsite-feedback-item-description"><a data-type="documentation" tabindex="0" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Docs Feedback Text" track-type="feedback" track-name="feedbackDocText" track-metadata-position="header">
            
            文档反馈
          </a></div></div><div class="devsite-feedback-item"><a data-type="product" tabindex="0" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Product Feedback Image" track-type="feedback" track-name="feedbackProductIcon" track-metadata-position="header"><img src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/orLogo.png" class="devsite-feedback-item-icon" alt="OR-Tools"></a><div class="devsite-feedback-item-name">
        OR-Tools
        </div><div class="devsite-feedback-item-description"><a data-type="product" tabindex="0" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Product Feedback Text" track-type="feedback" track-name="feedbackProductText" track-metadata-position="header">
            
            产品反馈
          </a></div></div></div><div class="devsite-dialog-buttons"><button type="button" class="devsite-feedback-cancel button-white gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Cancel Feedback Button" track-type="feedback" track-name="cancelFeedbackButton" track-metadata-position="header">
        
        取消
      </button></div></div><script>
  $(document).ready(function() {
    new devsite.feedback.Widget({
        'product_id': '106275',
        'bucket': '',
        'context': 'DevSite feedback link',
        'version': 'devsite-20190107-r00-rc01.default'
      },
      document.querySelectorAll('.devsite-feedback-button'),
      'zh-cn',
      document.querySelector('.devsite-site-mask'),
      document.querySelector('.devsite-feedback-dialog'),
      document.querySelector('.devsite-feedback-cancel'),
      document.querySelectorAll('.devsite-feedback-item a:not([href])')
    );
  });
  </script></div><script async="" defer="" src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/api.js"></script><script src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/saved_resource"></script><script src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/script_foot_closure__zh_cn.js"></script><script src="./Traveling Salesman Problem  _  OR-Tools  _  Google Developers_files/script_foot.js"></script><script>
        (function($) {
          
          devsite.devsite.Init($, {'ENABLE_BLOCKED_VIDEO_PLACEHOLDER': 1, 'SITE_NAME': 'devsite_china', 'FULL_SITE_SEARCH_ENABLED': 0, 'ENABLE_CLOUDTRACK': 0, 'VTAGS_ENABLED': 0, 'HISTORY_ENABLED': 0, 'SIDEBAR_MINI_ENABLED': 0, 'VERSION_HASH': '0ee1984e83', 'SCRIPTSAFE_DOMAIN': 'google-developers.gonglchuangl.net', 'ENABLE_BLOCKED_LINK_TOOLTIP': 1, 'ALLOWED_HOSTS': ['.android.com', '.appspot.com', '.gonglchuangl.net', '.google.cn', '.google.com', '.googleplex.com', '.tensorflow.org'], 'BLOCK_RSS_FEEDS': 1},
                               '[]','zh-cn',
                               true, '',
                               {"8e03e230de0bd8a6fe173fdf172e8b3f": true, "8de7a048f21618359bd37f5ce44be073": false, "cb025a64a50094835616312f4774a53d": true, "51470233c56fc1fde50f00b73c52b216": false, "d169d485cf24243a263783dbe42029b1": true, "039e5d84b87fd75807ffb37b7f1bbf2c": true, "700def1a83e356c06c0925afb05de4b0": false, "6749dcb526ce9bde6993550c7d928d24": true, "098dafe57affddc137df300142652cfd": false}, '/optimization/',
                               'https://developers.google.cn/');
        })(jQuery);

        
        devsite.localInit = function() {
          
        };

      </script><script>
      $('.devsite-utility-footer-language-select').each(function() {
        $(this).change(function(){$('.devsite-utility-footer-language').submit();});
      });
      </script></div><span id="devsite-request-elapsed" data-request-elapsed="356.620073318"></span>
<ul class="kd-menulist devsite-hidden" style="left: 23.9946px; right: auto; top: 14226.1px;"><li class="kd-menulistitem" value="id" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="id" track-metadata-original-language="zh-cn" track-metadata-selected-language="id">
            Bahasa Indonesia
          </li><li class="kd-menulistitem" value="de" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="de" track-metadata-original-language="zh-cn" track-metadata-selected-language="de">
            Deutsch
          </li><li class="kd-menulistitem" value="en" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="en" track-metadata-original-language="zh-cn" track-metadata-selected-language="en">
            English
          </li><li class="kd-menulistitem" value="es" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="es" track-metadata-original-language="zh-cn" track-metadata-selected-language="es">
            español
          </li><li class="kd-menulistitem" value="fr" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="fr" track-metadata-original-language="zh-cn" track-metadata-selected-language="fr">
            français
          </li><li class="kd-menulistitem" value="pt-br" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="pt-br" track-metadata-original-language="zh-cn" track-metadata-selected-language="pt-br">
            Português Brasileiro
          </li><li class="kd-menulistitem" value="ru" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ru" track-metadata-original-language="zh-cn" track-metadata-selected-language="ru">
            Русский
          </li><li class="kd-menulistitem" value="ja" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ja" track-metadata-original-language="zh-cn" track-metadata-selected-language="ja">
            日本語
          </li><li class="kd-menulistitem devsite-selected-option" value="zh-cn" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="zh-cn" track-metadata-original-language="zh-cn" track-metadata-selected-language="zh-cn">
            简体中文
          </li><li class="kd-menulistitem" value="ko" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ko" track-metadata-original-language="zh-cn" track-metadata-selected-language="ko">
            한국어
          </li></ul></body></html>