<!DOCTYPE html>
<!-- saved from url=(0056)https://developers.google.cn/optimization/routing/cvrptw -->
<html lang="en" class="" ml-update="aware"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" async="" src="./Vehicle Routing Problem with Time Windows  _  OR-Tools  _  Google Developers_files/linkid.js"></script><script async="" src="./Vehicle Routing Problem with Time Windows  _  OR-Tools  _  Google Developers_files/analytics.js"></script><script>var a=window.devsite||{};window.devsite=a;a.readyCallbacks=[];window.devsite.readyCallbacks=a.readyCallbacks;a.ready=function(b){a.readyCallbacks.push(b)};window.devsite.ready=a.ready;
</script><meta name="xsrf_token" content="BoYNt2jbeWMkuhU9RxYi_Z3cGfh6Q27jtQPQga3OGrc6MTU0NzAxNzYxMjE1NTg1Nw"><link rel="canonical" href="https://developers.google.com/optimization/routing/cvrptw"><link rel="alternate" href="https://developers.google.com/optimization/routing/cvrptw" hreflang="en"><link rel="alternate" href="https://developers.google.cn/optimization/routing/cvrptw" hreflang="en-cn"><link rel="alternate" href="https://developers.google.com/optimization/routing/cvrptw" hreflang="x-default"><link rel="shortcut icon" href="https://developers.google.cn/_static/0ee1984e83/images/favicon.png"><link rel="apple-touch-icon" href="https://developers.google.cn/_static/0ee1984e83/images/touch-icon.png"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="./Vehicle Routing Problem with Time Windows  _  OR-Tools  _  Google Developers_files/css"><link rel="stylesheet" href="./Vehicle Routing Problem with Time Windows  _  OR-Tools  _  Google Developers_files/devsite-google-blue.css"><script src="./Vehicle Routing Problem with Time Windows  _  OR-Tools  _  Google Developers_files/jquery-bundle.js"></script><meta property="og:site_name" content="Google Developers"><meta property="og:type" content="website"><meta property="og:url" content="https://developers.google.com/optimization/routing/cvrptw"><meta property="og:locale" content="en"><script>
    var ___gcfg = ___gcfg || {};
    ___gcfg.lang = 'zh-cn';
  </script><title>Vehicle Routing Problem with Time Windows &nbsp;|&nbsp; OR-Tools
      &nbsp;|&nbsp; Google Developers</title><meta property="og:title" content="Vehicle Routing Problem with Time Windows  |  OR-Tools
       |  Google Developers"></head><body class="devsite-doc-page devsite-header-no-upper-tabs no-touch" data-family="endorsed" id="top_of_page"><div class="devsite-wrapper" style="margin-top: 0px;"><div class="devsite-top-section-wrapper
            "><header class="devsite-top-section nocontent devsite-top-section-pinned"><div class="devsite-top-logo-row-wrapper-wrapper" style="position: relative;"><div class="devsite-top-logo-row-wrapper"><div class="devsite-top-logo-row devsite-full-site-width"><button type="button" class="devsite-expand-section-nav devsite-header-icon-button
                                       button-flat material-icons gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Hamburger menu"></button><div class="devsite-product-name-wrapper"><a class="devsite-product-name-link gc-analytics-event" href="https://developers.google.cn/optimization/" data-category="Site-Wide Custom Events" data-label="Project logo (header)"><img src="./Vehicle Routing Problem with Time Windows  _  OR-Tools  _  Google Developers_files/orLogo.png" class="devsite-product-logo" alt="Google OR-Tools"></a><span class="devsite-product-name"><ul class="devsite-breadcrumb-list"><li class="devsite-breadcrumb-item"><a href="https://developers.google.cn/optimization/" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Upper Header" data-value="1">
    
    
      
        Google OR-Tools
      
    
    
    </a></li></ul></span></div><div class="devsite-header-upper-tabs"></div><form class="devsite-search-form" action="https://developers.google.cn/s/results/" method="GET" id="top-search" search-placeholder="搜索"><div id="searchbox" class="devsite-searchbox"><input placeholder="搜索" type="text" class="devsite-search-field devsite-search-query" name="q" value="" autocomplete="off" aria-label="搜索框"><div class="devsite-search-image material-icons"></div></div><input type="hidden" name="p" id="search_project" value="/optimization/" data-project-name="OR-Tools" data-project-path="/optimization/" data-query-match=""><input type="hidden" class="suggest-project" value="OR-Tools"><div class="suggest-project-metadata" data-home_url="/optimization/" data-path="/optimization/" data-name="OR-Tools"></div><div class="devsite-popout devsite-popout-closed"><div class="devsite-suggest-results" style="display: none;"></div></div></form><a class="devsite-header-link devsite-top-button button gc-analytics-event" href="https://developers.google.cn/products/" data-category="Site-Wide Custom Events" data-label="Site header link" track-type="globalNav" track-name="所有产品" track-metadata-position="nav" track-metadata-eventdetail="nav"><div class="devsite-header-link-icon material-icons">
                  list
                </div><div class="devsite-header-link-label">所有产品</div></a><button type="button" class="devsite-search-button devsite-header-icon-button button-flat
                                       material-icons"></button></div></div></div><div class="devsite-collapsible-section" style="margin-top: 0px;"><div class="devsite-header-background devsite-full-site-width"><div class="devsite-doc-set-nav-row devsite-full-site-width"><nav class="devsite-doc-set-nav devsite-nav devsite-overflow-tabs-scroll-wrapper"><ul class="devsite-doc-set-nav-tab-list devsite-overflow-tabs-scroll" style="min-width: 550px; left: 0px;"><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
                 "><a href="https://developers.google.cn/optimization/" class=" devsite-nav-tab
                  devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Tab: 首页">
          首页
        </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
                 "><a href="https://developers.google.cn/optimization/install" class=" devsite-nav-tab
                  devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Tab: Installation">
          Installation
        </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
                 "><a href="https://developers.google.cn/optimization/introduction/overview" class="devsite-doc-set-nav-active devsite-nav-tab
                  devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event" aria-label="Guides, selected" data-category="Site-Wide Custom Events" data-label="Tab: Guides">
          Guides
        </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
                 "><a href="https://developers.google.cn/optimization/reference" class=" devsite-nav-tab
                  devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Tab: Reference">
          Reference
        </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
                 "><a href="https://developers.google.cn/optimization/support/overview" class=" devsite-nav-tab
                  devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Tab: Support">
          Support
        </a></li></ul><button type="button" class="devsite-overflow-tabs-scroll-button devsite-top-button material-icons devsite-scroll-forward devsite-hidden" aria-label="滚动标签"></button><button type="button" class="devsite-overflow-tabs-scroll-button devsite-top-button material-icons devsite-scroll-back devsite-hidden" aria-label="滚动标签"></button></nav></div></div></div></header><script>
    if (window.jQuery) {
      $(document).ready(function() {
        if (window.devsite && window.devsite.search) {
          
          window.devsite.search.init('zh-cn')
        }
      });
    }
  </script></div><div id="gc-wrapper" itemscope="" itemtype="http://schema.org/Article"><input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {}, &quot;gaid&quot;: &quot;UA-10115507-7&quot;}"><input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;en&quot;, &quot;dimension4&quot;: &quot;OR-Tools&quot;, &quot;dimension5&quot;: &quot;zh-cn&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-24532603-11&quot;}"><script>
      var dataLayer = [{"freeTrialEligibleUser": "False", "userCountry": "CN", "language": {"requested": "zh-cn", "served": "en"}, "projectName": "OR-Tools", "scriptsafe": null, "signedIn": "False", "internalUser": "False"}];
    </script>

      
        <div class="devsite-site-mask"></div>
        
  


<nav class="devsite-nav-responsive devsite-nav nocontent" tabindex="0" style="left: -256px;">
  
  <div class="devsite-nav-responsive-tabs-panel devsite-nav-responsive-transition devsite-nav-responsive-transform" style="display: none;">
    
      



<nav class="devsite-nav-responsive-tabs devsite-nav">
  <ul class="devsite-nav-list">
  

  
    <li class="devsite-nav-item devsite-nav-item-heading">
      
        <a href="https://developers.google.cn/optimization/" class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                  " data-category="Site-Wide Custom Events" data-label="Responsive Tab: 首页"><span>
          首页
        </span></a>
      

      

      

      
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
      
        <a href="https://developers.google.cn/optimization/install?nav=true" class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                  " data-category="Site-Wide Custom Events" data-label="Responsive Tab: Installation"><span>
          Installation
        </span></a>
      

      

      

      
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
      
        <span class="devsite-nav-responsive-forward devsite-nav-responsive-tab devsite-nav-title
                     devsite-nav-active gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Responsive Tab: Guides" tabindex="0"><span>
          Guides
        </span></span>
      

      

      

      
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
      
        <a href="https://developers.google.cn/optimization/reference" class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                  " data-category="Site-Wide Custom Events" data-label="Responsive Tab: Reference"><span>
          Reference
        </span></a>
      

      

      

      
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
      
        <a href="https://developers.google.cn/optimization/support/overview?nav=true" class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                  " data-category="Site-Wide Custom Events" data-label="Responsive Tab: Support"><span>
          Support
        </span></a>
      

      

      

      
    </li>
  

  
    <li class="devsite-nav-item devsite-nav-item-heading">
      <a href="https://developers.google.cn/products/" class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Responsive Tab: all_products"><span>
        所有产品
      </span></a>
    </li>
  
  </ul>
</nav>


    
  </div>
  
  
  <div class="devsite-nav-responsive-sidebar-panel" style="display: block;">
    
    <div class="devsite-nav-responsive-back" tabindex="0"></div>
    
    <nav class="devsite-nav-responsive-sidebar">
      
      
    <ul class="devsite-nav-list devsite-nav-expandable devsite-nav-only-accordions"><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Introduction, click to expand/collapse" role="link" tabindex="0"><span>Introduction</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/overview" class="devsite-nav-title"><span>About Combinatorial Optimization</span></a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Get Started with OR-Tools, click to expand/collapse" role="link" tabindex="0"><span>Get Started with OR-Tools</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="1" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/get_started" class="devsite-nav-title"><span>概览</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/cpp" class="devsite-nav-title"><span>C++</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/python" class="devsite-nav-title"><span>Python</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/java" class="devsite-nav-title"><span>Java</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/cs" class="devsite-nav-title"><span>C#</span></a></li></ul></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Linear Optimization, click to expand/collapse" role="link" tabindex="0"><span>Linear Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp/glop" class="devsite-nav-title"><span>The Glop Linear Solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp/add-on" class="devsite-nav-title"><span>Add-on for Google Sheets</span></a></li><li class="devsite-nav-item devsite-nav-external devsite-nav-has-status"><a href="https://developers.google.cn/apps-script/reference/optimization" class="devsite-nav-title"><span class="devsite-nav-text"><span>Service for Apps Script</span></span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" data-tooltip-align="b,c" data-tooltip="外部" aria-label="外部" data-title="外部"></span></span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Constraint Optimization, click to expand/collapse" role="link" tabindex="0"><span>Constraint Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cp_solver" class="devsite-nav-title"><span>CP-SAT Solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/original_cp_solver" class="devsite-nav-title"><span>Original CP Solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic" class="devsite-nav-title"><span>Cryptarithmetic</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/queens" class="devsite-nav-title"><span>The N-queens Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cp_tasks" class="devsite-nav-title"><span>Setting Solver Limits</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Integer Optimization, click to expand/collapse" role="link" tabindex="0"><span>Integer Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/integer_opt" class="devsite-nav-title"><span>Mixed-Integer Programming</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/integer_opt_cp" class="devsite-nav-title"><span>CP Approach to Integer Optimization</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/sudoku" class="devsite-nav-title"><span>Sudoku Add-on for Google Sheets</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Routing, click to expand/collapse" role="link" tabindex="0"><span>Routing</span></span><a class="devsite-nav-toggle devsite-nav-toggle-expanded material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-expanded"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp" class="devsite-nav-title"><span>Traveling Salesman Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/vrp" class="devsite-nav-title"><span>Vehicle Routing Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrp" class="devsite-nav-title"><span>Capacity Constraints</span></a></li><li class="devsite-nav-item devsite-nav-active"><a href="https://developers.google.cn/optimization/routing/cvrptw" class="devsite-nav-title"><span>Time Window Constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw_resources" class="devsite-nav-title"><span>Resource Constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/penalties" class="devsite-nav-title" data-tooltip-align="b,c" data-tooltip="Dropping Visits in Infeasible Problems-Penalties" aria-label="Dropping Visits in Infeasible Problems-Penalties" data-title="Dropping Visits in Infeasible Problems-Penalties"><span>Dropping Visits in Infeasible Problems-Penalties</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/routing_tasks" class="devsite-nav-title"><span>Common Vehicle Routing Tasks</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/routing_options" class="devsite-nav-title"><span>Routing Options</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/google_direction" class="devsite-nav-title"><span>Google Direction API</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Bin Packing, click to expand/collapse" role="link" tabindex="0"><span>Bin Packing</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/bin" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/bin/knapsack" class="devsite-nav-title"><span>Knapsacks</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Network Flows, click to expand/collapse" role="link" tabindex="0"><span>Network Flows</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow/maxflow" class="devsite-nav-title"><span>Maximum Flows</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow/mincostflow" class="devsite-nav-title"><span>Minimum Cost Flows</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Assignment, click to expand/collapse" role="link" tabindex="0"><span>Assignment</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/simple_assignment" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_min_cost_flow" class="devsite-nav-title"><span>Assignment as a Min Cost Flow Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_mip" class="devsite-nav-title"><span>Assignment as a MIP Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_cp" class="devsite-nav-title"><span>Assignment with Task Sizes</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_groups" class="devsite-nav-title"><span>Assignment with Allowed Groups</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Scheduling, click to expand/collapse" role="link" tabindex="0"><span>Scheduling</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling/employee_scheduling" class="devsite-nav-title"><span>Employee Scheduling</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling/job_shop" class="devsite-nav-title"><span>The Job Shop Problem</span></a></li></ul></li></ul></nav>
  </div>
  
  
</nav>


        <div class="devsite-main-content clearfix" style="margin-top: 136px;">

        
        

        
  
  
    
    
      
  <nav class="devsite-section-nav devsite-nav nocontent" style="left: auto; max-height: 544px; position: relative; top: 0px;">
    <ul class="devsite-nav-list devsite-nav-expandable devsite-nav-only-accordions"><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Introduction, click to expand/collapse" role="link" tabindex="0"><span>Introduction</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/overview" class="devsite-nav-title"><span>About Combinatorial Optimization</span></a></li><li class="devsite-nav-item devsite-nav-item-section-expandable"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Get Started with OR-Tools, click to expand/collapse" role="link" tabindex="0"><span>Get Started with OR-Tools</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="1" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/get_started" class="devsite-nav-title"><span>概览</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/cpp" class="devsite-nav-title"><span>C++</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/python" class="devsite-nav-title"><span>Python</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/java" class="devsite-nav-title"><span>Java</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/introduction/cs" class="devsite-nav-title"><span>C#</span></a></li></ul></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Linear Optimization, click to expand/collapse" role="link" tabindex="0"><span>Linear Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp/glop" class="devsite-nav-title"><span>The Glop Linear Solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/lp/add-on" class="devsite-nav-title"><span>Add-on for Google Sheets</span></a></li><li class="devsite-nav-item devsite-nav-external devsite-nav-has-status"><a href="https://developers.google.cn/apps-script/reference/optimization" class="devsite-nav-title"><span class="devsite-nav-text"><span>Service for Apps Script</span></span><span class="devsite-nav-icon-wrapper"><span class="devsite-nav-icon material-icons" data-tooltip-align="b,c" data-tooltip="外部" aria-label="外部" data-title="外部"></span></span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Constraint Optimization, click to expand/collapse" role="link" tabindex="0"><span>Constraint Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cp_solver" class="devsite-nav-title"><span>CP-SAT Solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/original_cp_solver" class="devsite-nav-title"><span>Original CP Solver</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cryptarithmetic" class="devsite-nav-title"><span>Cryptarithmetic</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/queens" class="devsite-nav-title"><span>The N-queens Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/cp/cp_tasks" class="devsite-nav-title"><span>Setting Solver Limits</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Integer Optimization, click to expand/collapse" role="link" tabindex="0"><span>Integer Optimization</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/integer_opt" class="devsite-nav-title"><span>Mixed-Integer Programming</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/integer_opt_cp" class="devsite-nav-title"><span>CP Approach to Integer Optimization</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/mip/sudoku" class="devsite-nav-title"><span>Sudoku Add-on for Google Sheets</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Routing, click to expand/collapse" role="link" tabindex="0"><span>Routing</span></span><a class="devsite-nav-toggle devsite-nav-toggle-expanded material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0"></a><ul class="devsite-nav-section devsite-nav-section-expanded"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/tsp" class="devsite-nav-title"><span>Traveling Salesman Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/vrp" class="devsite-nav-title"><span>Vehicle Routing Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrp" class="devsite-nav-title"><span>Capacity Constraints</span></a></li><li class="devsite-nav-item devsite-nav-active"><a href="https://developers.google.cn/optimization/routing/cvrptw" class="devsite-nav-title"><span>Time Window Constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw_resources" class="devsite-nav-title"><span>Resource Constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/penalties" class="devsite-nav-title"><span>Dropping Visits in Infeasible Problems-Penalties</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/routing_tasks" class="devsite-nav-title"><span>Common Vehicle Routing Tasks</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/routing_options" class="devsite-nav-title"><span>Routing Options</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/google_direction" class="devsite-nav-title"><span>Google Direction API</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Bin Packing, click to expand/collapse" role="link" tabindex="0"><span>Bin Packing</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/bin" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/bin/knapsack" class="devsite-nav-title"><span>Knapsacks</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Network Flows, click to expand/collapse" role="link" tabindex="0"><span>Network Flows</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow/maxflow" class="devsite-nav-title"><span>Maximum Flows</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/flow/mincostflow" class="devsite-nav-title"><span>Minimum Cost Flows</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Assignment, click to expand/collapse" role="link" tabindex="0"><span>Assignment</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/simple_assignment" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_min_cost_flow" class="devsite-nav-title"><span>Assignment as a Min Cost Flow Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_mip" class="devsite-nav-title"><span>Assignment as a MIP Problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_cp" class="devsite-nav-title"><span>Assignment with Task Sizes</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/assignment/assignment_groups" class="devsite-nav-title"><span>Assignment with Allowed Groups</span></a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Scheduling, click to expand/collapse" role="link" tabindex="0"><span>Scheduling</span></span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling/employee_scheduling" class="devsite-nav-title"><span>Employee Scheduling</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/scheduling/job_shop" class="devsite-nav-title"><span>The Job Shop Problem</span></a></li></ul></li></ul>
  </nav>

    

    
  <nav class="devsite-page-nav devsite-nav" style="position: relative; left: auto; max-height: 544px; top: 0px;"><ul class="devsite-page-nav-list"><li class="devsite-nav-item devsite-nav-item-heading"><a href="https://developers.google.cn/optimization/routing/cvrptw#top_of_page" class="devsite-nav-title"><span>目录</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#overview" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#example" class="devsite-nav-title"><span>Example</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#example_python" class="devsite-nav-title"><span>Solving the example with OR-Tools</span></a><ul class="devsite-page-nav-list"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#model" class="devsite-nav-title"><span>Model the problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#distance" class="devsite-nav-title"><span>Distance callback</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#time" class="devsite-nav-title"><span>Time dimension</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#time_window_constraints" class="devsite-nav-title"><span>Add time window constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#printer" class="devsite-nav-title"><span>Define the solution printer</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#main" class="devsite-nav-title"><span>Main function</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#solution" class="devsite-nav-title"><span>Running the program</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#program" class="devsite-nav-title"><span>The complete program</span></a></li></ul></li></ul></nav>


      <article class="devsite-article">
        <article class="devsite-article-inner">
  
          
  


<div class="devsite-rating-container
            "><div class="devsite-rating-stars"><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="1" data-category="Site-Wide Custom Events" data-label="Star Rating 1" track-metadata-score="1" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="网站内容评分：1 星（最高 5 星）"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="2" data-category="Site-Wide Custom Events" data-label="Star Rating 2" track-metadata-score="2" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="网站内容评分：2 星（最高 5 星）"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="3" data-category="Site-Wide Custom Events" data-label="Star Rating 3" track-metadata-score="3" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="网站内容评分：3 星（最高 5 星）"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="4" data-category="Site-Wide Custom Events" data-label="Star Rating 4" track-metadata-score="4" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="网站内容评分：4 星（最高 5 星）"></div><div class="devsite-rating-star devsite-rating-star-outline gc-analytics-event material-icons" data-rating-val="5" data-category="Site-Wide Custom Events" data-label="Star Rating 5" track-metadata-score="5" track-type="feedback" track-name="rating" track-metadata-position="header" role="button" aria-label="网站内容评分：5 星（最高 5 星）"></div></div><div class="devsite-rating-description"></div><div class="devsite-rating-internal"><span class="devsite-rating-stats"></span></div></div><script>
  $(document).ready(function() {
    devsite.ratings.init(
      document.querySelectorAll('#devsite-feedback-project'), false
      
    );
  });
</script>


  
  <nav class="devsite-breadcrumb-nav devsite-nav">
    


<ul class="devsite-breadcrumb-list">
  
  <li class="devsite-breadcrumb-item">
    
    
    <a href="https://developers.google.cn/products/" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="1">
    
    
      产品
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://developers.google.cn/optimization/" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="2">
    
    
      OR-Tools
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://developers.google.cn/optimization/introduction/overview" class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="3">
    
    
      Guides
    
    
    </a>
    
  </li>
  
</ul>

  </nav>
  
  
  <h1 itemprop="name" class="devsite-page-title">
    Vehicle Routing Problem with Time Windows
  </h1>
  
  
  <nav class="devsite-page-nav-embedded devsite-nav"><ul class="devsite-page-nav-list"><li class="devsite-nav-item devsite-nav-item-heading"><a href="https://developers.google.cn/optimization/routing/cvrptw#top_of_page" class="devsite-nav-title"><span>目录</span></a><button type="button" class="devsite-nav-show-all button-transparent material-icons" data-tooltip-align="b,c" data-tooltip="展开/收起内容" aria-label="展开/收起内容" data-title="展开/收起内容"></button></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#overview" class="devsite-nav-title"><span>Overview</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#example" class="devsite-nav-title"><span>Example</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#example_python" class="devsite-nav-title"><span>Solving the example with OR-Tools</span></a><ul class="devsite-page-nav-list"><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#model" class="devsite-nav-title"><span>Model the problem</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#distance" class="devsite-nav-title devsite-nav-item-hidden"><span>Distance callback</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#time" class="devsite-nav-title devsite-nav-item-hidden"><span>Time dimension</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#time_window_constraints" class="devsite-nav-title devsite-nav-item-hidden"><span>Add time window constraints</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#printer" class="devsite-nav-title devsite-nav-item-hidden"><span>Define the solution printer</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#main" class="devsite-nav-title devsite-nav-item-hidden"><span>Main function</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#solution" class="devsite-nav-title devsite-nav-item-hidden"><span>Running the program</span></a></li><li class="devsite-nav-item"><a href="https://developers.google.cn/optimization/routing/cvrptw#program" class="devsite-nav-title devsite-nav-item-hidden"><span>The complete program</span></a></li></ul></li><li class="devsite-nav-item"><button type="button" class="button-flat devsite-nav-more-items material-icons" aria-hidden="true" data-tooltip-align="b,c" data-tooltip="展开/收起内容" aria-label="展开/收起内容" data-title="展开/收起内容"></button></li></ul></nav>
  
  <div class="devsite-article-body clearfix
            " itemprop="articleBody">
    
    <h2 id="overview"><a href="https://developers.google.cn/optimization/routing/cvrptw#top_of_page" class="devsite-back-to-top-link material-icons" data-tooltip-align="b,c" data-tooltip="返回页首" aria-label="返回页首" data-title="返回页首"></a>Overview</h2>
    <p>Many vehicle routing problems involve scheduling deliveries or service calls to customers.
      A natural constraint for these problems is that a customer can only receive a delivery or
      service call during a specified window of time.
      These problems are called <span style="font-style:italic">Vehicle Routing Problems with
      Time Windows (VRPTW)</span>.
    </p>

    <h2 id="example"><a href="https://developers.google.cn/optimization/routing/cvrptw#top_of_page" class="devsite-back-to-top-link material-icons" data-tooltip-align="b,c" data-tooltip="返回页首" aria-label="返回页首" data-title="返回页首"></a>Example</h2>
    <p>On this page, we'll walk through an example of using OR-Tools to solve a VRPTW.
      This example extends the previous VRP example. The example adds
      time windows and shows how to calculate the total time it takes a vehicle to get from one
      location to the next.</p>
    <p>The diagram below shows the locations to visit in blue and the depot in black. The time
      windows (in minutes) are shown above each location. See
    <a href="https://developers.google.cn/optimization/routing/vrp#manhattan_distance">Location coordinates</a>
      in the VRP section for more details about how the locations are defined.</p>
      <img src="./Vehicle Routing Problem with Time Windows  _  OR-Tools  _  Google Developers_files/cvrptw.svg">
      <p>The objective is to minimize the sum of travel time and waiting time needed to supply all
      customers during the time windows.
    </p>

    <h2 id="example_python"><a href="https://developers.google.cn/optimization/routing/cvrptw#top_of_page" class="devsite-back-to-top-link material-icons" data-tooltip-align="b,c" data-tooltip="返回页首" aria-label="返回页首" data-title="返回页首"></a>Solving the example with OR-Tools</h2>
    <p>The following section walks through a Python implementation to solve this example.</p>

    <h3 id="model">Model the problem</h3>
    <p>The following code creates the data for the problem.</p>
<pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="kwd">def</span><span class="pln"> create_data_model</span><span class="pun">():</span><span class="pln"><br>&nbsp; </span><span class="str">"""Creates the data for the example."""</span><span class="pln"><br>&nbsp; data </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln"><br>&nbsp; </span><span class="com"># Array of distances between locations.</span><span class="pln"><br>&nbsp; _distances </span><span class="pun">=</span><span class="pln"> </span><span class="pun">\</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">[</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">548</span><span class="pun">,</span><span class="pln"> </span><span class="lit">776</span><span class="pun">,</span><span class="pln"> </span><span class="lit">696</span><span class="pun">,</span><span class="pln"> </span><span class="lit">582</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">308</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">776</span><span class="pun">,</span><span class="pln"> </span><span class="lit">662</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">548</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">684</span><span class="pun">,</span><span class="pln"> </span><span class="lit">308</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">696</span><span class="pun">,</span><span class="pln"> </span><span class="lit">742</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1084</span><span class="pun">,</span><span class="pln"> </span><span class="lit">594</span><span class="pun">,</span><span class="pln"> </span><span class="lit">480</span><span class="pun">,</span><span class="pln"> </span><span class="lit">674</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1016</span><span class="pun">,</span><span class="pln"> </span><span class="lit">868</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1210</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">776</span><span class="pun">,</span><span class="pln"> </span><span class="lit">684</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">992</span><span class="pun">,</span><span class="pln"> </span><span class="lit">878</span><span class="pun">,</span><span class="pln"> </span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">810</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">742</span><span class="pun">,</span><span class="pln"> </span><span class="lit">400</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1278</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1164</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1130</span><span class="pun">,</span><span class="pln"> </span><span class="lit">788</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1552</span><span class="pun">,</span><span class="pln"> </span><span class="lit">754</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">696</span><span class="pun">,</span><span class="pln"> </span><span class="lit">308</span><span class="pun">,</span><span class="pln"> </span><span class="lit">992</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">114</span><span class="pun">,</span><span class="pln"> </span><span class="lit">650</span><span class="pun">,</span><span class="pln"> </span><span class="lit">878</span><span class="pun">,</span><span class="pln"> </span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">844</span><span class="pun">,</span><span class="pln"> </span><span class="lit">890</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1232</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">628</span><span class="pun">,</span><span class="pln"> </span><span class="lit">822</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1164</span><span class="pun">,</span><span class="pln"> </span><span class="lit">560</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1358</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">582</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">878</span><span class="pun">,</span><span class="pln"> </span><span class="lit">114</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">764</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">776</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1118</span><span class="pun">,</span><span class="pln"> </span><span class="lit">400</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">708</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1050</span><span class="pun">,</span><span class="pln"> </span><span class="lit">674</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1244</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">650</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">308</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">240</span><span class="pun">,</span><span class="pln"> </span><span class="lit">582</span><span class="pun">,</span><span class="pln"> </span><span class="lit">776</span><span class="pun">,</span><span class="pln"> </span><span class="lit">662</span><span class="pun">,</span><span class="pln"> </span><span class="lit">628</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1050</span><span class="pun">,</span><span class="pln"> </span><span class="lit">708</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">878</span><span class="pun">,</span><span class="pln"> </span><span class="lit">764</span><span class="pun">,</span><span class="pln"> </span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1004</span><span class="pun">,</span><span class="pln"> </span><span class="lit">890</span><span class="pun">,</span><span class="pln"> </span><span class="lit">856</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1278</span><span class="pun">,</span><span class="pln"> </span><span class="lit">480</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">810</span><span class="pun">,</span><span class="pln"> </span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">308</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">342</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">320</span><span class="pun">,</span><span class="pln"> </span><span class="lit">662</span><span class="pun">,</span><span class="pln"> </span><span class="lit">742</span><span class="pun">,</span><span class="pln"> </span><span class="lit">856</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">308</span><span class="pun">,</span><span class="pln"> </span><span class="lit">696</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">844</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">342</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">810</span><span class="pun">,</span><span class="pln"> </span><span class="lit">696</span><span class="pun">,</span><span class="pln"> </span><span class="lit">662</span><span class="pun">,</span><span class="pln"> </span><span class="lit">320</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1084</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">742</span><span class="pun">,</span><span class="pln"> </span><span class="lit">742</span><span class="pun">,</span><span class="pln"> </span><span class="lit">890</span><span class="pun">,</span><span class="pln"> </span><span class="lit">776</span><span class="pun">,</span><span class="pln"> </span><span class="lit">240</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">342</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">422</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">810</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1084</span><span class="pun">,</span><span class="pln"> </span><span class="lit">400</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1232</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1118</span><span class="pun">,</span><span class="pln"> </span><span class="lit">582</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">342</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">878</span><span class="pun">,</span><span class="pln"> </span><span class="lit">764</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1152</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">594</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1278</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">400</span><span class="pun">,</span><span class="pln"> </span><span class="lit">776</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1004</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">810</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">878</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">114</span><span class="pun">,</span><span class="pln"> </span><span class="lit">308</span><span class="pun">,</span><span class="pln"> </span><span class="lit">650</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">844</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">480</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1164</span><span class="pun">,</span><span class="pln"> </span><span class="lit">628</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">662</span><span class="pun">,</span><span class="pln"> </span><span class="lit">890</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">696</span><span class="pun">,</span><span class="pln"> </span><span class="lit">422</span><span class="pun">,</span><span class="pln"> </span><span class="lit">764</span><span class="pun">,</span><span class="pln"> </span><span class="lit">114</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">674</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1130</span><span class="pun">,</span><span class="pln"> </span><span class="lit">822</span><span class="pun">,</span><span class="pln"> </span><span class="lit">708</span><span class="pun">,</span><span class="pln"> </span><span class="lit">628</span><span class="pun">,</span><span class="pln"> </span><span class="lit">856</span><span class="pun">,</span><span class="pln"> </span><span class="lit">320</span><span class="pun">,</span><span class="pln"> </span><span class="lit">662</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">308</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">342</span><span class="pun">,</span><span class="pln"> </span><span class="lit">422</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1016</span><span class="pun">,</span><span class="pln"> </span><span class="lit">788</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1164</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1050</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">662</span><span class="pun">,</span><span class="pln"> </span><span class="lit">320</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">650</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">342</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">764</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">776</span><span class="pun">,</span><span class="pln"> </span><span class="lit">868</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1552</span><span class="pun">,</span><span class="pln"> </span><span class="lit">560</span><span class="pun">,</span><span class="pln"> </span><span class="lit">674</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1050</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1278</span><span class="pun">,</span><span class="pln"> </span><span class="lit">742</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1084</span><span class="pun">,</span><span class="pln"> </span><span class="lit">810</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1152</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">422</span><span class="pun">,</span><span class="pln"> </span><span class="lit">764</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">798</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">662</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1210</span><span class="pun">,</span><span class="pln"> </span><span class="lit">754</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1358</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1244</span><span class="pun">,</span><span class="pln"> </span><span class="lit">708</span><span class="pun">,</span><span class="pln"> </span><span class="lit">480</span><span class="pun">,</span><span class="pln"> </span><span class="lit">856</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">844</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">798</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">]</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">]</span><span class="pln"><br><br>&nbsp; demands </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">,</span><span class="pln"> </span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">,</span><span class="pln"> </span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">8</span><span class="pun">]</span><span class="pln"><br><br>&nbsp; time_windows </span><span class="pun">=</span><span class="pln"> </span><span class="pun">\</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">[(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">75</span><span class="pun">,</span><span class="pln"> </span><span class="lit">85</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">75</span><span class="pun">,</span><span class="pln"> </span><span class="lit">85</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">60</span><span class="pun">,</span><span class="pln"> </span><span class="lit">70</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">45</span><span class="pun">,</span><span class="pln"> </span><span class="lit">55</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">8</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">50</span><span class="pun">,</span><span class="pln"> </span><span class="lit">60</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">75</span><span class="pun">,</span><span class="pln"> </span><span class="lit">85</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">85</span><span class="pun">,</span><span class="pln"> </span><span class="lit">95</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">5</span><span class="pun">,</span><span class="pln"> </span><span class="lit">15</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">15</span><span class="pun">,</span><span class="pln"> </span><span class="lit">25</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">45</span><span class="pun">,</span><span class="pln"> </span><span class="lit">55</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">30</span><span class="pun">,</span><span class="pln"> </span><span class="lit">40</span><span class="pun">)]</span><span class="pln"><br><br>&nbsp; data</span><span class="pun">[</span><span class="str">"distances"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> _distances<br>&nbsp; data</span><span class="pun">[</span><span class="str">"num_locations"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> len</span><span class="pun">(</span><span class="pln">_distances</span><span class="pun">)</span><span class="pln"><br>&nbsp; data</span><span class="pun">[</span><span class="str">"num_vehicles"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">4</span><span class="pln"><br>&nbsp; data</span><span class="pun">[</span><span class="str">"depot"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br>&nbsp; data</span><span class="pun">[</span><span class="str">"demands"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> demands<br>&nbsp; data</span><span class="pun">[</span><span class="str">"time_windows"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> time_windows<br>&nbsp; data</span><span class="pun">[</span><span class="str">"time_per_demand_unit"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">5</span><span class="pln"><br>&nbsp; data</span><span class="pun">[</span><span class="str">"vehicle_speed"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">83.33</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> data</span></pre>
    <p>The data consists of:</p>
    <ul>
      <li><code>_distances</code>: The distance matrix—an array of distances between
      locations.</li>
      <li><code>num_vehicles</code>: The number of vehicles in the fleet.</li>
      <li><code>demands</code>: An array of demands, in which <code>demands[i]</code> is the
       demand at location <it>i</it>.</li>
      <li><code>capacities</code>: An array containing the capacity of each vehicle.</li>
      <code>time_windows[i]</code> is the time window at location <it>i</it>.
      <li><code>depot</code>: The index of the  depot in the locations array.
        We assume that all vehicles start at the depot.
        Alternatively, you can
        <a href="https://developers.google.cn/optimization/routing/routing_tasks#allowing-arbitrary-start-and-end-locations">
        allow vehicles to start and end any location</a>.</li>
    </ul>

    <h3 id="distance">Distance callback</h3>
    <p>As in previous routing examples, we create
    a <a href="https://developers.google.cn/optimization/routing/vrp#evaluator">distance callback</a>, which
    returns the distance between any two locations. </p>

    <h3 id="time">Time dimension</h3>
    <p>In addition to the demand
      dimension, the solver also requires a time dimension to take into account the time window
      constraints. To create the time dimension,  we need to calculate the
      following:
    </p>
      <ul>
        <li>The <span style="font-style:italic">service time</span> — how long it takes to
          make a delivery or provide a service at each location. In this example, we assume the
          service time is proportional to the demand at the location</li>
        <li>The <span style="font-style:italic">travel time</span> between locations.
          We assume that all vehicles travel at the same speed, so travel time is just the distance
          between locations divided by the speed.</li>
        <li>The <span style="font-style:italic">total time</span> between locations, which is the
          service time at the starting location plus the travel time to the next location.</li>
    </ul>
    <p>The following sections show the functions that calculate each of these times.</p>

    <h4 id="service_time">Service time</h4>
    <p>The following code calculates the service times at each location. We assume that the service
      time is equal to the demand times a constant, the <code>time_per_demand_unit</code>.</p>
    <pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; </span><span class="kwd">def</span><span class="pln"> service_time</span><span class="pun">(</span><span class="pln">node</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="str">"""Gets the service time for the specified location."""</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> data</span><span class="pun">[</span><span class="str">"demands"</span><span class="pun">][</span><span class="pln">node</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> data</span><span class="pun">[</span><span class="str">"time_per_demand_unit"</span><span class="pun">]</span></pre>

    <h4 id="travel_time">Travel time</h4>
    <p>The following code calculates the travel time between locations, which divides the distance
      between locations by the vehicle's constant speed.</p>
    <pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; </span><span class="kwd">def</span><span class="pln"> travel_time</span><span class="pun">(</span><span class="pln">from_node</span><span class="pun">,</span><span class="pln"> to_node</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="str">"""Gets the travel times between two locations."""</span><span class="pln"><br>&nbsp; &nbsp; travel_time </span><span class="pun">=</span><span class="pln"> data</span><span class="pun">[</span><span class="str">"distances"</span><span class="pun">][</span><span class="pln">from_node</span><span class="pun">][</span><span class="pln">to_node</span><span class="pun">]</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> data</span><span class="pun">[</span><span class="str">"vehicle_speed"</span><span class="pun">]</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> travel_time</span></pre>

    <h4 id="total_time">Time callback</h4>
    <p>The following code creates a callback for the total time between two locations—
    the service time plus the travel time to
      the next location.
    </p>
    <pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="kwd">def</span><span class="pln"> create_time_callback</span><span class="pun">(</span><span class="pln">data</span><span class="pun">):</span><span class="pln"><br>&nbsp; </span><span class="str">"""Creates callback to get total times between locations."""</span><span class="pln"><br>&nbsp; </span><span class="kwd">def</span><span class="pln"> service_time</span><span class="pun">(</span><span class="pln">node</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="str">"""Gets the service time for the specified location."""</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> data</span><span class="pun">[</span><span class="str">"demands"</span><span class="pun">][</span><span class="pln">node</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> data</span><span class="pun">[</span><span class="str">"time_per_demand_unit"</span><span class="pun">]</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">def</span><span class="pln"> travel_time</span><span class="pun">(</span><span class="pln">from_node</span><span class="pun">,</span><span class="pln"> to_node</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="str">"""Gets the travel times between two locations."""</span><span class="pln"><br>&nbsp; &nbsp; travel_time </span><span class="pun">=</span><span class="pln"> data</span><span class="pun">[</span><span class="str">"distances"</span><span class="pun">][</span><span class="pln">from_node</span><span class="pun">][</span><span class="pln">to_node</span><span class="pun">]</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> data</span><span class="pun">[</span><span class="str">"vehicle_speed"</span><span class="pun">]</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> travel_time<br><br>&nbsp; </span><span class="kwd">def</span><span class="pln"> time_callback</span><span class="pun">(</span><span class="pln">from_node</span><span class="pun">,</span><span class="pln"> to_node</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="str">"""Returns the total time between the two nodes"""</span><span class="pln"><br>&nbsp; &nbsp; serv_time </span><span class="pun">=</span><span class="pln"> service_time</span><span class="pun">(</span><span class="pln">from_node</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; trav_time </span><span class="pun">=</span><span class="pln"> travel_time</span><span class="pun">(</span><span class="pln">from_node</span><span class="pun">,</span><span class="pln"> to_node</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> serv_time </span><span class="pun">+</span><span class="pln"> trav_time<br><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> time_callback</span></pre>

    <h4 id="time_dimension">Define the time dimension</h4>
    <p>The section <a href="https://developers.google.cn/optimization/routing/vrp#dimension">Dimension</a> explains dimensions.
      In this example, you need to define a dimension for time.<br>
      You can do so by the following code:
    </p>
    <pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="kwd">def</span><span class="pln"> add_time_window_constraints</span><span class="pun">(</span><span class="pln">routing</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">,</span><span class="pln"> time_callback</span><span class="pun">):</span><span class="pln"><br>&nbsp; </span><span class="str">"""Add time window constraints."""</span><span class="pln"><br>&nbsp; time </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Time"</span><span class="pln"><br>&nbsp; horizon </span><span class="pun">=</span><span class="pln"> </span><span class="lit">120</span><span class="pln"><br>&nbsp; routing</span><span class="pun">.</span><span class="typ">AddDimension</span><span class="pun">(</span><span class="pln"><br>&nbsp; &nbsp; time_callback</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; horizon</span><span class="pun">,</span><span class="pln"> </span><span class="com"># allow waiting time</span><span class="pln"><br>&nbsp; &nbsp; horizon</span><span class="pun">,</span><span class="pln"> </span><span class="com"># maximum time per vehicle</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">False</span><span class="pun">,</span><span class="pln"> </span><span class="com"># Don't force start cumul to zero. This doesn't have any effect in this example,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com"># since the depot has a start window of (0, 0).</span><span class="pln"><br>&nbsp; &nbsp; time</span><span class="pun">)</span></pre>

    <p>The significant inputs to the <code>AddDimension</code> method are the following:
    </p><ul>
      <li><code>time_evaluator</code> — Returns the service time plus travel time
        to the next location.</li>
      <li><code>horizon</code> — An upper bound for the accumulated time over each vehicle's
        route. This sets a global time window of [0,&nbsp;horizon] for all locations. To
        set the individual time windows at each location, you need to set ranges on the cumulative
        variable for time, as shown below in
        <a href="https://developers.google.cn/optimization/routing/cvrptw#time_window_constraints">
          Add time window constraints</a>.</li>
      <li>set the start cumul to zero — Since the value is <code>False</code>, the cumulative
        variable for time is not set to zero at the start of each vehicle's route.</li>
      <li><code>time</code> — The name of the dimension, which you can use to access
        data or variables stored in it.</li>
    </ul>

    <h3 id="time_window_constraints">Add time window constraints</h3>
    <p>The following code adds time window constraints for all locations.</p>
    <pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; time_dimension </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">GetDimensionOrDie</span><span class="pun">(</span><span class="pln">time</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="kwd">for</span><span class="pln"> location_node</span><span class="pun">,</span><span class="pln"> location_time_window </span><span class="kwd">in</span><span class="pln"> enumerate</span><span class="pun">(</span><span class="pln">data</span><span class="pun">[</span><span class="str">"time_windows"</span><span class="pun">]):</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; index </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">NodeToIndex</span><span class="pun">(</span><span class="pln">location_node</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; time_dimension</span><span class="pun">.</span><span class="typ">CumulVar</span><span class="pun">(</span><span class="pln">index</span><span class="pun">).</span><span class="typ">SetRange</span><span class="pun">(</span><span class="pln">location_time_window</span><span class="pun">[</span><span class="lit">0</span><span class="pun">],</span><span class="pln"> location_time_window</span><span class="pun">[</span><span class="lit">1</span><span class="pun">])</span></pre>

    <h4>Cumulative variables</h4>
    <p>Cumulative variables keep track of quantities that accumulate over a vehicle's route. In the
    code above, <code>time_dimension.CumulVar(index)</code> is the cumulative variable for time at
    each location—that is, the total travel time of the vehicle when it arrives at the
    location. So,</p>
    <pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">time_dimension</span><span class="pun">.</span><span class="typ">CumulVar</span><span class="pun">(</span><span class="pln">index</span><span class="pun">).</span><span class="typ">SetRange</span><span class="pun">(</span><span class="pln">location_time_window</span><span class="pun">[</span><span class="lit">0</span><span class="pun">],</span><span class="pln"> location_time_window</span><span class="pun">[</span><span class="lit">1</span><span class="pun">])</span></pre>
      <p>requires the vehicle to arrive at each location during the location's time window.
      </p>

    <h3 id="printer">Define the solution printer</h3>
    <p>The code that outputs the solution is shown below.</p>
<pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="kwd">def</span><span class="pln"> print_solution</span><span class="pun">(</span><span class="pln">data</span><span class="pun">,</span><span class="pln"> routing</span><span class="pun">,</span><span class="pln"> assignment</span><span class="pun">):</span><span class="pln"><br>&nbsp; </span><span class="str">"""Prints assignment on console"""</span><span class="pln"><br>&nbsp; </span><span class="com"># Inspect solution.</span><span class="pln"><br>&nbsp; time_dimension </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">GetDimensionOrDie</span><span class="pun">(</span><span class="str">'Time'</span><span class="pun">)</span><span class="pln"><br>&nbsp; total_dist </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br>&nbsp; time_matrix </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">for</span><span class="pln"> vehicle_id </span><span class="kwd">in</span><span class="pln"> range</span><span class="pun">(</span><span class="pln">data</span><span class="pun">[</span><span class="str">"num_vehicles"</span><span class="pun">]):</span><span class="pln"><br>&nbsp; &nbsp; index </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">Start</span><span class="pun">(</span><span class="pln">vehicle_id</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; plan_output </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Route for vehicle {0}:\n'</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">vehicle_id</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; route_dist </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">while</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">IsEnd</span><span class="pun">(</span><span class="pln">index</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; node_index </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">IndexToNode</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; next_node_index </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">IndexToNode</span><span class="pun">(</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; assignment</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">(</span><span class="pln">routing</span><span class="pun">.</span><span class="typ">NextVar</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)))</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; route_dist </span><span class="pun">+=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">GetArcCostForVehicle</span><span class="pun">(</span><span class="pln">node_index</span><span class="pun">,</span><span class="pln"> next_node_index</span><span class="pun">,</span><span class="pln"> vehicle_id</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; time_var </span><span class="pun">=</span><span class="pln"> time_dimension</span><span class="pun">.</span><span class="typ">CumulVar</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; time_min </span><span class="pun">=</span><span class="pln"> assignment</span><span class="pun">.</span><span class="typ">Min</span><span class="pun">(</span><span class="pln">time_var</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; time_max </span><span class="pun">=</span><span class="pln"> assignment</span><span class="pun">.</span><span class="typ">Max</span><span class="pun">(</span><span class="pln">time_var</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; plan_output </span><span class="pun">+=</span><span class="pln"> </span><span class="str">' {0} Time({1},{2}) -&gt;'</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">node_index</span><span class="pun">,</span><span class="pln"> time_min</span><span class="pun">,</span><span class="pln"> time_max</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; index </span><span class="pun">=</span><span class="pln"> assignment</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">(</span><span class="pln">routing</span><span class="pun">.</span><span class="typ">NextVar</span><span class="pun">(</span><span class="pln">index</span><span class="pun">))</span><span class="pln"><br><br>&nbsp; &nbsp; node_index </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">IndexToNode</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; time_var </span><span class="pun">=</span><span class="pln"> time_dimension</span><span class="pun">.</span><span class="typ">CumulVar</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; route_time </span><span class="pun">=</span><span class="pln"> assignment</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">(</span><span class="pln">time_var</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; time_min </span><span class="pun">=</span><span class="pln"> assignment</span><span class="pun">.</span><span class="typ">Min</span><span class="pun">(</span><span class="pln">time_var</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; time_max </span><span class="pun">=</span><span class="pln"> assignment</span><span class="pun">.</span><span class="typ">Max</span><span class="pun">(</span><span class="pln">time_var</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; total_dist </span><span class="pun">+=</span><span class="pln"> route_dist<br>&nbsp; &nbsp; time_matrix </span><span class="pun">+=</span><span class="pln"> route_time<br>&nbsp; &nbsp; plan_output </span><span class="pun">+=</span><span class="pln"> </span><span class="str">' {0} Time({1},{2})\n'</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">node_index</span><span class="pun">,</span><span class="pln"> time_min</span><span class="pun">,</span><span class="pln"> time_max</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; plan_output </span><span class="pun">+=</span><span class="pln"> </span><span class="str">'Distance of the route: {0} m\n'</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">route_dist</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; plan_output </span><span class="pun">+=</span><span class="pln"> </span><span class="str">'Time of the route: {0} min\n'</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">route_time</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">plan_output</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="kwd">print</span><span class="pun">(</span><span class="str">'Total Distance of all routes: {0} m'</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">total_dist</span><span class="pun">))</span><span class="pln"><br>&nbsp; </span><span class="kwd">print</span><span class="pun">(</span><span class="str">'Total Time of all routes: {0} min'</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">time_matrix</span><span class="pun">))</span></pre>
    <p>The program uses the following variables, returned by the solver, to display the output.</p>
    <pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">load_var </span><span class="pun">=</span><span class="pln"> capacity_dimension</span><span class="pun">.</span><span class="typ">CumulVar</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)</span><span class="pln"><br>time_var </span><span class="pun">=</span><span class="pln"> time_dimension</span><span class="pun">.</span><span class="typ">CumulVar</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)</span></pre>
    <p><code>load_var</code> contains the cumulative <span style="font-style:italic">load</span>
      (just another word for demand) at each location. This is the sum of the demands at the
      previously visited locations on the route.
    </p>
    <p><code>time_var</code> contains the delivery time windows, calculated by the solver, at each
      location. A vehicle can make its delivery at any time in the time window for a location, and
      still make it to the next location on its route within the scheduled delivery time window for
      that location.
    </p>
    <p>In the method <code>print()</code>, for each vehicle we display the route (i.e. the list of
      visited nodes) and compute the distance, the load and the time of the route.<br>
      Note that the distances for each route include the distance from the depot to the first
      location in the route and the distance from the last location back to the depot.
    </p>

    <h3 id="main">Main function</h3>
    <p>This is similar to the previous VRP example, except we add the time window constraints.</p>
<pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="pln">&nbsp; time_callback </span><span class="pun">=</span><span class="pln"> create_time_callback</span><span class="pun">(</span><span class="pln">data</span><span class="pun">)</span><span class="pln"><br>&nbsp; add_time_window_constraints</span><span class="pun">(</span><span class="pln">routing</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">,</span><span class="pln"> time_callback</span><span class="pun">)</span></pre>

    <h3 id="solution">Running the program</h3>
    <p>The complete program is shown in the <a href="https://developers.google.cn/optimization/routing/cvrptw#program">next section</a>.
    When you run the program, it displays the following output:</p>
<pre class="no-select"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div></div>Route for vehicle 0:
 0 Time(0,0) -&gt; 12 Time(5,13) -&gt; 13 Time(17,25) -&gt; 15 Time(45,52) -&gt; 11 Time(88,95) -&gt; 0 Time(99,120)
Distance of the route: 1780 m
Time of the route: 99 min

Route for vehicle 1:
 0 Time(0,3) -&gt; 5 Time(3,6) -&gt; 8 Time(15,18) -&gt; 6 Time(57,60) -&gt; 2 Time(80,85) -&gt; 0 Time(94,120)
Distance of the route: 1712 m
Time of the route: 94 min

Route for vehicle 2:
 0 Time(0,8) -&gt; 7 Time(2,10) -&gt; 4 Time(46,55) -&gt; 3 Time(60,70) -&gt; 1 Time(75,85) -&gt; 0 Time(86,120)
Distance of the route: 1552 m
Time of the route: 86 min

Route for vehicle 3:
 0 Time(0,8) -&gt; 9 Time(2,10) -&gt; 14 Time(10,18) -&gt; 16 Time(32,40) -&gt; 10 Time(76,85) -&gt; 0 Time(92,120)
Distance of the route: 1552 m
Time of the route: 92 min

Total Distance of all routes: 6596 m
Total Time of all routes: 371 min</pre>
    <p>For each location on a route, the output shows:
    </p><ul>
      <li>The index of the location.</li>
      <li>The actual time interval of the visit.</li>
    </ul>
    <p>For example, in the route for vehicle 0, <code>12 Time(5,13)</code> means that
    vehicle 0 visits location 12 from time 5 to time 13. Note that the
    time interval of the visit, <code>(5, 13)</code>, is required to be within the allowed time
    window at that location, which is <code>(5, 15)</code>.</p>
    <p>The routes are shown below. The time interval a vehicle spends at each location
    is shown below the location.
    </p>
    <img src="./Vehicle Routing Problem with Time Windows  _  OR-Tools  _  Google Developers_files/cvrptw_solution.svg">

    <h3 id="program">The complete program</h3>
    <p>The complete program for the capacitated vehicle routing problem with time windows is shown
      below.
    </p>
<pre class="prettyprint lang-python"><div class="devsite-code-button-wrapper"><div class="devsite-code-button gc-analytics-event material-icons devsite-dark-code-button" data-category="Site-Wide Custom Events" data-label="Dark Code Toggle" track-type="exampleCode" track-name="darkCodeToggle" data-tooltip-align="b,c" data-tooltip="深色代码主题" aria-label="深色代码主题" data-title="深色代码主题"></div><div class="devsite-code-button gc-analytics-event material-icons devsite-click-to-copy-button" data-category="Site-Wide Custom Events" data-label="Click To Copy" track-type="exampleCode" track-name="clickToCopy" data-tooltip-align="b,c" data-tooltip="点击复制" aria-label="点击复制" data-title="点击复制"></div></div><span class="str">"""Capacitated Vehicle Routing Problem with Time Windows (CVRPTW).<br>"""</span><span class="pln"><br></span><span class="kwd">from</span><span class="pln"> __future__ </span><span class="kwd">import</span><span class="pln"> print_function<br></span><span class="kwd">from</span><span class="pln"> ortools</span><span class="pun">.</span><span class="pln">constraint_solver </span><span class="kwd">import</span><span class="pln"> pywrapcp<br></span><span class="kwd">from</span><span class="pln"> ortools</span><span class="pun">.</span><span class="pln">constraint_solver </span><span class="kwd">import</span><span class="pln"> routing_enums_pb2<br><br></span><span class="com">###########################</span><span class="pln"><br></span><span class="com"># Problem Data Definition #</span><span class="pln"><br></span><span class="com">###########################</span><span class="pln"><br></span><span class="kwd">def</span><span class="pln"> create_data_model</span><span class="pun">():</span><span class="pln"><br>&nbsp; </span><span class="str">"""Creates the data for the example."""</span><span class="pln"><br>&nbsp; data </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln"><br>&nbsp; </span><span class="com"># Array of distances between locations.</span><span class="pln"><br>&nbsp; _distances </span><span class="pun">=</span><span class="pln"> </span><span class="pun">\</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">[</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">548</span><span class="pun">,</span><span class="pln"> </span><span class="lit">776</span><span class="pun">,</span><span class="pln"> </span><span class="lit">696</span><span class="pun">,</span><span class="pln"> </span><span class="lit">582</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">308</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">776</span><span class="pun">,</span><span class="pln"> </span><span class="lit">662</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">548</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">684</span><span class="pun">,</span><span class="pln"> </span><span class="lit">308</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">696</span><span class="pun">,</span><span class="pln"> </span><span class="lit">742</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1084</span><span class="pun">,</span><span class="pln"> </span><span class="lit">594</span><span class="pun">,</span><span class="pln"> </span><span class="lit">480</span><span class="pun">,</span><span class="pln"> </span><span class="lit">674</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1016</span><span class="pun">,</span><span class="pln"> </span><span class="lit">868</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1210</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">776</span><span class="pun">,</span><span class="pln"> </span><span class="lit">684</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">992</span><span class="pun">,</span><span class="pln"> </span><span class="lit">878</span><span class="pun">,</span><span class="pln"> </span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">810</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">742</span><span class="pun">,</span><span class="pln"> </span><span class="lit">400</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1278</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1164</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1130</span><span class="pun">,</span><span class="pln"> </span><span class="lit">788</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1552</span><span class="pun">,</span><span class="pln"> </span><span class="lit">754</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">696</span><span class="pun">,</span><span class="pln"> </span><span class="lit">308</span><span class="pun">,</span><span class="pln"> </span><span class="lit">992</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">114</span><span class="pun">,</span><span class="pln"> </span><span class="lit">650</span><span class="pun">,</span><span class="pln"> </span><span class="lit">878</span><span class="pun">,</span><span class="pln"> </span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">844</span><span class="pun">,</span><span class="pln"> </span><span class="lit">890</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1232</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">628</span><span class="pun">,</span><span class="pln"> </span><span class="lit">822</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1164</span><span class="pun">,</span><span class="pln"> </span><span class="lit">560</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1358</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">582</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">878</span><span class="pun">,</span><span class="pln"> </span><span class="lit">114</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">764</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">776</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1118</span><span class="pun">,</span><span class="pln"> </span><span class="lit">400</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">708</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1050</span><span class="pun">,</span><span class="pln"> </span><span class="lit">674</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1244</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">650</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">308</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">240</span><span class="pun">,</span><span class="pln"> </span><span class="lit">582</span><span class="pun">,</span><span class="pln"> </span><span class="lit">776</span><span class="pun">,</span><span class="pln"> </span><span class="lit">662</span><span class="pun">,</span><span class="pln"> </span><span class="lit">628</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1050</span><span class="pun">,</span><span class="pln"> </span><span class="lit">708</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">878</span><span class="pun">,</span><span class="pln"> </span><span class="lit">764</span><span class="pun">,</span><span class="pln"> </span><span class="lit">228</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1004</span><span class="pun">,</span><span class="pln"> </span><span class="lit">890</span><span class="pun">,</span><span class="pln"> </span><span class="lit">856</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1278</span><span class="pun">,</span><span class="pln"> </span><span class="lit">480</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">810</span><span class="pun">,</span><span class="pln"> </span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">308</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">342</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">320</span><span class="pun">,</span><span class="pln"> </span><span class="lit">662</span><span class="pun">,</span><span class="pln"> </span><span class="lit">742</span><span class="pun">,</span><span class="pln"> </span><span class="lit">856</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">308</span><span class="pun">,</span><span class="pln"> </span><span class="lit">696</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">844</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">342</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">810</span><span class="pun">,</span><span class="pln"> </span><span class="lit">696</span><span class="pun">,</span><span class="pln"> </span><span class="lit">662</span><span class="pun">,</span><span class="pln"> </span><span class="lit">320</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1084</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">742</span><span class="pun">,</span><span class="pln"> </span><span class="lit">742</span><span class="pun">,</span><span class="pln"> </span><span class="lit">890</span><span class="pun">,</span><span class="pln"> </span><span class="lit">776</span><span class="pun">,</span><span class="pln"> </span><span class="lit">240</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">342</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">422</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">810</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1084</span><span class="pun">,</span><span class="pln"> </span><span class="lit">400</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1232</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1118</span><span class="pun">,</span><span class="pln"> </span><span class="lit">582</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">342</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">878</span><span class="pun">,</span><span class="pln"> </span><span class="lit">764</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1152</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">502</span><span class="pun">,</span><span class="pln"> </span><span class="lit">594</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1278</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">400</span><span class="pun">,</span><span class="pln"> </span><span class="lit">776</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1004</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">810</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">878</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">114</span><span class="pun">,</span><span class="pln"> </span><span class="lit">308</span><span class="pun">,</span><span class="pln"> </span><span class="lit">650</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">844</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">480</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1164</span><span class="pun">,</span><span class="pln"> </span><span class="lit">628</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">662</span><span class="pun">,</span><span class="pln"> </span><span class="lit">890</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">696</span><span class="pun">,</span><span class="pln"> </span><span class="lit">422</span><span class="pun">,</span><span class="pln"> </span><span class="lit">764</span><span class="pun">,</span><span class="pln"> </span><span class="lit">114</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">674</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1130</span><span class="pun">,</span><span class="pln"> </span><span class="lit">822</span><span class="pun">,</span><span class="pln"> </span><span class="lit">708</span><span class="pun">,</span><span class="pln"> </span><span class="lit">628</span><span class="pun">,</span><span class="pln"> </span><span class="lit">856</span><span class="pun">,</span><span class="pln"> </span><span class="lit">320</span><span class="pun">,</span><span class="pln"> </span><span class="lit">662</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">308</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">342</span><span class="pun">,</span><span class="pln"> </span><span class="lit">422</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1016</span><span class="pun">,</span><span class="pln"> </span><span class="lit">788</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1164</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1050</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">662</span><span class="pun">,</span><span class="pln"> </span><span class="lit">320</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">650</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">342</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">764</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">776</span><span class="pun">,</span><span class="pln"> </span><span class="lit">868</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1552</span><span class="pun">,</span><span class="pln"> </span><span class="lit">560</span><span class="pun">,</span><span class="pln"> </span><span class="lit">674</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1050</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1278</span><span class="pun">,</span><span class="pln"> </span><span class="lit">742</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1084</span><span class="pun">,</span><span class="pln"> </span><span class="lit">810</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1152</span><span class="pun">,</span><span class="pln"> </span><span class="lit">274</span><span class="pun">,</span><span class="pln"> </span><span class="lit">388</span><span class="pun">,</span><span class="pln"> </span><span class="lit">422</span><span class="pun">,</span><span class="pln"> </span><span class="lit">764</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">798</span><span class="pun">],</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">[</span><span class="lit">662</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1210</span><span class="pun">,</span><span class="pln"> </span><span class="lit">754</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1358</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1244</span><span class="pun">,</span><span class="pln"> </span><span class="lit">708</span><span class="pun">,</span><span class="pln"> </span><span class="lit">480</span><span class="pun">,</span><span class="pln"> </span><span class="lit">856</span><span class="pun">,</span><span class="pln"> </span><span class="lit">514</span><span class="pun">,</span><span class="pln"> </span><span class="lit">468</span><span class="pun">,</span><span class="pln"> </span><span class="lit">354</span><span class="pun">,</span><span class="pln"> </span><span class="lit">844</span><span class="pun">,</span><span class="pln"> </span><span class="lit">730</span><span class="pun">,</span><span class="pln"> </span><span class="lit">536</span><span class="pun">,</span><span class="pln"> </span><span class="lit">194</span><span class="pun">,</span><span class="pln"> </span><span class="lit">798</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">]</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">]</span><span class="pln"><br><br>&nbsp; demands </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">,</span><span class="pln"> </span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">,</span><span class="pln"> </span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">8</span><span class="pun">]</span><span class="pln"><br><br>&nbsp; time_windows </span><span class="pun">=</span><span class="pln"> </span><span class="pun">\</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">[(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">75</span><span class="pun">,</span><span class="pln"> </span><span class="lit">85</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">75</span><span class="pun">,</span><span class="pln"> </span><span class="lit">85</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">60</span><span class="pun">,</span><span class="pln"> </span><span class="lit">70</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">45</span><span class="pun">,</span><span class="pln"> </span><span class="lit">55</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">8</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">50</span><span class="pun">,</span><span class="pln"> </span><span class="lit">60</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">75</span><span class="pun">,</span><span class="pln"> </span><span class="lit">85</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">85</span><span class="pun">,</span><span class="pln"> </span><span class="lit">95</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">5</span><span class="pun">,</span><span class="pln"> </span><span class="lit">15</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">15</span><span class="pun">,</span><span class="pln"> </span><span class="lit">25</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">45</span><span class="pun">,</span><span class="pln"> </span><span class="lit">55</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">(</span><span class="lit">30</span><span class="pun">,</span><span class="pln"> </span><span class="lit">40</span><span class="pun">)]</span><span class="pln"><br><br>&nbsp; data</span><span class="pun">[</span><span class="str">"distances"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> _distances<br>&nbsp; data</span><span class="pun">[</span><span class="str">"num_locations"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> len</span><span class="pun">(</span><span class="pln">_distances</span><span class="pun">)</span><span class="pln"><br>&nbsp; data</span><span class="pun">[</span><span class="str">"num_vehicles"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">4</span><span class="pln"><br>&nbsp; data</span><span class="pun">[</span><span class="str">"depot"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br>&nbsp; data</span><span class="pun">[</span><span class="str">"demands"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> demands<br>&nbsp; data</span><span class="pun">[</span><span class="str">"time_windows"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> time_windows<br>&nbsp; data</span><span class="pun">[</span><span class="str">"time_per_demand_unit"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">5</span><span class="pln"><br>&nbsp; data</span><span class="pun">[</span><span class="str">"vehicle_speed"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">83.33</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> data<br></span><span class="com">#######################</span><span class="pln"><br></span><span class="com"># Problem Constraints #</span><span class="pln"><br></span><span class="com">#######################</span><span class="pln"><br></span><span class="kwd">def</span><span class="pln"> create_distance_callback</span><span class="pun">(</span><span class="pln">data</span><span class="pun">):</span><span class="pln"><br>&nbsp; </span><span class="str">"""Creates callback to return distance between points."""</span><span class="pln"><br>&nbsp; distances </span><span class="pun">=</span><span class="pln"> data</span><span class="pun">[</span><span class="str">"distances"</span><span class="pun">]</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">def</span><span class="pln"> distance_callback</span><span class="pun">(</span><span class="pln">from_node</span><span class="pun">,</span><span class="pln"> to_node</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="str">"""Returns the manhattan distance between the two nodes"""</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> distances</span><span class="pun">[</span><span class="pln">from_node</span><span class="pun">][</span><span class="pln">to_node</span><span class="pun">]</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> distance_callback<br><br></span><span class="kwd">def</span><span class="pln"> create_time_callback</span><span class="pun">(</span><span class="pln">data</span><span class="pun">):</span><span class="pln"><br>&nbsp; </span><span class="str">"""Creates callback to get total times between locations."""</span><span class="pln"><br>&nbsp; </span><span class="kwd">def</span><span class="pln"> service_time</span><span class="pun">(</span><span class="pln">node</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="str">"""Gets the service time for the specified location."""</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> data</span><span class="pun">[</span><span class="str">"demands"</span><span class="pun">][</span><span class="pln">node</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> data</span><span class="pun">[</span><span class="str">"time_per_demand_unit"</span><span class="pun">]</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">def</span><span class="pln"> travel_time</span><span class="pun">(</span><span class="pln">from_node</span><span class="pun">,</span><span class="pln"> to_node</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="str">"""Gets the travel times between two locations."""</span><span class="pln"><br>&nbsp; &nbsp; travel_time </span><span class="pun">=</span><span class="pln"> data</span><span class="pun">[</span><span class="str">"distances"</span><span class="pun">][</span><span class="pln">from_node</span><span class="pun">][</span><span class="pln">to_node</span><span class="pun">]</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> data</span><span class="pun">[</span><span class="str">"vehicle_speed"</span><span class="pun">]</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> travel_time<br><br>&nbsp; </span><span class="kwd">def</span><span class="pln"> time_callback</span><span class="pun">(</span><span class="pln">from_node</span><span class="pun">,</span><span class="pln"> to_node</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="str">"""Returns the total time between the two nodes"""</span><span class="pln"><br>&nbsp; &nbsp; serv_time </span><span class="pun">=</span><span class="pln"> service_time</span><span class="pun">(</span><span class="pln">from_node</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; trav_time </span><span class="pun">=</span><span class="pln"> travel_time</span><span class="pun">(</span><span class="pln">from_node</span><span class="pun">,</span><span class="pln"> to_node</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> serv_time </span><span class="pun">+</span><span class="pln"> trav_time<br><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> time_callback<br><br></span><span class="kwd">def</span><span class="pln"> add_time_window_constraints</span><span class="pun">(</span><span class="pln">routing</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">,</span><span class="pln"> time_callback</span><span class="pun">):</span><span class="pln"><br>&nbsp; </span><span class="str">"""Add time window constraints."""</span><span class="pln"><br>&nbsp; time </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Time"</span><span class="pln"><br>&nbsp; horizon </span><span class="pun">=</span><span class="pln"> </span><span class="lit">120</span><span class="pln"><br>&nbsp; routing</span><span class="pun">.</span><span class="typ">AddDimension</span><span class="pun">(</span><span class="pln"><br>&nbsp; &nbsp; time_callback</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; horizon</span><span class="pun">,</span><span class="pln"> </span><span class="com"># allow waiting time</span><span class="pln"><br>&nbsp; &nbsp; horizon</span><span class="pun">,</span><span class="pln"> </span><span class="com"># maximum time per vehicle</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">False</span><span class="pun">,</span><span class="pln"> </span><span class="com"># Don't force start cumul to zero. This doesn't have any effect in this example,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com"># since the depot has a start window of (0, 0).</span><span class="pln"><br>&nbsp; &nbsp; time</span><span class="pun">)</span><span class="pln"><br><br>&nbsp; time_dimension </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">GetDimensionOrDie</span><span class="pun">(</span><span class="pln">time</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="kwd">for</span><span class="pln"> location_node</span><span class="pun">,</span><span class="pln"> location_time_window </span><span class="kwd">in</span><span class="pln"> enumerate</span><span class="pun">(</span><span class="pln">data</span><span class="pun">[</span><span class="str">"time_windows"</span><span class="pun">]):</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; index </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">NodeToIndex</span><span class="pun">(</span><span class="pln">location_node</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; time_dimension</span><span class="pun">.</span><span class="typ">CumulVar</span><span class="pun">(</span><span class="pln">index</span><span class="pun">).</span><span class="typ">SetRange</span><span class="pun">(</span><span class="pln">location_time_window</span><span class="pun">[</span><span class="lit">0</span><span class="pun">],</span><span class="pln"> location_time_window</span><span class="pun">[</span><span class="lit">1</span><span class="pun">])</span><span class="pln"><br><br></span><span class="com">###########</span><span class="pln"><br></span><span class="com"># Printer #</span><span class="pln"><br></span><span class="com">###########</span><span class="pln"><br></span><span class="kwd">def</span><span class="pln"> print_solution</span><span class="pun">(</span><span class="pln">data</span><span class="pun">,</span><span class="pln"> routing</span><span class="pun">,</span><span class="pln"> assignment</span><span class="pun">):</span><span class="pln"><br>&nbsp; </span><span class="str">"""Prints assignment on console"""</span><span class="pln"><br>&nbsp; </span><span class="com"># Inspect solution.</span><span class="pln"><br>&nbsp; time_dimension </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">GetDimensionOrDie</span><span class="pun">(</span><span class="str">'Time'</span><span class="pun">)</span><span class="pln"><br>&nbsp; total_dist </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br>&nbsp; time_matrix </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">for</span><span class="pln"> vehicle_id </span><span class="kwd">in</span><span class="pln"> range</span><span class="pun">(</span><span class="pln">data</span><span class="pun">[</span><span class="str">"num_vehicles"</span><span class="pun">]):</span><span class="pln"><br>&nbsp; &nbsp; index </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">Start</span><span class="pun">(</span><span class="pln">vehicle_id</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; plan_output </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Route for vehicle {0}:\n'</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">vehicle_id</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; route_dist </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">while</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">IsEnd</span><span class="pun">(</span><span class="pln">index</span><span class="pun">):</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; node_index </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">IndexToNode</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; next_node_index </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">IndexToNode</span><span class="pun">(</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; assignment</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">(</span><span class="pln">routing</span><span class="pun">.</span><span class="typ">NextVar</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)))</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; route_dist </span><span class="pun">+=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">GetArcCostForVehicle</span><span class="pun">(</span><span class="pln">node_index</span><span class="pun">,</span><span class="pln"> next_node_index</span><span class="pun">,</span><span class="pln"> vehicle_id</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; time_var </span><span class="pun">=</span><span class="pln"> time_dimension</span><span class="pun">.</span><span class="typ">CumulVar</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; time_min </span><span class="pun">=</span><span class="pln"> assignment</span><span class="pun">.</span><span class="typ">Min</span><span class="pun">(</span><span class="pln">time_var</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; time_max </span><span class="pun">=</span><span class="pln"> assignment</span><span class="pun">.</span><span class="typ">Max</span><span class="pun">(</span><span class="pln">time_var</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; plan_output </span><span class="pun">+=</span><span class="pln"> </span><span class="str">' {0} Time({1},{2}) -&gt;'</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">node_index</span><span class="pun">,</span><span class="pln"> time_min</span><span class="pun">,</span><span class="pln"> time_max</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; index </span><span class="pun">=</span><span class="pln"> assignment</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">(</span><span class="pln">routing</span><span class="pun">.</span><span class="typ">NextVar</span><span class="pun">(</span><span class="pln">index</span><span class="pun">))</span><span class="pln"><br><br>&nbsp; &nbsp; node_index </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">IndexToNode</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; time_var </span><span class="pun">=</span><span class="pln"> time_dimension</span><span class="pun">.</span><span class="typ">CumulVar</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; route_time </span><span class="pun">=</span><span class="pln"> assignment</span><span class="pun">.</span><span class="typ">Value</span><span class="pun">(</span><span class="pln">time_var</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; time_min </span><span class="pun">=</span><span class="pln"> assignment</span><span class="pun">.</span><span class="typ">Min</span><span class="pun">(</span><span class="pln">time_var</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; time_max </span><span class="pun">=</span><span class="pln"> assignment</span><span class="pun">.</span><span class="typ">Max</span><span class="pun">(</span><span class="pln">time_var</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; total_dist </span><span class="pun">+=</span><span class="pln"> route_dist<br>&nbsp; &nbsp; time_matrix </span><span class="pun">+=</span><span class="pln"> route_time<br>&nbsp; &nbsp; plan_output </span><span class="pun">+=</span><span class="pln"> </span><span class="str">' {0} Time({1},{2})\n'</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">node_index</span><span class="pun">,</span><span class="pln"> time_min</span><span class="pun">,</span><span class="pln"> time_max</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; plan_output </span><span class="pun">+=</span><span class="pln"> </span><span class="str">'Distance of the route: {0} m\n'</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">route_dist</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; plan_output </span><span class="pun">+=</span><span class="pln"> </span><span class="str">'Time of the route: {0} min\n'</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">route_time</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">plan_output</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="kwd">print</span><span class="pun">(</span><span class="str">'Total Distance of all routes: {0} m'</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">total_dist</span><span class="pun">))</span><span class="pln"><br>&nbsp; </span><span class="kwd">print</span><span class="pun">(</span><span class="str">'Total Time of all routes: {0} min'</span><span class="pun">.</span><span class="pln">format</span><span class="pun">(</span><span class="pln">time_matrix</span><span class="pun">))</span><span class="pln"><br><br><br></span><span class="com">########</span><span class="pln"><br></span><span class="com"># Main #</span><span class="pln"><br></span><span class="com">########</span><span class="pln"><br></span><span class="kwd">def</span><span class="pln"> main</span><span class="pun">():</span><span class="pln"><br>&nbsp; </span><span class="str">"""Entry point of the program"""</span><span class="pln"><br>&nbsp; data </span><span class="pun">=</span><span class="pln"> create_data_model</span><span class="pun">()</span><span class="pln"><br><br>&nbsp; </span><span class="com"># Create Routing Model</span><span class="pln"><br>&nbsp; routing </span><span class="pun">=</span><span class="pln"> pywrapcp</span><span class="pun">.</span><span class="typ">RoutingModel</span><span class="pun">(</span><span class="pln">data</span><span class="pun">[</span><span class="str">"num_locations"</span><span class="pun">],</span><span class="pln"> data</span><span class="pun">[</span><span class="str">"num_vehicles"</span><span class="pun">],</span><span class="pln"> data</span><span class="pun">[</span><span class="str">"depot"</span><span class="pun">])</span><span class="pln"><br>&nbsp; </span><span class="com"># Define weight of each edge</span><span class="pln"><br>&nbsp; distance_callback </span><span class="pun">=</span><span class="pln"> create_distance_callback</span><span class="pun">(</span><span class="pln">data</span><span class="pun">)</span><span class="pln"><br>&nbsp; routing</span><span class="pun">.</span><span class="typ">SetArcCostEvaluatorOfAllVehicles</span><span class="pun">(</span><span class="pln">distance_callback</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="com"># Add Time Window constraint</span><span class="pln"><br>&nbsp; time_callback </span><span class="pun">=</span><span class="pln"> create_time_callback</span><span class="pun">(</span><span class="pln">data</span><span class="pun">)</span><span class="pln"><br>&nbsp; add_time_window_constraints</span><span class="pun">(</span><span class="pln">routing</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">,</span><span class="pln"> time_callback</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="com"># Setting first solution heuristic (cheapest addition).</span><span class="pln"><br>&nbsp; search_parameters </span><span class="pun">=</span><span class="pln"> pywrapcp</span><span class="pun">.</span><span class="typ">RoutingModel</span><span class="pun">.</span><span class="typ">DefaultSearchParameters</span><span class="pun">()</span><span class="pln"><br>&nbsp; search_parameters</span><span class="pun">.</span><span class="pln">first_solution_strategy </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln"><br>&nbsp; &nbsp; routing_enums_pb2</span><span class="pun">.</span><span class="typ">FirstSolutionStrategy</span><span class="pun">.</span><span class="pln">PATH_CHEAPEST_ARC</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="com"># Solve the problem.</span><span class="pln"><br>&nbsp; assignment </span><span class="pun">=</span><span class="pln"> routing</span><span class="pun">.</span><span class="typ">SolveWithParameters</span><span class="pun">(</span><span class="pln">search_parameters</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> assignment</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; printer </span><span class="pun">=</span><span class="pln"> print_solution</span><span class="pun">(</span><span class="pln">data</span><span class="pun">,</span><span class="pln"> routing</span><span class="pun">,</span><span class="pln"> assignment</span><span class="pun">)</span><span class="pln"><br><br></span><span class="kwd">if</span><span class="pln"> __name__ </span><span class="pun">==</span><span class="pln"> </span><span class="str">'__main__'</span><span class="pun">:</span><span class="pln"><br>&nbsp; main</span><span class="pun">()</span></pre>
    <p>There are several examples of vehicle routing problems with other types of constraints
      <a href="https://github.com/google/or-tools/tree/master/examples">on GitHub</a> (look for
      examples that have "vrp" in their names.)
    </p>
  
  </div>
  

  
        
  







        
<div class="devsite-content-footer nocontent">
  
  
    <p>Except as otherwise noted, the content of this page is licensed under the <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License</a>, and code samples are licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For details, see our <a href="https://developers.google.cn/terms/site-policies">Site Policies</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
  

  
    
    <p class="devsite-content-footer-date" itemprop="datePublished" content="2019-01-03T19:46:45.834389">
      
      上次更新日期：一月 3, 2019
    </p>
  

</div>

        </article>
      </article>
  

        </div>
      

<footer class="devsite-footer-promos nocontent"><nav class="devsite-full-site-width"><ul class="devsite-footer-promos-list"><li class="devsite-footer-promo"><a href="http://github.com/google/or-tools" class="devsite-footer-promo-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Content Page Footer Promo"><img class="devsite-footer-promo-icon" src="./Vehicle Routing Problem with Time Windows  _  OR-Tools  _  Google Developers_files/logo-github.svg">
          
          
            GitHub
          
        </a><div class="devsite-footer-promo-description">Download our code</div></li><li class="devsite-footer-promo"><a href="https://groups.google.com/forum/#!forum/or-tools-discuss" class="devsite-footer-promo-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Content Page Footer Promo" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。"><img class="devsite-footer-promo-icon" src="./Vehicle Routing Problem with Time Windows  _  OR-Tools  _  Google Developers_files/groups_24dp.png">
          
          
            Discussion forum
          
        </a><div class="devsite-footer-promo-description">Visit our forum</div></li><li class="devsite-footer-promo"><a href="http://or-tools.blogspot.com/" class="devsite-footer-promo-title gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Content Page Footer Promo" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。"><img class="devsite-footer-promo-icon" src="./Vehicle Routing Problem with Time Windows  _  OR-Tools  _  Google Developers_files/blogger_24dp.png">
          
          
            Blog
          
        </a><div class="devsite-footer-promo-description">Read our blog</div></li></ul></nav></footer><footer class="devsite-footer-linkboxes nocontent
               devsite-footer-linkboxes-all-backup
               devsite-footer-linkboxes-with-sites"><nav class="devsite-full-site-width"><ul class="devsite-footer-linkboxes-list"><li class="devsite-footer-linkbox devsite-footer-linkbox-backup"><h3 class="devsite-footer-linkbox-heading">社交沟通</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="http://developers.googleblog.cn/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Blog Link">
                博客
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://www.facebook.com/Google-Developers-967415219957038/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Facebook Link">
                Facebook
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://plus.google.com/+GoogleDevelopers" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer G+ Link" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Google+
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://medium.com/google-developers" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Medium Link">
                Medium
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://twitter.com/googledevs" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Twitter Link">
                Twitter
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://www.youtube.com/channel/UCQqa5UIHtrnpiADC3eHFupw" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer YouTube Link" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                YouTube
            </a></li></ul></li><li class="devsite-footer-linkbox devsite-footer-linkbox-backup"><h3 class="devsite-footer-linkbox-heading">计划</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://www.womentechmakers.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Women Techmakers">
                Women Techmakers
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.cn/agency/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Agency">
                Agency Program
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.cn/groups/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Groups">
                GDG
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.cn/experts/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Experts">
                Google Developers Experts
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.cn/startups/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Startups">
                Startup Launchpad
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://userresearch.google.com/?reserved=0&amp;utm_source=developers.google.com&amp;Q_Language=en&amp;utm_medium=own_srch&amp;utm_campaign=Global-developers&amp;utm_term=0&amp;utm_content=0&amp;productTag=clou&amp;campaignDate=nov18&amp;pType=devel&amp;referral_code=js564523" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer User Studies" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                User Studies
            </a></li></ul></li><li class="devsite-footer-linkbox devsite-footer-linkbox-backup"><h3 class="devsite-footer-linkbox-heading">开发者控制台</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://console.developers.google.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Google API Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://console.cloud.google.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Google Cloud Platform Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Google Cloud Platform Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://play.google.com/apps/publish/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Google Play Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Google Play Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://console.firebase.google.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Firebase Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Firebase Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://console.actions.google.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Actions on Google Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Actions on Google Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cast.google.com/publish/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Cast SDK Developer Console" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Cast SDK Developer Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://chrome.google.com/webstore/developer/dashboard" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Chrome Web Store Developer Dashboard" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Chrome Web Store Dashboard
            </a></li></ul></li><li class="devsite-footer-linkbox devsite-footer-linkbox-sites"><a href="https://developers.google.cn/" class="gc-analytics-event devsite-footer-linkbox-logo-link" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link"><img class="devsite-footer-linkbox-logo" src="./Vehicle Routing Problem with Time Windows  _  OR-Tools  _  Google Developers_files/lockup-color-knockout.png" alt="Google Developers"></a><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://developer.android.google.cn/index.html" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Android Link">
                Android
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developer.chrome.com/home" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Chrome Link" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Chrome
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://firebase.google.cn/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Firebase Link">
                Firebase
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://cloud.google.com/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Cloud Link" data-tooltip-align="b,c" data-tooltip="您所在的区域可能无法访问此链接。" aria-label="您所在的区域可能无法访问此链接。">
                Google Cloud Platform
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.cn/products/" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Footer Products Link">
                所有产品
            </a></li></ul></li></ul></nav></footer><footer class="devsite-utility-footer"><nav class="devsite-utility-footer-nav devsite-nav devsite-full-site-width"><div class="devsite-utility-footer-nav-left"><form class="devsite-utility-footer-language" action="https://developers.google.cn/i18n/setlang/" method="post"><input type="hidden" name="xsrf_token" value="BoYNt2jbeWMkuhU9RxYi_Z3cGfh6Q27jtQPQga3OGrc6MTU0NzAxNzYxMjE1NTg1Nw"><input type="hidden" name="next" value="/optimization/routing/cvrptw"><select class="devsite-utility-footer-language-select kd-select" name="language" track-type="languageSelector" track-name="click" style="display: none;"><option value="id" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="id" track-metadata-original-language="zh-cn" track-metadata-selected-language="id">
            Bahasa Indonesia
          </option><option value="de" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="de" track-metadata-original-language="zh-cn" track-metadata-selected-language="de">
            Deutsch
          </option><option value="en" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="en" track-metadata-original-language="zh-cn" track-metadata-selected-language="en">
            English
          </option><option value="es" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="es" track-metadata-original-language="zh-cn" track-metadata-selected-language="es">
            español
          </option><option value="fr" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="fr" track-metadata-original-language="zh-cn" track-metadata-selected-language="fr">
            français
          </option><option value="pt-br" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="pt-br" track-metadata-original-language="zh-cn" track-metadata-selected-language="pt-br">
            Português Brasileiro
          </option><option value="ru" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ru" track-metadata-original-language="zh-cn" track-metadata-selected-language="ru">
            Русский
          </option><option value="ja" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ja" track-metadata-original-language="zh-cn" track-metadata-selected-language="ja">
            日本語
          </option><option value="zh-cn" selected="selected" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="zh-cn" track-metadata-original-language="zh-cn" track-metadata-selected-language="zh-cn">
            简体中文
          </option><option value="ko" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ko" track-metadata-original-language="zh-cn" track-metadata-selected-language="ko">
            한국어
          </option></select><span class="kd-button kd-menubutton kd-select" track-type="languageSelector" track-name="click"><div class="label">
            简体中文
          </div><div class="kd-disclosureindicator"></div></span></form><span class="devsite-utility-footer-links"><a class="devsite-utility-footer-link gc-analytics-event" href="https://developers.google.cn/terms/site-terms" data-category="Site-Wide Custom Events" data-label="Footer terms link" data-footer-link-id="terms">条款
         </a><a class="devsite-utility-footer-link gc-analytics-event" href="https://policies.google.cn/privacy" data-category="Site-Wide Custom Events" data-label="Footer privacy link" data-footer-link-id="privacy" data-cookie-policy="//policies.google.cn/technologies/cookies">隐私权
         </a></span></div></nav></footer><div class="devsite-feedback-dialog devsite-dialog"><div class="devsite-dialog-contents"><h3>发送以下问题的反馈：</h3><div class="devsite-feedback-item"><a data-type="documentation" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Docs Feedback Image" track-type="feedback" track-name="feedbackDocIcon" track-metadata-position="header"><div class="devsite-feedback-item-icon-container"><div class="devsite-feedback-item-icon-white devsite-feedback-item-icon-docs
                        material-icons"></div></div></a><div class="devsite-feedback-item-name">
          
          此网页
        </div><div class="devsite-feedback-item-description"><a data-type="documentation" tabindex="0" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Docs Feedback Text" track-type="feedback" track-name="feedbackDocText" track-metadata-position="header">
            
            文档反馈
          </a></div></div><div class="devsite-feedback-item"><a data-type="product" tabindex="0" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Product Feedback Image" track-type="feedback" track-name="feedbackProductIcon" track-metadata-position="header"><img src="./Vehicle Routing Problem with Time Windows  _  OR-Tools  _  Google Developers_files/orLogo.png" class="devsite-feedback-item-icon" alt="OR-Tools"></a><div class="devsite-feedback-item-name">
        OR-Tools
        </div><div class="devsite-feedback-item-description"><a data-type="product" tabindex="0" class="gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Product Feedback Text" track-type="feedback" track-name="feedbackProductText" track-metadata-position="header">
            
            产品反馈
          </a></div></div></div><div class="devsite-dialog-buttons"><button type="button" class="devsite-feedback-cancel button-white gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Cancel Feedback Button" track-type="feedback" track-name="cancelFeedbackButton" track-metadata-position="header">
        
        取消
      </button></div></div><script>
  $(document).ready(function() {
    new devsite.feedback.Widget({
        'product_id': '106275',
        'bucket': '',
        'context': 'DevSite feedback link',
        'version': 'devsite-20190107-r00-rc01.default'
      },
      document.querySelectorAll('.devsite-feedback-button'),
      'zh-cn',
      document.querySelector('.devsite-site-mask'),
      document.querySelector('.devsite-feedback-dialog'),
      document.querySelector('.devsite-feedback-cancel'),
      document.querySelectorAll('.devsite-feedback-item a:not([href])')
    );
  });
  </script></div><script async="" defer="" src="./Vehicle Routing Problem with Time Windows  _  OR-Tools  _  Google Developers_files/api.js"></script><script src="./Vehicle Routing Problem with Time Windows  _  OR-Tools  _  Google Developers_files/saved_resource"></script><script src="./Vehicle Routing Problem with Time Windows  _  OR-Tools  _  Google Developers_files/script_foot_closure__zh_cn.js"></script><script src="./Vehicle Routing Problem with Time Windows  _  OR-Tools  _  Google Developers_files/script_foot.js"></script><script>
        (function($) {
          
          devsite.devsite.Init($, {'ENABLE_BLOCKED_VIDEO_PLACEHOLDER': 1, 'SITE_NAME': 'devsite_china', 'FULL_SITE_SEARCH_ENABLED': 0, 'ENABLE_CLOUDTRACK': 0, 'VTAGS_ENABLED': 0, 'HISTORY_ENABLED': 0, 'SIDEBAR_MINI_ENABLED': 0, 'VERSION_HASH': '0ee1984e83', 'SCRIPTSAFE_DOMAIN': 'google-developers.gonglchuangl.net', 'ENABLE_BLOCKED_LINK_TOOLTIP': 1, 'ALLOWED_HOSTS': ['.android.com', '.appspot.com', '.gonglchuangl.net', '.google.cn', '.google.com', '.googleplex.com', '.tensorflow.org'], 'BLOCK_RSS_FEEDS': 1},
                               '[]','zh-cn',
                               true, '',
                               {"8e03e230de0bd8a6fe173fdf172e8b3f": true, "8de7a048f21618359bd37f5ce44be073": false, "cb025a64a50094835616312f4774a53d": true, "51470233c56fc1fde50f00b73c52b216": false, "d169d485cf24243a263783dbe42029b1": true, "039e5d84b87fd75807ffb37b7f1bbf2c": true, "700def1a83e356c06c0925afb05de4b0": false, "6749dcb526ce9bde6993550c7d928d24": true, "098dafe57affddc137df300142652cfd": false}, '/optimization/',
                               'https://developers.google.cn/');
        })(jQuery);

        
        devsite.localInit = function() {
          
        };

      </script><script>
      $('.devsite-utility-footer-language-select').each(function() {
        $(this).change(function(){$('.devsite-utility-footer-language').submit();});
      });
      </script></div><span id="devsite-request-elapsed" data-request-elapsed="176.774024963"></span>
<ul class="kd-menulist devsite-hidden" style="left: 23.9946px; right: auto; top: 12663.4px;"><li class="kd-menulistitem" value="id" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="id" track-metadata-original-language="zh-cn" track-metadata-selected-language="id">
            Bahasa Indonesia
          </li><li class="kd-menulistitem" value="de" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="de" track-metadata-original-language="zh-cn" track-metadata-selected-language="de">
            Deutsch
          </li><li class="kd-menulistitem" value="en" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="en" track-metadata-original-language="zh-cn" track-metadata-selected-language="en">
            English
          </li><li class="kd-menulistitem" value="es" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="es" track-metadata-original-language="zh-cn" track-metadata-selected-language="es">
            español
          </li><li class="kd-menulistitem" value="fr" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="fr" track-metadata-original-language="zh-cn" track-metadata-selected-language="fr">
            français
          </li><li class="kd-menulistitem" value="pt-br" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="pt-br" track-metadata-original-language="zh-cn" track-metadata-selected-language="pt-br">
            Português Brasileiro
          </li><li class="kd-menulistitem" value="ru" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ru" track-metadata-original-language="zh-cn" track-metadata-selected-language="ru">
            Русский
          </li><li class="kd-menulistitem" value="ja" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ja" track-metadata-original-language="zh-cn" track-metadata-selected-language="ja">
            日本語
          </li><li class="kd-menulistitem devsite-selected-option" value="zh-cn" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="zh-cn" track-metadata-original-language="zh-cn" track-metadata-selected-language="zh-cn">
            简体中文
          </li><li class="kd-menulistitem" value="ko" track-type="languageSelector" track-name="changed" track-metadata-eventdetail="ko" track-metadata-original-language="zh-cn" track-metadata-selected-language="ko">
            한국어
          </li></ul></body></html>